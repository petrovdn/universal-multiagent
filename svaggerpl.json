{"swagger":"2.0","info":{"title":"API платформы Project Lad","description":"Описание всех эндпоинтов платформы","version":"0.1.0"},"definitions":{"def-0":{"type":"object","properties":{"baseEntity":{"type":"object","properties":{"work_id":{"type":"string","maxLength":21,"minLength":21,"description":"Идентификатор работы"},"add_time":{"type":"string","format":"date-time","description":"Дата добавления"},"update_time":{"type":"string","format":"date-time","description":"Дата обновления"},"delete_time":{"type":"string","format":"date-time","description":"Дата удаления"},"add_user_id":{"type":"string","description":"ID пользователя, создавшего сущность"},"update_user_id":{"type":"string","description":"ID пользователя, обновившего сущность"},"id":{"type":"string","maxLength":21,"minLength":21,"description":"Primary key"},"message":{"type":"string","description":"Информационное сообщение"},"project_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"Сквозной ID"},"description":{"type":"string","description":"Описание сущности"},"project_version_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта"},"project_type_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID типа проекта"},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"}},"required":["add_time","update_time","id"]},"space":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование пространства"},"description":{"type":["string","null"],"maxLength":500,"default":null,"description":"Описание пространства"}}},"ProjectVersion":{"type":"object","properties":{"status":{"type":"string","enum":["current","archive","draft","model"]},"is_actual":{"description":"Признак актуальности модели","type":["null","boolean"],"default":false},"actual_fact_border_time":{"description":"Граница актуального факта","type":["null","string"],"format":"date"},"model_description":{"description":"Описание модели","type":["null","string"],"maxLength":500},"responsible_user_id":{"type":["null","string"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21}},"required":["status"]},"projectItem":{"type":"object","properties":{"deadline_time":{"type":["null","string"],"format":"date","description":"Дата дедлайна","default":null},"deadline_direction":{"type":["null","string"],"enum":["jit","asap"],"description":"Направление дедлайна","default":"jit"},"delay_common_calendar_days":{"type":["null","number"],"description":"Общий резерв в календарных днях","default":null},"delay_common_work_days":{"type":["null","number"],"description":"Общий резерв в рабочих днях","default":null},"space_id":{"type":"string","description":"ID пространства пользователя","minLength":21,"maxLength":21},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"finish_time":{"type":["string","null"],"format":"date","description":"Время завершения","default":null},"parent_id":{"type":["null","string"],"description":"ID родительского элемента","minLength":21,"maxLength":21,"default":null},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"item_type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"title":{"description":"Наименование элемента проекта","type":"string"},"description":{"type":["null","string"],"description":"Описание элемента","default":null},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"duration_calendar_days":{"type":["null","number"],"description":"Длительность элемента в календарных днях","minimum":1},"duration_work_days":{"type":["null","number"],"minimum":0,"description":"Длительность элемента в рабочих днях"},"duration_work_shifts":{"type":["null","number"],"description":"Длительность элемента в рабочих сменах"},"duration_work_hours":{"type":["null","number"],"description":"Длительность элемента в рабочих часах"},"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"start_time_min":{"type":["null","string"],"format":"date","description":"Минимальная дата начала","default":null},"start_time_max":{"type":["null","string"],"format":"date","description":"Максимальная дата начала","default":null},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"end_time_min":{"type":["null","string"],"format":"date","description":"Минимальная дата окончания","default":null},"end_time_max":{"type":["null","string"],"format":"date","description":"Максимальная дата окончания","default":null},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"},"calendar_id":{"description":"ID календаря","type":["null","string"]},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"},"lock_start_time":{"type":"boolean","description":"Признак заблокированной даты начала"},"lock_end_time":{"type":"boolean","description":"Признак заблокированной даты окончания"},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}}},"required":["status"]},"dependency":{"type":"object","properties":{"id":{"type":"string","description":"ID связи","minLength":21,"maxLength":21},"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"predecessor_item_id":{"type":"string","description":"ID предшественника","minLength":21,"maxLength":21},"successor_item_id":{"type":"string","description":"ID последователя","minLength":21,"maxLength":21},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"percent":{"type":["null","integer"],"minimum":0,"maximum":100,"description":"Сдвиг по связи в процентах","default":null},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"event_time":{"type":["null","string"],"format":"date","description":"Дата события источника","default":null},"target_time":{"type":["null","string"],"format":"date","description":"Целевая дата связи","default":null},"implicit":{"type":"boolean","description":"Признак неявной связи","default":false},"implicit_comment":{"type":["null","string"],"description":"Комментарий к неявной связи","default":null},"conflict":{"type":"boolean","description":"Признак наличия конфликта у связи","default":false},"conflict_source_time":{"type":["null","string"],"format":"date","description":"Исходная целевая дата конфликтной связи","default":null},"conflict_comment":{"type":["null","string"],"description":"Комментарий к конфликту связи","default":null},"effective":{"type":"boolean","description":"Признак действующей связи","default":false},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"delete_time":{"type":["string","null"],"format":"date-time","description":"Время удаления"},"space_id":{"type":"string","description":"ID пространства пользователя","minLength":21,"maxLength":21},"add_user_id":{"type":"string","description":"Пользователь создавший запись","minLength":21,"maxLength":21},"update_user_id":{"type":"string","description":"Пользователь обновивший запись","minLength":21,"maxLength":21}}},"itemIndicatorValue":{"$id":"ItemIndicatorValue","type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":["number","null"],"description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}},"additionalProperties":false,"required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"],"title":"ItemIndicatorValue"},"itemIndicatorValueRead":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["null","boolean"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики"},"analytics_element_title":{"type":["null","string"],"description":"Название элемента аналитики"},"analytics_catalog_id":{"type":["null","string"],"description":"ID каталога аналитики"},"analytics_catalog_title":{"type":["null","string"],"description":"Название каталога аналитики"},"dependency_value_id":{"type":["null","string"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["null","string"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["null","number"],"description":"Множитель значение"},"recalculate_input":{"type":["null","string"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["null","number"],"description":"Ставка"},"rate_min":{"type":["null","number"],"description":"Ставка минимальная"},"rate_max":{"type":["null","number"],"description":"Ставка максимальная"},"volume":{"type":["null","number"],"description":"Объем"},"calendar_apply":{"type":["null","string"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["null","number"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["null","number"],"nullable":true,"default":null},"unit_id":{"type":["null","string"],"description":"ID единицы измерения"},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}},"additionalProperties":false,"required":["id","composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","unit_id","distribution_rule","is_progress_dependent"]},"itemAttributeValue":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]},"itemAttributeValueFromDB":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"project_item_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["id","project_item_id","project_version_id","attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]},"itemAttributeValueRead":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":["string"],"description":"Значение атрибута приведенное к строке"}},"additionalProperties":false,"required":["id","attribute_composition_id","value"]},"itemAttributeCompositionForm":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"required":{"type":"boolean","description":"Флаг обязательности заполнения значения"},"changed":{"type":"boolean","description":"Возможность изменения значения атрибута"}},"additionalProperties":false,"required":["id","attribute_id","attribute_title","attribute_constraint","required","changed"]},"projectAttributeValue":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]},"credentials":{"type":"object","properties":{"user_id":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21},"space_id":{"$ref":"#/definitions/def-0/properties/space_id"}},"required":["user_id","space_id"],"additionalProperties":false},"space_id":{"type":"string","description":"ID пространства","minLength":21,"maxLength":21}},"title":"shared.json"},"def-1":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":["number","null"],"description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}},"additionalProperties":false,"required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"],"title":"ItemIndicatorValue"},"def-2":{"type":"object","properties":{"coefficient":{"type":"object","required":["item_id","parent_id","item_title","item_code","is_active","value"],"additionalProperties":false,"properties":{"item_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21},"parent_id":{"description":"Идентификатор родительского элемента","type":["null","string"]},"item_title":{"description":"Наименование элемента","type":"string"},"item_code":{"description":"Код элемента","type":["null","string"]},"is_active":{"description":"Признак выбранного элемента","type":"boolean"},"value":{"description":"Числовое значение","type":["null","number"]},"percent":{"description":"Числовое значение","type":["null","number"]},"children":{"type":"array","items":{"$ref":"#/definitions/def-2/properties/coefficient"}}}},"aggregation_settings":{"type":"object","required":["aggregation_rule","count_added","coefficient_rule","coefficients","indicator_id","analytics_element_id","copy_to_groups"],"additionalProperties":false,"properties":{"aggregation_rule":{"description":"Правило агрегации","type":"string","enum":["auto","manual"]},"count_added":{"description":"Признак \"Учитывать добавляемые сущности\"","type":"boolean"},"coefficient_rule":{"description":"Правило определения коэффициента","type":["null","string"],"enum":["evenly_across_selected","evenly_only_common","evenly_first_level","by_indicator_value",null]},"total_sum":{"description":"Общая сумма коэффициентов","type":"number"},"indicator_id":{"type":["null","string"],"description":"ID показателя из справочника","minLength":21,"maxLength":21},"analytics_element_id":{"type":["null","string"],"description":"ID значения аналитики","minLength":21,"maxLength":21},"copy_to_groups":{"description":"Признак \"Перенести настройки в группы проекта\"","type":"boolean"},"coefficients":{"type":"array","items":{"$ref":"#/definitions/def-2/properties/coefficient"}}}},"credentials":{"type":"object","required":["user_id","space_id"],"additionalProperties":false,"properties":{"user_id":{"description":"Идентификатор пользователя","type":"string"},"space_id":{"description":"Идентификатор пространства","type":"string"},"is_application":{"description":"Признак запроса от приложения","type":"boolean"}}},"itemTree":{"type":"object","required":["id","original_id","parent_id","item_type","code","title","start_time","end_time","level","completion_date","fact_last_date","fact_main_last_date","status","progress","has_main_result"],"properties":{"id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21},"parent_id":{"description":"Идентификатор родительского элемента","type":["string","null"]},"item_type":{"description":"Тип элемента","type":"string","enum":["parent","common","milestone","pointer"]},"code":{"description":"Код элемента","type":["string","null"]},"title":{"description":"Наименование элемента","type":"string"},"start_time":{"description":"Дата начала элемента","type":["string","null"]},"end_time":{"description":"Дата окончания элемента","type":["string","null"]},"level":{"description":"Уровень вложенности","type":"number"},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":["string","null"]},"fact_last_date":{"description":"Дата последнего факта (в формате YYYY-MM-DD)","type":["string","null"]},"fact_main_last_date":{"description":"Дата последнего факта (в формате YYYY-MM-DD)","type":["string","null"]},"status":{"description":"Статус элемента","type":"string","enum":["not_started","in_progress","completed"]},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}},"has_main_result":{"type":"boolean","description":"Признак наличия основного результата"},"children":{"type":"array","items":{"$ref":"#/definitions/def-2/properties/itemTree"}}}}},"title":"vcd.json"},"def-3":{"type":"object","properties":{"title":{"type":"string","description":"Наименование файла"},"extension":{"type":"string","description":"Расширение файла"},"size_bytes":{"type":"integer","description":"Размер файла в байтах"},"add_time":{"type":"string","format":"date-time","description":"Дата добавления"},"update_time":{"type":"string","format":"date-time","description":"Дата обновления"},"delete_time":{"type":["string","null"],"format":"date-time","description":"Дата удаления"},"add_user_id":{"type":"string","description":"ID пользователя, создавшего сущность"},"update_user_id":{"type":"string","description":"ID пользователя, обновившего сущность"},"id":{"type":"string","maxLength":21,"minLength":21,"description":"Primary key"},"project_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта"},"project_version_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта"},"space_id":{"type":"string","description":"ID пространства","minLength":21,"maxLength":21},"fact_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID факта"},"s3Storage":{"type":"object","properties":{"type":{"type":"string","const":"s3"},"context":{"type":"object","properties":{"bucket":{"type":"string","enum":["public"]},"key":{"type":"string","description":"Ключ в s3"},"key_medium":{"type":"string","description":"Ключ в s3 для medium"},"key_small":{"type":"string","description":"Ключ в s3 для small"}},"required":["key","bucket"]}},"required":["type","context"]},"storage":{"anyOf":[{"$ref":"#/definitions/def-3/properties/s3Storage"}]},"context":{"type":"object","properties":{"project_id":{"$ref":"#/definitions/def-3/properties/project_id"},"entity":{"$ref":"#/definitions/def-3/properties/entity"},"fact_id":{"$ref":"#/definitions/def-3/properties/fact_id"},"bound_to":{"$ref":"#/definitions/def-3/properties/bound_to"},"file_type":{"$ref":"#/definitions/def-3/properties/context_file_type"}},"required":[]},"bound_to":{"type":"string","enum":["space","project","entity","fact"]},"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21}},"required":["type","id"]},"entity_type":{"type":"string","enum":["common","milestone"],"description":"Тип сущности графика"},"date_from":{"type":"string","description":"Дата от включительно"},"date_to":{"type":"string","description":"Дата до включительно"},"file":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"update_time":{"$ref":"#/definitions/def-3/properties/update_time"},"delete_time":{"$ref":"#/definitions/def-3/properties/delete_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"add_user_id":{"$ref":"#/definitions/def-3/properties/add_user_id"},"update_user_id":{"$ref":"#/definitions/def-3/properties/update_user_id"},"storage":{"$ref":"#/definitions/def-3/properties/storage"},"space_id":{"$ref":"#/definitions/def-3/properties/space_id"},"context":{"$ref":"#/definitions/def-3/properties/context"},"comment":{"type":["string","null"],"description":"Комментарий"}},"required":["id","add_time","update_time","delete_time","title","extension","size_bytes","add_user_id","update_user_id","storage","space_id","context"]},"context_file_type":{"type":"string","enum":["image","document"],"description":"Тип файла"},"comment":{"type":["string","null"],"description":"Комментарий","maxLength":255}},"title":"file-storage.shared.json"},"def-4":{"type":"object","properties":{"project_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта"},"project_version_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID версии"},"project_title":{"type":"string","description":"Название проекта"},"indicator_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID показателя"},"space_id":{"type":"string","description":"ID пространства","minLength":21,"maxLength":21},"date":{"type":"string","format":"date","description":"Дата"}},"title":"cold-storage.shared.json"},"def-5":{"type":"object","properties":{"title":{"type":"string","description":"Название приложения","minLength":1,"maxLength":30},"description":{"type":"string","description":"Описание приложения"},"detailed_description":{"type":"string","description":"Подробное описание приложения"},"cover":{"oneOf":[{"type":"object","properties":{"id":{"type":"string","description":"id изображения","minLength":21,"maxLength":21},"url":{"type":"string","format":"uri","description":"url изображения"}},"additionalProperties":false,"required":["id","url"]},{"type":"null"}]},"service_token":{"type":"string","pattern":"[ -~]","description":"Сервисный токен приложения для авторизации отправки системных событий"},"service_hook_url":{"type":"string","description":"Ссылка на обработчик системных событий приложения","format":"uri"},"permission":{"type":"string","description":"Разрешение"},"event":{"type":"string","description":"Событие"},"event_listener_url":{"type":["string","null"],"description":"Ссылка на обработчик событий приложения","format":"uri"},"id":{"type":"string","description":"Идентификатор приложения","minLength":21,"maxLength":21},"installed_id":{"type":"string","description":"Идентификатор установленного приложения","minLength":21,"maxLength":21},"version":{"type":"string","description":"Версия приложения"},"category":{"type":"string","enum":["AI","document_flow","QA","corp_messengers","ERP","fact_data_registration","BI","data_analysis","task_tracker","team_management"],"description":"Категория"},"type":{"type":"string","enum":["service","plugin","contractor","marketing_and_management","materials"],"description":"Тип"},"space_id":{"type":"string","description":"id пространства"},"installed_metadata":{"type":"object","properties":{"latest_version":{"$ref":"#/definitions/def-5/properties/version"},"installed_version":{"$ref":"#/definitions/def-5/properties/version"},"token":{"$ref":"#/definitions/def-5/properties/token"}},"required":["latest_version","installed_version","token"]},"installed_metadata_nullable":{"oneOf":[{"$ref":"#/definitions/def-5/properties/installed_metadata"},{"type":"null"}]},"return_installed":{"type":"boolean","description":"Вернуть установленный вариант приложения"},"token":{"type":"string","description":"Уникальный токен авторизации приложения в Project Lad. Есть только у установленных приложений"},"application":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-5/properties/id"},"title":{"$ref":"#/definitions/def-5/properties/title"},"description":{"$ref":"#/definitions/def-5/properties/description"},"version":{"$ref":"#/definitions/def-5/properties/version"},"cover":{"$ref":"#/definitions/def-5/properties/cover"},"type":{"$ref":"#/definitions/def-5/properties/type"},"categories":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/category"},"uniqueItems":true,"description":"Категории приложения"},"installed":{"$ref":"#/definitions/def-5/properties/installed_metadata_nullable"},"settings":{"type":["null","object"],"properties":{"url":{"type":"string","format":"uri","description":"url до фрейма с настройками"}},"required":["url"],"description":"Настройки приложения"},"extension_points":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Уникальный id точки расширения"},"type":{"type":"string","enum":["main_menu","project_tab","entity_editor_tab"],"description":"Тип поля"},"title":{"type":"string","description":"Название вкладки","minLength":1,"maxLength":30},"url":{"type":"string","format":"uri","description":"Ссылка на виджет"},"data_types":{"type":"array","items":{"type":"string","enum":["user_id","project_id","project_version_id","entity_id","original_id"]},"description":"Какие поля должны быть переданы в виджет"},"role":{"type":"array","items":{"type":"string","enum":["supervisor","executor","scheduler","administrator","goals_manager"]},"description":"Роли под которыми отображать точку расширения"}},"required":["id","type","title","url","data_types","role"],"additionalProperties":false},"description":"Массив точек расширения"},"integrated_settings":{"type":["null","object"],"properties":{"integrated_credentials_url":{"type":"string","format":"uri","description":"URL для получения интегрированных учетных данных"},"individual_credentials":{"type":"boolean","description":"Флаг, указывающий, что приложение является персональным"}},"required":["integrated_credentials_url","individual_credentials"],"additionalProperties":false}},"required":["id","title","description","version","type","categories","installed","cover","settings","extension_points","integrated_settings"]},"application_extended":{"allOf":[{"$ref":"#/definitions/def-5/properties/application"},{"type":"object","properties":{"detailed_description":{"$ref":"#/definitions/def-5/properties/detailed_description"},"permissions":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/permission"},"uniqueItems":true,"description":"Список разрешений приложения"},"screenshots":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id изображения","minLength":21,"maxLength":21},"url":{"type":"string","format":"uri","description":"url изображения"}},"additionalProperties":false,"required":["id","url"]},"uniqueItems":true,"description":"Список скриншотов"},"integrated_settings":{"type":["object","null"],"properties":{"integrated_credentials_url":{"type":"string","format":"uri","description":"URL для получения интегрированных учетных данных"},"individual_credentials":{"type":"boolean","description":"Флаг, указывающий, что приложение является персональным"}},"required":["integrated_credentials_url","individual_credentials"],"additionalProperties":false}},"required":["detailed_description","permissions","screenshots","integrated_settings"]}]}},"title":"application.shared.json"},"def-6":{"type":"object","properties":{"projects":{"type":"object","required":["value","label"],"additionalProperties":false,"properties":{"value":{"description":"Значение","type":"string"},"label":{"description":"Название","type":"string"},"disabled":{"description":"Признак блокировки","type":"boolean"},"children":{"type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}}}}},"title":"setting-storage-shared.json"}},"paths":{"/v1/auth/login":{"post":{"description":"Аутентификация пользователя","tags":["Авторизация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"email":{"type":"string","description":"Email пользователя"},"password":{"type":"string","description":"Пароль пользователя"}},"required":["email","password"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"},"refresh_token":{"type":"string","description":"Токен обновления"},"refresh_token_expired":{"type":"integer","description":"Дата окончания действия refresh_token в timestamp формате"}},"required":["access_token","access_token_expired","refresh_token","refresh_token_expired"]}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/auth/ldap/login":{"post":{"description":"Аутентификация пользователя через LDAP","tags":["Авторизация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"domain":{"type":"string","description":"Доменное имя, используемое в доменном логине пользователя"},"login":{"type":"string","description":"Login пользователя"},"password":{"type":"string","description":"Пароль пользователя"}},"required":["login","password"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"},"refresh_token":{"type":"string","description":"Токен обновления"},"refresh_token_expired":{"type":"integer","description":"Дата окончания действия refresh_token в timestamp формате"}},"required":["access_token","access_token_expired","refresh_token","refresh_token_expired"]}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/auth/refresh":{"get":{"description":"Продление авторизации пользователя","tags":["Авторизация"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"},"refresh_token":{"type":"string","description":"Токен обновления"},"refresh_token_expired":{"type":"integer","description":"Дата окончания действия refresh_token в timestamp формате"}},"required":["access_token","access_token_expired","refresh_token","refresh_token_expired"]}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"post":{"description":"Продление авторизации пользователя","tags":["Авторизация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"token":{"type":"string","description":"Токен обновления"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"},"refresh_token":{"type":"string","description":"Токен обновления"},"refresh_token_expired":{"type":"integer","description":"Дата окончания действия refresh_token в timestamp формате"}},"required":["access_token","access_token_expired","refresh_token","refresh_token_expired"]}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/auth/ts-admin/login":{"post":{"description":"Аутентификация администратора","tags":["Авторизация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"email":{"type":"string","description":"Email пользователя"},"password":{"type":"string","description":"Пароль пользователя"}},"required":["email","password"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"},"refresh_token":{"type":"string","description":"Токен обновления"},"refresh_token_expired":{"type":"integer","description":"Дата окончания действия refresh_token в timestamp формате"}},"required":["access_token","access_token_expired","refresh_token","refresh_token_expired"]}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/auth/ts-admin/refresh":{"post":{"description":"Продление авторизации администратора","tags":["Авторизация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"token":{"type":"string","description":"Токен обновления"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"},"refresh_token":{"type":"string","description":"Токен обновления"},"refresh_token_expired":{"type":"integer","description":"Дата окончания действия refresh_token в timestamp формате"}},"required":["access_token","access_token_expired","refresh_token","refresh_token_expired"]}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Продление авторизации администратора ТП","tags":["Авторизация"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"},"refresh_token":{"type":"string","description":"Токен обновления"},"refresh_token_expired":{"type":"integer","description":"Дата окончания действия refresh_token в timestamp формате"}},"required":["access_token","access_token_expired","refresh_token","refresh_token_expired"]}}}},"401":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/user/list":{"get":{"description":"Получения списка пользователей по фильтру","tags":["Пользователи"],"parameters":[{"type":["string","null"],"description":"ID группы, ребенком которой является пользователь/группа","required":false,"in":"query","name":"group_id"},{"type":"array","items":{"type":"string","description":"ID пользователя/группы"},"required":false,"in":"query","name":"ids"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя/группы"},"group_id":{"type":["null","string"],"description":"ID группы, ребенком которой является пользователь/группа","nullable":true},"title":{"type":"string","description":"Заголовок при отображении в списке"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"level_num":{"type":"integer","description":"Уровень вложенности в древовидной структуре"},"has_children":{"type":"boolean","description":"Наличие вложенных элементов"},"element_type":{"type":"string","enum":["group","user"],"description":"Тип элемента списка"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"user":{"type":"object","properties":{"email":{"type":"string","description":"Email пользователя"},"status":{"type":"string","enum":["without_account","invite","invite_expired","active"],"description":"Статус пользователя"},"is_admin":{"type":"boolean","description":"Является ли администратором"},"first_name":{"type":["null","string"],"description":"Имя"},"middle_name":{"type":["null","string"],"description":"Отчество"},"last_name":{"type":["null","string"],"description":"Фамилия"}},"required":["status","email","is_admin","first_name","middle_name","last_name"],"additionalProperties":false}},"required":["id","group_id","title","code","level_num","has_children","element_type","add_time","update_time"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/user/{id}":{"get":{"description":"Получения пользователя по ID","tags":["Пользователи"],"parameters":[{"type":"string","description":"ID пользователя/группы","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя/группы"},"group_id":{"type":["null","string"],"description":"ID группы, ребенком которой является пользователь/группа"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"element_type":{"type":"string","enum":["group","user"],"description":"Тип элемента списка"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"group":{"type":"object","properties":{"title":{"type":"string","description":"Заголовок группы"},"description":{"type":["null","string"],"description":"Описание группы"}},"required":["title","description"],"additionalProperties":false},"user":{"type":"object","properties":{"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"status":{"type":"string","enum":["without_account","invite","invite_expired","active"],"description":"Статус пользователя"},"email":{"type":"string","description":"Email пользователя"},"is_admin":{"type":"boolean","description":"Является ли администратором"},"invite_link":{"type":["null","string"],"description":"Ссылка для приглашения пользователя"},"role_ids":{"type":"array","items":{"type":"string","description":"ID роли","minLength":21,"maxLength":21}}},"required":["first_name","middle_name","last_name","status","email","is_admin","invite_link"],"additionalProperties":false}},"required":["id","group_id","code","element_type","add_time","update_time"],"additionalProperties":false}}}}}},"put":{"description":"Метод обновления пользователя","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"group_id":{"type":["string","null"],"description":"ID группы, ребенком которой является пользователь/группа"},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"element_type":{"type":"string","enum":["group","user"],"description":"Тип элемента списка"},"group":{"type":"object","properties":{"title":{"type":"string","description":"Заголовок группы"},"description":{"type":["string","null"],"description":"Описание группы"}},"required":["title","description"],"additionalProperties":false},"user":{"type":"object","properties":{"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"email":{"type":"string","description":"Email пользователя"},"is_admin":{"type":"boolean","description":"Является ли администратором"},"role_ids":{"type":"array","items":{"type":"string","description":"ID роли","minLength":21,"maxLength":21}}},"required":["last_name","email"],"additionalProperties":false}},"required":["group_id","element_type"],"additionalProperties":false}},{"type":"string","description":"ID пользователя/группы","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Метод удаления пользователя","tags":["Пользователи"],"parameters":[{"type":"string","description":"ID пользователя/группы","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/user/{email}/space":{"get":{"description":"Получить информацию о спейсе по email пользователя","tags":["Пользователи"],"parameters":[{"type":"string","description":"Email пользователя","required":true,"in":"path","name":"email"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"space_title":{"type":"string","description":"Название спейса"}},"required":["space_title"]}},"required":["result"]}}}}},"/v1/user":{"post":{"description":"Метод создания пользователя","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"group_id":{"type":["string","null"],"description":"ID группы, ребенком которой является пользователь/группа"},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"element_type":{"type":"string","enum":["group","user"],"description":"Тип элемента списка"},"group":{"type":"object","properties":{"title":{"type":"string","description":"Заголовок группы"},"description":{"type":["string","null"],"description":"Описание группы"}},"required":["title","description"],"additionalProperties":false},"user":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя/группы"},"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"send_invite":{"type":"boolean","description":"Отправлять или нет invite при создании"},"email":{"type":"string","description":"Email пользователя"},"is_admin":{"type":"boolean","description":"Является ли администратором"},"role_ids":{"type":"array","items":{"type":"string","description":"ID роли","minLength":21,"maxLength":21}}},"required":["last_name","send_invite","email"],"additionalProperties":false}},"required":["group_id","element_type"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя/группы"}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/user/invite/send":{"post":{"description":"Отправка приглашения пользователю","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"user_id":{"type":"string","description":"ID пользователя/группы"}},"required":["user_id"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"invite_link":{"type":"string","description":"Ссылка для приглашения пользователя"}},"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/user/invite/resend":{"post":{"description":"Метод сброса пароля пользователя по email","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"email":{"type":"string","description":"Email пользователя"}},"required":["email"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/user/recovery/request":{"post":{"description":"Метод сброса пароля пользователя по email","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"email":{"type":"string","description":"Email пользователя"}},"required":["email"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"timeout":{"type":"number","minimum":60,"description":"Время до следующего запроса"}},"required":["timeout"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/user/invite/apply":{"post":{"description":"Применяет приглашение пользователя","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"token":{"type":"string","description":"Токен приглашения в систему"},"password":{"type":"string","description":"Пароль пользователя","minLength":8,"maxLength":100}},"additionalProperties":false,"required":["last_name","token","password"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/user/password/set":{"post":{"description":"Метод сброса пароля пользователя","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"token":{"type":"string","description":"Токен приглашения в систему"},"password":{"type":"string","description":"Пароль пользователя","minLength":8,"maxLength":100}},"additionalProperties":false,"required":["token","password"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/token/status":{"get":{"description":"Получение статуса токена","tags":["Пользователи"],"parameters":[{"type":"string","description":"Токен приглашения в систему","required":true,"in":"query","name":"token"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"token_status":{"type":["null","string"],"enum":["already_registered","new_token","token_expired","invalid_token"],"description":"Статус токена"}},"required":["token_status"],"additionalProperties":false}}}}}}},"/v1/user/favorite":{"post":{"description":"Метод создания избранного элемента пользователя","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"entity_id":{"type":"string","description":"Id сущности, связанной с элементом избранного","minLength":21,"maxLength":21},"entity_type":{"type":"string","description":"Тип сущности, связанной с элементом избранного","enum":["project","project_item"]}},"required":["entity_id","entity_type"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента избранного","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/user/favorite/list":{"get":{"description":"Получения списка избранных элементов пользователя","tags":["Пользователи"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["result"],"properties":{"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента избранного","minLength":21,"maxLength":21},"entity_id":{"type":"string","description":"Id сущности, связанной с элементом избранного","minLength":21,"maxLength":21},"entity_type":{"type":"string","description":"Тип сущности, связанной с элементом избранного","enum":["project","project_item"]},"entity_title":{"type":"string","description":"Наименование сущности, связанной с элементом избранного"},"project_id":{"type":"string","description":"Id проекта сущности, связанной с элементом избранного"},"project_title":{"type":"string","description":"Наименование проекта сущности, связанной с элементом избранного"}},"required":["id","entity_id","entity_type","entity_title","project_id","project_title"]}}}}}}}},"/v1/user/favorite/{id}":{"delete":{"description":"Метод удаления избранного элемента пользователя","tags":["Пользователи"],"parameters":[{"type":"string","description":"ID элемента избранного","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/user/consent":{"post":{"description":"Создание согласия на выпуск токена","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"reason":{"type":["string","null"],"description":"Основание для создание согласия","maxLength":500},"consent_ttl_days":{"type":"integer","description":"Время действия согласия, дн","minimum":1,"maximum":1},"token_ttl_hours":{"type":"integer","description":"Время действия токена, ч","minimum":1,"maximum":24}},"required":["reason","consent_ttl_days","token_ttl_hours"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID согласия","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/user/consent/list":{"get":{"description":"Получение списка согласий пользователя на выпуск токена","tags":["Пользователи"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID согласия","minLength":21,"maxLength":21},"user_id":{"type":"string","description":"ID пользователя дающего согласие","minLength":21,"maxLength":21},"reason":{"type":["null","string"],"description":"Основание для создание согласия","maxLength":500},"expiry_time":{"type":"string","format":"date","description":"Дата истечения согласия"},"token_ttl_hours":{"type":"integer","description":"Время действия токена, ч","minimum":1,"maximum":24}},"required":["id","user_id","reason","expiry_time","token_ttl_hours"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/user/consent/{id}":{"get":{"description":"Получение согласия на выпуск токена","tags":["Пользователи"],"parameters":[{"type":"string","description":"ID согласия","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID согласия","minLength":21,"maxLength":21},"user_id":{"type":"string","description":"ID пользователя дающего согласие","minLength":21,"maxLength":21},"space_id":{"type":"string","description":"ID пространства пользователя","minLength":21,"maxLength":21},"reason":{"type":["null","string"],"description":"Основание для создание согласия","maxLength":500},"expiry_time":{"type":"string","format":"date","description":"Дата истечения согласия"},"token_ttl_hours":{"type":"integer","description":"Время действия токена, ч","minimum":1,"maximum":24},"token_generation_time":{"type":["null","string"],"format":"date","description":"Дата генерации токена"},"token_expire_time":{"type":["null","string"],"format":"date","description":"Дата истечения токена"},"token_user_id":{"type":["null","string"],"description":"ID пользователя который сгенерировал токен","minLength":21,"maxLength":21}},"required":["id","user_id","space_id","reason","expiry_time","token_ttl_hours","token_generation_time","token_expire_time","token_user_id"],"additionalProperties":false}},"required":["message","result"]}}}},"put":{"description":"Обновление согласия на выпуск токена","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"token_ttl_hours":{"type":"integer","description":"Время действия токена, ч","minimum":1,"maximum":24},"reason":{"type":["string","null"],"description":"Основание для создание согласия","maxLength":500}},"required":["token_ttl_hours","reason"],"additionalProperties":false}},{"type":"string","description":"ID согласия","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удаление согласия на выпуск токена","tags":["Пользователи"],"parameters":[{"type":"string","description":"ID согласия","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/consent/actual/list":{"get":{"description":"Получение списка действующих согласий на выпуск токена","tags":["Пользователи"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID согласия","minLength":21,"maxLength":21},"user_id":{"type":"string","description":"ID пользователя дающего согласие","minLength":21,"maxLength":21},"reason":{"type":["null","string"],"description":"Основание для создание согласия","maxLength":500},"expiry_time":{"type":"string","format":"date","description":"Дата истечения согласия"},"token_ttl_hours":{"type":"integer","description":"Время действия токена, ч","minimum":1,"maximum":24}},"required":["id","user_id","reason","expiry_time","token_ttl_hours"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/consent/{id}/generate-token":{"post":{"description":"Генерация токена на основе согласия пользователя","tags":["Пользователи"],"parameters":[{"type":"string","description":"ID согласия","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"access_token":{"type":"string","description":"Токен авторизации"},"access_token_expired":{"type":"integer","description":"Дата окончания действия access_token в timestamp формате"}},"required":["access_token","access_token_expired"]}},"required":["message","result"]}}}}},"/v1/user/{user_id}/roles":{"get":{"description":"Получение списка ролей пользователя по уровням","tags":["Пользователи"],"parameters":[{"type":"string","description":"ID пользователя, которому устанавливается роль","minLength":21,"maxLength":21,"required":true,"in":"path","name":"user_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","propertyNames":{"enum":["space","nsi_catalog","project","project_item","document","data_storage"]},"additionalProperties":{"type":"string"}}},"required":["message","result"]}}}},"post":{"description":"Установка ролей пользователю по сущностям, к которым они относятся","tags":["Пользователи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","propertyNames":{"enum":["space","nsi_catalog","project","project_item","document","data_storage"]},"additionalProperties":{"type":"string"}}},{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21,"required":true,"in":"path","name":"user_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"inherited_project_ids":{"type":"array","items":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"description":"Список ID проектов, которые не были изменены из-за того, что у них включено наследование ролей"},"inherited_document_ids":{"type":"array","items":{"type":"string","description":"ID документа","minLength":21,"maxLength":21},"description":"Список ID документов, которые не были изменены из-за того, что у них включено наследование ролей"}},"additionalProperties":false,"required":["inherited_project_ids","inherited_document_ids"]}},"required":["message"]}}}}},"/v1/ts-admin/list":{"get":{"description":"Получения списка администраторов ТП по фильтру","tags":["Администраторы технической поддержки"],"parameters":[{"type":"array","items":{"type":"string","description":"ID администратора"},"required":false,"in":"query","name":"ids"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"email":{"type":"string","description":"Email администратора"}},"required":["last_name","email"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/ts-admin/{id}":{"get":{"description":"Получения администратора ТП по ID","tags":["Администраторы технической поддержки"],"parameters":[{"type":"string","description":"ID администратора","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"first_name":{"type":["null","string"],"description":"Имя"},"middle_name":{"type":["null","string"],"description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"email":{"type":"string","description":"Email администратора"}},"required":["last_name","email"],"additionalProperties":false}}}}}},"put":{"description":"Метод обновления администратора ТП","tags":["Администраторы технической поддержки"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"email":{"type":"string","description":"Email администратора"},"password":{"type":"string","description":"пароль"},"hash":{"type":"string","description":"hash от пароля"},"salt":{"type":"string","description":"Соль администратора для хеширования пароля"}},"additionalProperties":false}},{"type":"string","description":"ID администратора","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Метод удаления администратора ТП","tags":["Администраторы технической поддержки"],"parameters":[{"type":"string","description":"ID администратора","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/ts-admin":{"post":{"description":"Метод создания администратора ТП","tags":["Администраторы технической поддержки"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"email":{"type":"string","description":"Email администратора"}},"required":["last_name","email"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID администратора"}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/ts-admin/invite/send":{"post":{"description":"Отправка приглашения администратору ТП","tags":["Администраторы технической поддержки"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"admin_id":{"type":"string","description":"ID администратора"}},"required":["admin_id"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/ts-admin/invite/apply":{"post":{"description":"Применяет приглашение администратора ТП","tags":["Администраторы технической поддержки"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"first_name":{"type":"string","description":"Имя"},"middle_name":{"type":"string","description":"Отчество"},"last_name":{"type":"string","description":"Фамилия"},"token":{"type":"string","description":"Токен приглашения в систему"},"password":{"type":"string","description":"Пароль пользователя","minLength":8,"maxLength":100}},"required":["last_name","token","password"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/role/short/list":{"get":{"description":"Получение краткого списка ролей по фильтру","tags":["Роли"],"parameters":[{"type":"array","items":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"required":false,"in":"query","name":"ids"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"title":{"type":"string","description":"Заголовок роли"},"role_type":{"type":"object","properties":{"id":{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21},"levels":{"type":"array","items":{"type":"string","description":"Наименование типа роли","enum":["space","nsi_catalog","project","project_item","document","data_storage"]}}},"required":["id","levels"],"additionalProperties":false}},"required":["id","title","role_type"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/role/{id}":{"get":{"description":"Получение роли","tags":["Роли"],"parameters":[{"type":"string","description":"ID роли","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"role_type_id":{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","description":"Заголовок роли"},"description":{"type":["null","string"],"description":"Описание роли"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"permission_containers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID контейнера прав доступа","minLength":21,"maxLength":21},"context_ids":{"type":"array","items":{"type":"string","description":"ID контекста пермишена","minLength":21,"maxLength":21}}},"required":["id","context_ids"]}},"version_options":{"type":"object","description":"Выбор типа и статуса версии в отношении которых будет работать роль","properties":{"version_status":{"type":"array","items":{"type":"string","description":"Статус версии"}},"version_type":{"type":"array","items":{"type":"string","description":"Тип версии"}}},"additionalProperties":false,"required":["version_status","version_type"]}},"required":["id","role_type_id","code","title","description","add_time","update_time","permission_containers"],"additionalProperties":false}},"required":["message","result"]}}}},"put":{"description":"Метод обновления роли","tags":["Роли"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"role_type_id":{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","description":"Заголовок роли"},"description":{"type":["string","null"],"description":"Описание роли"},"permission_containers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID контейнера прав доступа","minLength":21,"maxLength":21},"context_ids":{"type":"array","items":{"type":"string","description":"ID контекста пермишена","minLength":21,"maxLength":21}}},"required":["id","context_ids"]}},"version_options":{"type":"object","description":"Выбор типа и статуса версии в отношении которых будет работать роль","properties":{"version_status":{"type":"array","items":{"type":"string","description":"Статус версии"}},"version_type":{"type":"array","items":{"type":"string","description":"Тип версии"}}},"additionalProperties":false,"required":["version_status","version_type"]}},"required":["role_type_id","title","description","permission_containers"],"additionalProperties":false}},{"type":"string","description":"ID роли","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Метод удаления роли","tags":["Роли"],"parameters":[{"type":"string","description":"ID роли","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/role":{"post":{"description":"Метод создания роли","tags":["Роли"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"role_type_id":{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","description":"Заголовок роли"},"description":{"type":["string","null"],"description":"Описание роли"},"permission_containers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID контейнера прав доступа","minLength":21,"maxLength":21},"context_ids":{"type":"array","items":{"type":"string","description":"ID контекста пермишена","minLength":21,"maxLength":21}}},"required":["id","context_ids"]}},"version_options":{"type":"object","description":"Выбор типа и статуса версии в отношении которых будет работать роль","properties":{"version_status":{"type":"array","items":{"type":"string","description":"Статус версии"}},"version_type":{"type":"array","items":{"type":"string","description":"Тип версии"}}},"additionalProperties":false,"required":["version_status","version_type"]}},"required":["role_type_id","title","description","permission_containers"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/role-type/list":{"get":{"description":"Получение списка типов ролей","tags":["Роли"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование типа роли"},"role_type_code":{"type":"string","description":"Код типа роли"},"children":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"role_type_id":{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","description":"Заголовок роли"},"description":{"type":["null","string"],"description":"Описание роли"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"}},"required":["id","role_type_id","code","title","description","add_time","update_time"],"additionalProperties":false}}},"required":["id","title","role_type_code"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/role-type/{id}/form":{"get":{"description":"Получение формы для отрисовки установки прав по типу роли","tags":["Роли"],"parameters":[{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID типа роли","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование типа роли"},"group":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID группы контейнера прав доступа","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование группы контейнера прав доступа"},"contexts":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID контекста пермишена","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование контекста пермишена"},"is_all":{"type":"boolean","description":"Признак наличия всех контекстов"},"is_empty":{"type":"boolean","description":"Признак отсутствия контекста"}},"required":["id","title","is_all","is_empty"],"additionalProperties":false}},"permission_containers":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID контейнера прав доступа","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование контейнера прав доступа"}},"required":["id","title"],"additionalProperties":false}}},"required":["id","title","contexts","permission_containers"],"additionalProperties":false}}},"required":["id","title","group"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/role/level/map":{"get":{"description":"Получение списка ролей по всем уровням","tags":["Роли"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","propertyNames":{"enum":["space","nsi_catalog","project","project_item","document","data_storage"]},"additionalProperties":{"type":"string"}}},"required":["message","result"]}}}}},"/v1/role/level/list":{"get":{"description":"Получение списка ролей по уровням","tags":["Роли"],"parameters":[{"type":"string","description":"Наименование типа роли","enum":["space","nsi_catalog","project","project_item","document","data_storage"],"required":true,"in":"query","name":"level"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"title":{"type":"string","description":"Заголовок роли"}},"required":["id","title"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/nsi/system/list":{"get":{"description":"Получение списка системных справочников","tags":["Универсальные методы работы с НСИ"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":100,"description":"Наименование справочника"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание справочника"},"nsi_type":{"type":["string"],"enum":["project_type","customer","calendar","attribute","indicator"],"maxLength":500,"description":"Типы справочников НСИ"},"structure_type":{"type":"string","description":"Описание справочника","enum":["linear","hierarchical"]},"add_time":{"type":"string","description":"Дата создания","format":"date-time"},"update_time":{"type":"string","description":"Дата обновления","format":"date-time"}},"additionalProperties":false,"required":["id","title","description","structure_type","add_time","update_time"]}}},"required":["result"]}}}}},"/v1/nsi/customer/list":{"get":{"description":"Получения списка пользовательских справочников","tags":["Универсальные методы работы с НСИ"],"parameters":[{"type":"array","items":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21},"required":false,"in":"query","name":"ids"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":100,"description":"Наименование справочника"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание справочника"},"nsi_type":{"type":["string"],"enum":["project_type","customer","calendar","attribute","indicator"],"maxLength":500,"description":"Типы справочников НСИ"},"structure_type":{"type":"string","description":"Описание справочника","enum":["linear","hierarchical"]},"add_time":{"type":"string","description":"Дата создания","format":"date-time"},"update_time":{"type":"string","description":"Дата обновления","format":"date-time"}},"additionalProperties":false,"required":["id","title","description","structure_type","add_time","update_time"]}}},"required":["result"]}}}}},"/v1/nsi/{type}/{catalog_id}":{"get":{"description":"Получение справочника по его id","tags":["Универсальные методы работы с НСИ"],"parameters":[{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"catalog":{"type":"object","properties":{"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":100,"description":"Наименование справочника"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание справочника"},"nsi_type":{"type":["string"],"enum":["project_type","customer","calendar","attribute","indicator"],"maxLength":500,"description":"Типы справочников НСИ"},"structure_type":{"type":"string","description":"Описание справочника","enum":["linear","hierarchical"]},"add_time":{"type":"string","description":"Дата создания","format":"date-time"},"update_time":{"type":"string","description":"Дата обновления","format":"date-time"},"attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"element_use":{"type":"boolean","description":"Используется ли атрибут в описании элементов"},"element_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании элементов"},"group_use":{"type":"boolean","description":"Используется ли атрибут в описании групп (только если справочник иерархический)"},"group_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании групп"},"group_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"group_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","element_use","element_require","group_use","group_require","group_inheritance","group_change"]}},"numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"}}}},"additionalProperties":false,"required":["id","level","numbering_in_prefix","level_delimiter"]}}},"additionalProperties":false,"required":["id","title","description","structure_type","add_time","update_time","attribute_composition"]},"context":{"type":"object","properties":{"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21}},"required":["calendar_id"],"additionalProperties":false}},"additionalProperties":false}},"required":["catalog","context"],"additionalProperties":false}}}}}},"put":{"description":"Обновление справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"catalog":{"properties":{"title":{"type":"string","minLength":1,"maxLength":100,"description":"Наименование справочника"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание справочника"},"attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"element_use":{"type":"boolean","description":"Используется ли атрибут в описании элементов"},"element_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании элементов"},"group_use":{"type":"boolean","description":"Используется ли атрибут в описании групп (только если справочник иерархический)"},"group_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании групп"},"group_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"group_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","element_use","element_require","group_use","group_require","group_inheritance","group_change"]}},"numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"}}},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"}},"required":["level","numbering_in_prefix","format","level_delimiter"]}}},"required":["title","description","attribute_composition"],"additionalProperties":false,"type":"object"},"context":{"type":"object","properties":{"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21}},"required":["calendar_id"],"additionalProperties":false}},"additionalProperties":false}},"required":["catalog","context"]}},{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удаление справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/nsi/{type}":{"post":{"description":"Создание справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"catalog":{"properties":{"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":100,"description":"Наименование справочника"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание справочника"},"structure_type":{"type":"string","description":"Описание справочника","enum":["linear","hierarchical"]},"attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"element_use":{"type":"boolean","description":"Используется ли атрибут в описании элементов"},"element_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании элементов"},"group_use":{"type":"boolean","description":"Используется ли атрибут в описании групп (только если справочник иерархический)"},"group_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании групп"},"group_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"group_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","element_use","element_require","group_use","group_require","group_inheritance","group_change"]}},"numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"level_delimiter":{"type":"string","description":"Разделитель уровня"},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"}}},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"}},"required":["level","numbering_in_prefix","format","level_delimiter"]}}},"required":["title","description","structure_type","attribute_composition"],"additionalProperties":false,"type":"object"},"context":{"type":"object","properties":{"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21}},"required":["calendar_id"],"additionalProperties":false}},"additionalProperties":false}},"required":["catalog","context"]}},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/nsi/{type}/element/list":{"get":{"description":"Получение элементов/групп справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"description":"Наименование","type":"string","required":false,"in":"query","name":"title"},{"description":"ID родительского элемента/группы","type":["string","null"],"default":null,"required":false,"in":"query","name":"group_id"},{"description":"ID каталога","type":["string","null"],"default":null,"required":false,"in":"query","name":"catalog_id"},{"collectionFormat":"multi","items":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"type":"array","required":false,"in":"query","name":"ids"},{"type":"boolean","description":"С контекстом или без (тяжелый)","default":false,"required":false,"in":"query","name":"with_context"},{"enum":["project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"properties":{"element":{"properties":{"has_children":{"type":"boolean","description":"Признак наличия дочерних элементов"},"element_type":{"description":"Тип сущности","enum":["group","element"],"type":"string"},"description":{"description":"Описание элемента/группы справочника","type":["null","string"],"maxLength":500},"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"level_num":{"description":"Уровень вложенности","type":"integer"},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"integer"},"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"code":{"description":"Код элемента справочника","type":"string","maxLength":100}},"required":["id","group_id","catalog_id","title","description","element_type"],"additionalProperties":false,"type":"object"},"context":{"type":"object","properties":{"calendar":{"type":"object","additionalProperties":false,"required":["start_date","end_date"],"properties":{"start_date":{"type":["null","string"]},"end_date":{"type":["null","string"]}}},"indicator":{"type":"object","properties":{"id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"analytics":{"type":"object","description":"Аналитика","properties":{"ref":{"type":"object","description":"Ссылочный тип на значение из другого справочника","properties":{"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"}},"required":["catalog_id","system_type"]},"required":{"type":"boolean","description":"Флаг обязательности значения из справочника"}},"additionalProperties":false,"required":["ref","required"]},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]}},"required":["indicator_type","indicator_essence"],"additionalProperties":false},"attribute":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"element_id":{"type":"string"},"constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}}},"project_type":{"type":"object","properties":{"indicators":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null}},"required":["id","indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required","is_default","default_analytics_element_id"],"additionalProperties":false}},"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"project_require":{"type":"boolean","description":"Используется ли атрибут в описании проекта"},"project_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние проекты"},"project_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","project_require","project_inheritance","project_change"]}},"item_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава строки проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change"]}},"project_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"element":{"description":"Префикс для элемента","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}},"item_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"},"milestone":{"description":"Префикс для вехи","type":"string"},"pointer":{"description":"Префикс для этапа","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}}},"required":["indicators","project_attribute_composition","item_attribute_composition","project_numerator_level_setting","item_numerator_level_setting"],"additionalProperties":false},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]},"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"}},"required":["calendar_id","is_custom_calendar"],"additionalProperties":false},"standard":{"type":"object","additionalProperties":false,"properties":{"duration_work_days":{"type":["null","number"],"description":"Продолжительность работ в днях"},"volume":{"type":["null","number"],"description":"Объём работы по нормативу"},"unit_id":{"type":["null","string"],"description":"Единица измерения (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21},"resource_amount":{"type":["null","number"],"description":"Количество единиц ресурса, выполняющих работу по нормативу"},"resource_description":{"type":["null","string"],"maxLength":100,"description":"Идентификация ресурса, для которого написан норматив (справочное поле)"},"labor_costs":{"type":["null","number"],"description":"Трудозатраты за весь период работ по нормативу"},"calculated_value":{"type":["null","string"],"enum":["amount","duration",null],"description":"Расчетная величина"},"performance":{"type":"number","description":"Производительность одной единицы ресурса в день по нормативу"},"performance_unit_id":{"type":"string","description":"Единица измерения производительности (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21}},"required":["duration_work_days","volume","unit_id","resource_amount","resource_description","labor_costs","calculated_value","performance","performance_unit_id"]}},"additionalProperties":false}},"additionalProperties":false,"required":["element"],"type":"object"}}},"required":["result"]}}}}},"/v1/nsi/customer/element/list":{"get":{"description":"Получение элементов/групп справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"description":"Наименование","type":"string","required":false,"in":"query","name":"title"},{"description":"ID родительского элемента/группы","type":["string","null"],"default":null,"required":false,"in":"query","name":"group_id"},{"description":"ID каталога","type":["string","null"],"default":null,"required":false,"in":"query","name":"catalog_id"},{"collectionFormat":"multi","items":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"type":"array","required":false,"in":"query","name":"ids"},{"type":"boolean","description":"С контекстом или без (тяжелый)","default":false,"required":false,"in":"query","name":"with_context"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"properties":{"element":{"properties":{"has_children":{"type":"boolean","description":"Признак наличия дочерних элементов"},"element_type":{"description":"Тип сущности","enum":["group","element"],"type":"string"},"description":{"description":"Описание элемента/группы справочника","type":["null","string"],"maxLength":500},"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"level_num":{"description":"Уровень вложенности","type":"integer"},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"integer"},"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"code":{"description":"Код элемента справочника","type":"string","maxLength":100}},"required":["id","group_id","catalog_id","title","description","element_type"],"additionalProperties":false,"type":"object"},"context":{"type":"object","properties":{"calendar":{"type":"object","additionalProperties":false,"required":["start_date","end_date"],"properties":{"start_date":{"type":["null","string"]},"end_date":{"type":["null","string"]}}},"indicator":{"type":"object","properties":{"id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"analytics":{"type":"object","description":"Аналитика","properties":{"ref":{"type":"object","description":"Ссылочный тип на значение из другого справочника","properties":{"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"}},"required":["catalog_id","system_type"]},"required":{"type":"boolean","description":"Флаг обязательности значения из справочника"}},"additionalProperties":false,"required":["ref","required"]},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]}},"required":["indicator_type","indicator_essence"],"additionalProperties":false},"attribute":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"element_id":{"type":"string"},"constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}}},"project_type":{"type":"object","properties":{"indicators":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null}},"required":["id","indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required","is_default","default_analytics_element_id"],"additionalProperties":false}},"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"project_require":{"type":"boolean","description":"Используется ли атрибут в описании проекта"},"project_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние проекты"},"project_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","project_require","project_inheritance","project_change"]}},"item_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава строки проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change"]}},"project_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"element":{"description":"Префикс для элемента","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}},"item_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"},"milestone":{"description":"Префикс для вехи","type":"string"},"pointer":{"description":"Префикс для этапа","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}}},"required":["indicators","project_attribute_composition","item_attribute_composition","project_numerator_level_setting","item_numerator_level_setting"],"additionalProperties":false},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]},"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"}},"required":["calendar_id","is_custom_calendar"],"additionalProperties":false},"standard":{"type":"object","additionalProperties":false,"properties":{"duration_work_days":{"type":["null","number"],"description":"Продолжительность работ в днях"},"volume":{"type":["null","number"],"description":"Объём работы по нормативу"},"unit_id":{"type":["null","string"],"description":"Единица измерения (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21},"resource_amount":{"type":["null","number"],"description":"Количество единиц ресурса, выполняющих работу по нормативу"},"resource_description":{"type":["null","string"],"maxLength":100,"description":"Идентификация ресурса, для которого написан норматив (справочное поле)"},"labor_costs":{"type":["null","number"],"description":"Трудозатраты за весь период работ по нормативу"},"calculated_value":{"type":["null","string"],"enum":["amount","duration",null],"description":"Расчетная величина"},"performance":{"type":"number","description":"Производительность одной единицы ресурса в день по нормативу"},"performance_unit_id":{"type":"string","description":"Единица измерения производительности (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21}},"required":["duration_work_days","volume","unit_id","resource_amount","resource_description","labor_costs","calculated_value","performance","performance_unit_id"]}},"additionalProperties":false}},"additionalProperties":false,"required":["element"],"type":"object"}}},"required":["result"]}}}}},"/v1/nsi/{type}/element/short/list":{"get":{"description":"Получение сокращенного списка элементов/групп справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"description":"Наименование","type":"string","required":false,"in":"query","name":"title"},{"type":"array","items":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"collectionFormat":"multi","required":false,"in":"query","name":"ids"},{"type":"string","description":"id справочника","minLength":21,"maxLength":21,"required":false,"in":"query","name":"catalog_id"},{"type":"boolean","description":"Включать ли в выборку элементы, удаленные через soft-delete","required":false,"in":"query","name":"include_soft_deleted"},{"type":"string","enum":["project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"code":{"description":"Код элемента справочника","type":"string","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"integer"},"element_type":{"description":"Тип сущности","enum":["group","element"],"type":"string"}},"required":["id","catalog_id","title","element_type","group_id"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/nsi/customer/element/short/list":{"get":{"description":"Получение сокращенного списка элементов/групп справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"description":"Наименование","type":"string","required":false,"in":"query","name":"title"},{"type":"array","items":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"collectionFormat":"multi","required":false,"in":"query","name":"ids"},{"type":"string","description":"id справочника","minLength":21,"maxLength":21,"required":false,"in":"query","name":"catalog_id"},{"type":"boolean","description":"Включать ли в выборку элементы, удаленные через soft-delete","required":false,"in":"query","name":"include_soft_deleted"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"code":{"description":"Код элемента справочника","type":"string","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"integer"},"element_type":{"description":"Тип сущности","enum":["group","element"],"type":"string"}},"required":["id","catalog_id","title","element_type","group_id"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/nsi/{type}/{catalog_id}/element/sort":{"post":{"description":"Обновление позиции элемента НСИ","tags":["Универсальные методы работы с НСИ"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"element_id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"destination_group_id":{"type":"string","description":"ID группы назначения","minLength":21,"maxLength":21},"sequence":{"type":"number","description":"Новая позиция элемента"}},"additionalProperties":false,"required":["element_id","sequence"]}},{"type":"string","minLength":21,"maxLength":21,"description":"ID каталога","required":true,"in":"path","name":"catalog_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/nsi/{type}/{catalog_id}/element/{element_id}":{"get":{"description":"Получение элемента/группы по его ID","tags":["Универсальные методы работы с НСИ"],"parameters":[{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"element_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"element":{"properties":{"attribute_value":{"items":{"type":"object","properties":{"id":{"type":"string","description":"ID значения атрибута","minLength":21,"maxLength":21},"attribute_composition_id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"value_string":{"type":["null","string"],"description":"Примитивное значение типа строка"},"value_date":{"type":["null","string"],"format":"date","description":"Примитивное значение типа дата"},"value_number":{"type":["null","number"],"description":"Примитивное значение типа число"},"value_boolean":{"type":["null","boolean"],"description":"Примитивное значение типа булево"},"value_link":{"type":["null","string"],"description":"Ссылка на пользовательский справочник"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_date","value_number","value_boolean","value_link"]},"type":"array"},"has_children":{"type":"boolean","description":"Признак наличия дочерних элементов"},"element_type":{"description":"Тип сущности","enum":["group","element"],"type":"string"},"description":{"description":"Описание элемента/группы справочника","type":["null","string"],"maxLength":500},"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"level_num":{"description":"Уровень вложенности","type":"integer"},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"integer"},"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"code":{"description":"Код элемента справочника","type":"string","maxLength":100}},"required":["id","group_id","catalog_id","title","description","element_type","attribute_value"],"additionalProperties":false,"type":"object"},"context":{"type":"object","properties":{"calendar":{"type":"object","additionalProperties":false,"required":["start_date","end_date"],"properties":{"start_date":{"type":["null","string"]},"end_date":{"type":["null","string"]}}},"indicator":{"type":"object","properties":{"id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"analytics":{"type":"object","description":"Аналитика","properties":{"ref":{"type":"object","description":"Ссылочный тип на значение из другого справочника","properties":{"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"}},"required":["catalog_id","system_type"]},"required":{"type":"boolean","description":"Флаг обязательности значения из справочника"}},"additionalProperties":false,"required":["ref","required"]},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]}},"required":["indicator_type","indicator_essence"],"additionalProperties":false},"attribute":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string"},"element_id":{"type":"string"},"constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}}},"project_type":{"type":"object","properties":{"indicators":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"}},"required":["id","indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required","is_default","default_analytics_element_id","indicator_essence"],"additionalProperties":false}},"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"project_require":{"type":"boolean","description":"Используется ли атрибут в описании проекта"},"project_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние проекты"},"project_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","project_require","project_inheritance","project_change"]}},"item_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава строки проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change"]}},"project_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"element":{"description":"Префикс для элемента","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}},"item_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"},"milestone":{"description":"Префикс для вехи","type":"string"},"pointer":{"description":"Префикс для этапа","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}}},"required":["indicators","project_attribute_composition","item_attribute_composition","project_numerator_level_setting","item_numerator_level_setting"],"additionalProperties":false},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]},"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"}},"required":["calendar_id","is_custom_calendar"],"additionalProperties":false},"standard":{"type":"object","additionalProperties":false,"properties":{"duration_work_days":{"type":["null","number"],"description":"Продолжительность работ в днях"},"volume":{"type":["null","number"],"description":"Объём работы по нормативу"},"unit_id":{"type":["null","string"],"description":"Единица измерения (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21},"resource_amount":{"type":["null","number"],"description":"Количество единиц ресурса, выполняющих работу по нормативу"},"resource_description":{"type":["null","string"],"maxLength":100,"description":"Идентификация ресурса, для которого написан норматив (справочное поле)"},"labor_costs":{"type":["null","number"],"description":"Трудозатраты за весь период работ по нормативу"},"calculated_value":{"type":["null","string"],"enum":["amount","duration",null],"description":"Расчетная величина"},"performance":{"type":"number","description":"Производительность одной единицы ресурса в день по нормативу"},"performance_unit_id":{"type":"string","description":"Единица измерения производительности (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21}},"required":["duration_work_days","volume","unit_id","resource_amount","resource_description","labor_costs","calculated_value","performance","performance_unit_id"]}},"additionalProperties":false}},"required":["element","context"],"additionalProperties":false}}}}}},"put":{"description":"Обновление элемента по его ID","tags":["Универсальные методы работы с НСИ"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"element":{"properties":{"attribute_value":{"items":{"type":"object","properties":{"id":{"type":"string","description":"ID значения атрибута","minLength":21,"maxLength":21},"attribute_composition_id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"value_string":{"type":["string","null"],"description":"Примитивное значение типа строка"},"value_date":{"type":["string","null"],"format":"date","description":"Примитивное значение типа дата"},"value_number":{"type":["number","null"],"description":"Примитивное значение типа число"},"value_boolean":{"type":["boolean","null"],"description":"Примитивное значение типа булево"},"value_link":{"type":["string","null"],"description":"Ссылка на пользовательский справочник"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_date","value_number","value_boolean","value_link"]},"type":"array"},"description":{"description":"Описание элемента/группы справочника","type":["string","null"],"maxLength":500},"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"integer"},"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"code":{"description":"Код элемента справочника","type":"string","maxLength":100}},"required":["group_id","title","description","attribute_value"],"additionalProperties":false,"type":"object"},"context":{"type":"object","properties":{"calendar":{"type":"object","additionalProperties":false,"required":["start_date","end_date"],"properties":{"start_date":{"type":["string","null"]},"end_date":{"type":["string","null"]}}},"indicator":{"type":"object","properties":{"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"analytics":{"type":"object","description":"Аналитика","properties":{"ref":{"type":"object","description":"Ссылочный тип на значение из другого справочника","properties":{"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"}},"required":["catalog_id","system_type"]},"required":{"type":"boolean","description":"Флаг обязательности значения из справочника"}},"additionalProperties":false,"required":["ref","required"]},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]}},"required":["indicator_type","indicator_essence","unit"],"additionalProperties":false},"attribute":{"type":"object","additionalProperties":false,"required":["constraint"],"properties":{"constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}}},"project_type":{"type":"object","properties":{"indicators":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null}},"required":["indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required"],"additionalProperties":false}},"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["string","null"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"project_require":{"type":"boolean","description":"Используется ли атрибут в описании проекта"},"project_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние проекты"},"project_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","project_require","project_inheritance","project_change"]}},"item_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава строки проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["string","null"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change"]}},"project_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"element":{"description":"Префикс для элемента","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}},"item_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"},"milestone":{"description":"Префикс для вехи","type":"string"},"pointer":{"description":"Префикс для этапа","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}}},"required":["indicators","project_attribute_composition","item_attribute_composition"],"additionalProperties":false},"unit":{"type":"object","properties":{"proportions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"denominator_id":{"type":"string","description":"ID записи знаменателя","minLength":21,"maxLength":21},"coefficient":{"type":"number","minimum":1,"maximum":1000,"description":"Коэффициент пересчета"}},"required":["denominator_id","coefficient"],"additionalProperties":false}}},"required":["proportions"],"additionalProperties":false},"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"}},"required":["calendar_id","is_custom_calendar"],"additionalProperties":false},"standard":{"type":"object","additionalProperties":false,"properties":{"duration_work_days":{"type":["number","null"],"description":"Продолжительность работ в днях"},"volume":{"type":["number","null"],"description":"Объём работы по нормативу"},"unit_id":{"type":["string","null"],"description":"Единица измерения (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21},"resource_amount":{"type":["number","null"],"description":"Количество единиц ресурса, выполняющих работу по нормативу"},"resource_description":{"type":["string","null"],"maxLength":100,"description":"Идентификация ресурса, для которого написан норматив (справочное поле)"},"labor_costs":{"type":["number","null"],"description":"Трудозатраты за весь период работ по нормативу"},"calculated_value":{"type":["string","null"],"enum":["amount","duration",null],"description":"Расчетная величина"},"performance":{"type":"number","description":"Производительность одной единицы ресурса в день по нормативу"},"performance_unit_id":{"type":"string","description":"Единица измерения производительности (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21}},"required":["duration_work_days","volume","unit_id","resource_amount","resource_description","labor_costs","calculated_value","performance","performance_unit_id"]}},"additionalProperties":false}}}},{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"element_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"element":{"type":"object","properties":{"code":{"description":"Код элемента справочника","type":["null","string"],"maxLength":100},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null}},"additionalProperties":false,"required":["code","group_id"]}},"required":["element"],"additionalProperties":false}},"required":["message","result"]}}}},"delete":{"description":"Удаление элемента по его ID","tags":["Универсальные методы работы с НСИ"],"parameters":[{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"element_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/nsi/{type}/{catalog_id}/element":{"post":{"description":"Создание элемента по его ID","tags":["Универсальные методы работы с НСИ"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"element":{"properties":{"attribute_value":{"items":{"type":"object","properties":{"id":{"type":"string","description":"ID значения атрибута","minLength":21,"maxLength":21},"attribute_composition_id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"value_string":{"type":["string","null"],"description":"Примитивное значение типа строка"},"value_date":{"type":["string","null"],"format":"date","description":"Примитивное значение типа дата"},"value_number":{"type":["number","null"],"description":"Примитивное значение типа число"},"value_boolean":{"type":["boolean","null"],"description":"Примитивное значение типа булево"},"value_link":{"type":["string","null"],"description":"Ссылка на пользовательский справочник"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_date","value_number","value_boolean","value_link"]},"type":"array"},"element_type":{"description":"Тип сущности","enum":["group","element"],"type":"string"},"description":{"description":"Описание элемента/группы справочника","type":["string","null"],"maxLength":500},"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"integer"},"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"code":{"description":"Код элемента справочника","type":"string","maxLength":100}},"required":["group_id","title","description","element_type","attribute_value"],"additionalProperties":false,"type":"object"},"context":{"type":"object","properties":{"calendar":{"type":"object","additionalProperties":false},"indicator":{"type":"object","properties":{"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"analytics":{"type":"object","description":"Аналитика","properties":{"ref":{"type":"object","description":"Ссылочный тип на значение из другого справочника","properties":{"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"}},"required":["catalog_id","system_type"]},"required":{"type":"boolean","description":"Флаг обязательности значения из справочника"}},"additionalProperties":false,"required":["ref","required"]},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]}},"required":["indicator_type","indicator_essence","unit"],"additionalProperties":false},"attribute":{"type":"object","additionalProperties":false,"required":["constraint"],"properties":{"constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}}},"project_type":{"type":"object","properties":{"indicators":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null}},"required":["indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required"],"additionalProperties":false}},"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["string","null"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"project_require":{"type":"boolean","description":"Используется ли атрибут в описании проекта"},"project_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние проекты"},"project_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","project_require","project_inheritance","project_change"]}},"item_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава строки проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["string","null"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change"]}},"project_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"element":{"description":"Префикс для элемента","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}},"item_numerator_level_setting":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"},"milestone":{"description":"Префикс для вехи","type":"string"},"pointer":{"description":"Префикс для этапа","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}}},"required":["indicators","project_attribute_composition","item_attribute_composition"],"additionalProperties":false},"unit":{"type":"object","properties":{"proportions":{"type":"array","items":{"type":"object","properties":{"denominator_id":{"type":"string","description":"ID записи знаменателя","minLength":21,"maxLength":21},"coefficient":{"type":"number","minimum":1,"maximum":1000,"description":"Коэффициент пересчета"}},"required":["denominator_id","coefficient"],"additionalProperties":false}}},"required":["proportions"],"additionalProperties":false},"customer":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"}},"required":["calendar_id","is_custom_calendar"],"additionalProperties":false},"standard":{"type":"object","additionalProperties":false,"properties":{"duration_work_days":{"type":["number","null"],"description":"Продолжительность работ в днях"},"volume":{"type":["number","null"],"description":"Объём работы по нормативу"},"unit_id":{"type":["string","null"],"description":"Единица измерения (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21},"resource_amount":{"type":["number","null"],"description":"Количество единиц ресурса, выполняющих работу по нормативу"},"resource_description":{"type":["string","null"],"maxLength":100,"description":"Идентификация ресурса, для которого написан норматив (справочное поле)"},"labor_costs":{"type":["number","null"],"description":"Трудозатраты за весь период работ по нормативу"},"calculated_value":{"type":["string","null"],"enum":["amount","duration",null],"description":"Расчетная величина"},"performance":{"type":"number","description":"Производительность одной единицы ресурса в день по нормативу"},"performance_unit_id":{"type":"string","description":"Единица измерения производительности (ID элемента справочника \"Единицы измерения\")","minLength":21,"maxLength":21}},"required":["duration_work_days","volume","unit_id","resource_amount","resource_description","labor_costs","calculated_value","performance","performance_unit_id"]}},"additionalProperties":false}}}},{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/nsi/{type}/{catalog_id}/composition":{"get":{"description":"Получение атрибутного состава элемента справочника и его значений, включая наследуемые значения","tags":["Универсальные методы работы с НСИ"],"parameters":[{"description":"Тип сущности","enum":["group","element"],"type":"string","required":true,"in":"query","name":"element_type"},{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":false,"in":"query","name":"parent_id"},{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":false,"in":"query","name":"element_id"},{"type":"string","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"type":"string","required":true,"in":"path","name":"type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"required":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"changed":{"type":"boolean","description":"Возможность изменения значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","attribute_constraint","required","changed"]}},"attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID значения атрибута","minLength":21,"maxLength":21},"attribute_composition_id":{"type":"string","description":"ID элемента атрибутного состава","minLength":21,"maxLength":21},"value":{"type":"string","description":"Значение атрибута (одно из пяти типов)"}},"additionalProperties":false,"required":["attribute_composition_id","value"]}}},"additionalProperties":false,"required":["attribute_composition","attribute_value"]}}}}}}},"/v1/nsi/attribute/element/tree/list":{"get":{"description":"Список элементов с контекстом атрибутов","tags":["Универсальные методы работы с НСИ"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"title":{"description":"Наименование элемента/группы справочника","type":"string","maxLength":255,"minLength":1},"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы справочника","minLength":21,"maxLength":21,"default":null},"element_type":{"description":"Тип сущности","enum":["group","element"],"type":"string"},"attribute":{"type":["null","object"],"properties":{"id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}},"required":["id","constraint"],"additionalProperties":false},"children":{"description":"Потомки","type":"array","items":{"$ref":"#/properties/result/items"}}},"required":["title","id","group_id","element_type","attribute"],"additionalProperties":false}}},"additionalProperties":false,"required":["message","result"]}}}}},"/v1/nsi/customer/{catalog_id}/roles":{"patch":{"description":"Обновление ролей справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"user_ids":{"type":"array","items":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21}}},"additionalProperties":false,"required":["id","user_ids"]}}},"additionalProperties":false,"required":["roles"]}},{"type":"string","description":"ID справочника","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение списка ролей справочника","tags":["Универсальные методы работы с НСИ"],"parameters":[{"type":"string","description":"ID справочника","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"additionalProperties":false,"required":["id","first_name","last_name","middle_name"]}}},"additionalProperties":false,"required":["id","users"]}}},"additionalProperties":false,"required":["roles"]}},"required":["message","result"]}}}}},"/v1/project/version/sync":{"post":{"description":"ProjectVersionSync","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_version_id":{"type":"string","maxLength":21,"minLength":21}},"required":["project_version_id"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/version/{project_version_id}":{"post":{"description":"Создание версии проекта","tags":["project version"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["message","result"]}}}}},"/v1/project/version/{id}":{"put":{"description":"UpdateProjectVersion","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"responsible_user_id":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/responsible_user_id"},"title":{"type":["string","null"],"minLength":0,"maxLength":255,"description":"Название версии проекта"}}}},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""}}}}}},"delete":{"description":"Удаление версии проекта (черновика или модели)","tags":["project version"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/v1/project/version/{id}/project-attribute-values":{"put":{"description":"Обновление значений атрибутов версии проекта","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_attribute_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/projectAttributeValue"}}},"required":["project_attribute_value"]}},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""}}}}}}},"/v1/project/{project_id}/version/{project_version_id}/model":{"post":{"description":"Создание модели версии проекта","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"is_actual":{"description":"Признак актуальности модели","type":["boolean","null"],"default":false},"actual_fact_border_time":{"description":"Граница актуального факта","type":["string","null"],"format":"date"},"model_description":{"description":"Описание модели","type":["string","null"],"maxLength":500}},"additionalProperties":false}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["message","result"]}}}},"put":{"description":"Обновление модели версии проекта","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"is_actual":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/is_actual"},"actual_fact_border_time":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/actual_fact_border_time"},"model_description":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/model_description"}}}},{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/message"}}}}}}},"/v1/project":{"post":{"description":"Создание проекта (в корне)","tags":["project"],"parameters":[{"type":["string","null"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект","required":false,"in":"query","name":"group_id"},{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности","default":null},"space_id":{"type":"string","description":"ID пространства (deprecated, оставлен для обратной совместимостью с томасом)","minLength":21,"maxLength":21},"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"responsible_user_id":{"type":["string","null"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ, по умолчанию - не учитывать ресурсы","default":"ignore_resources"},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"}},"additionalProperties":false,"required":["title","description","project_type_id"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"version":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["id","version"]}},"required":["message","result"]}}}}},"/v1/project/{project_id}/subproject":{"post":{"description":"Создание проекта (в корне)","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности","default":null},"space_id":{"type":"string","description":"ID пространства (deprecated, оставлен для обратной совместимостью с томасом)","minLength":21,"maxLength":21},"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"responsible_user_id":{"type":["string","null"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ, по умолчанию - не учитывать ресурсы","default":"ignore_resources"},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"}},"additionalProperties":false,"required":["title","description","project_type_id"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"version":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["id","version"]}},"required":["message","result"]}}}}},"/v1/project/{id}/version/{project_version_id}/copy":{"post":{"description":"Копирование проекта","tags":["project"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"result":{"type":"object","default":{},"properties":{"id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/id"},"version":{"type":"object","default":{},"properties":{"id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/id"}},"required":["id"]}},"required":["id","version"]}},"required":["message"]}}}}},"/v1/space":{"post":{"description":"Создание пространства","tags":["space"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-0/properties/space/properties/title"},"description":{"$ref":"#/definitions/def-0/properties/space/properties/description"},"locale":{"type":"string","enum":["ru","en"],"description":"Параметр локализации"},"user":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21},"email":{"type":"string","description":"Email пользователя"},"password":{"type":"string","description":"Пароль пользователя","minLength":6,"maxLength":30}},"required":["email","password"]}},"required":["title","description","locale","user"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/message"},"result":{"type":"object","default":{},"properties":{"id":{"type":"string","maxLength":21,"minLength":21}},"required":["id"]}},"required":["result"]}}}}},"/v1/space/{id}":{"delete":{"description":"Полное удаление спейса","tags":["space"],"parameters":[{"type":"string","description":"ID спейса","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение пространства по Id","tags":["space"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","default":{},"properties":{"id":{"type":"string","maxLength":21,"minLength":21},"title":{"type":"string","maxLength":100},"locale":{"type":"string","enum":["ru","en"],"description":"Параметр локализации"},"description":{"type":["null","string"],"maxLength":500},"add_time":{"type":"string","format":"date-time"},"update_time":{"type":"string","format":"date-time"},"add_user_id":{"type":"string","description":"Пользователь создавший запись","minLength":21,"maxLength":21}},"required":["id","title","locale","description","add_time","update_time","add_user_id"]}},"required":["result"]}}}}},"/v1/space/list":{"get":{"description":"Получение списка пространств","tags":["space"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID пространства","minLength":21,"maxLength":21},"title":{"type":"string","description":"Название спейса"},"description":{"type":["null","string"],"description":"Описание спейса"},"add_user_id":{"type":"string","description":"Пользователь создавший запись","minLength":21,"maxLength":21},"locale":{"type":"string","enum":["ru","en"],"description":"Параметр локализации"}},"additionalProperties":false,"required":["id","title","description","add_user_id","locale"]}}},"required":["result"]}}}}},"/v1/ldap/space":{"post":{"description":"Создание пространства ldap","tags":["space"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-0/properties/space/properties/title"},"description":{"$ref":"#/definitions/def-0/properties/space/properties/description"},"locale":{"type":"string","enum":["ru","en"],"description":"Параметр локализации"},"user":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21},"email":{"type":"string","description":"Email пользователя"},"password":{"type":"string","description":"Пароль пользователя","minLength":6,"maxLength":30}},"required":["email","password"]},"ldap":{"type":"object","required":["service_user","service_password","host","domain","base_dn"],"additionalProperties":false,"properties":{"service_user":{"type":"string","description":"Имя пользователя, используемое в сервисных запросах к LDAP-серверу"},"service_password":{"type":"string","description":"Пароль пользователя, используемый в сервисных запросах к LDAP-серверу"},"host":{"type":"string","description":"Адрес подключения к серверу LDAP"},"domain":{"type":"string","description":"Доменное имя, используемое в доменном логине пользователя"},"base_dn":{"type":"string","description":"Ограничение на область поиска объектов в каталоге LDAP, применяемое в запросах на поиск пользователей"},"is_ad":{"type":"boolean","default":false,"description":"(опционально) – использование Active Directory"}}}},"required":["title","description","locale","user","ldap"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/message"},"result":{"type":"object","default":{},"properties":{"id":{"type":"string","maxLength":21,"minLength":21}},"required":["id"]}},"required":["result"]}}}}},"/v1/project/version/{id}/calculate":{"post":{"description":"Запуск расчета версии проекта","tags":["project version"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"work_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/work_id"}},"required":["message","work_id"]}}}}},"/v1/project/{id}":{"delete":{"description":"Удаление проекта","tags":["project"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""}},"required":["message"]}}}},"get":{"description":"Получение проекта по Id","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"space_id":{"type":"string","description":"ID пространства пользователя","minLength":21,"maxLength":21},"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"maxLength":21,"minLength":21,"description":"ID родительского проекта"},"path":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"auto_calculation":{"description":"Автоматический расчет ","type":"boolean"},"source_version":{"type":"string","enum":["current","target"],"description":"Источник данных"},"calculate_vcd_and_progress":{"description":"Опция автоматического расчета: считать ОКР и прогресс","type":"boolean"},"calculate_critical_path":{"description":"Опция автоматического расчета: считать критические пути","type":"boolean"},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ"},"block_past_fact":{"type":"boolean","description":"Блокировать факт в прошлом"},"fact_window_days":{"type":"number","description":"Окно дней для факта","minimum":1,"maximum":9999},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"},"versions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"title":{"type":["null","string"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"status":{"type":"string","enum":["current","archive","draft","model"],"description":"Статус версии проекта"},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":"string","description":"Значение атрибута приведенное к строке"}},"required":["id","attribute_composition_id","value"]}},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"is_actual":{"description":"Признак актуальности модели","type":["null","boolean"],"default":false},"actual_fact_border_time":{"description":"Граница актуального факта","type":["null","string"],"format":"date"},"model_description":{"description":"Описание модели","type":["null","string"],"maxLength":500},"responsible_user_id":{"type":["null","string"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21}},"required":["id","title","status","add_time","update_time","project_type_id","responsible_user_id","is_actual","actual_fact_border_time","model_description"]}}},"additionalProperties":false,"required":["id","title","description","add_time","update_time","space_id","block_past_fact","fact_window_days","auto_completion_date_set","source_version","prevent_fact_exceed_plan"]}},"required":["result"]}}}},"put":{"description":"Обновление проекта","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"description":"Код элемента проекта","type":"string","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"auto_calculation":{"description":"Автоматический расчет ","type":"boolean"},"calculate_vcd_and_progress":{"description":"Опция автоматического расчета: считать ОКР и прогресс","type":"boolean"},"calculate_critical_path":{"description":"Опция автоматического расчета: считать критические пути","type":"boolean"},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ"},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"}},"additionalProperties":false,"required":["title","description"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"patch":{"description":"Частичное обновление проекта","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"auto_calculation":{"description":"Автоматический расчет ","type":"boolean"},"source_version":{"type":"string","enum":["current","target"],"description":"Источник данных"},"calculate_vcd_and_progress":{"description":"Опция автоматического расчета: считать ОКР и прогресс","type":"boolean"},"calculate_critical_path":{"description":"Опция автоматического расчета: считать критические пути","type":"boolean"},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ"},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{id}/full":{"delete":{"description":"Полное удаление проекта","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{id}/deleted-children":{"get":{"description":"Получение списка удаленных подпроектов проекта (для полного удаления проекта)","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"string","description":"ID подпроекта","minLength":21,"maxLength":21}}},"required":["message","result"]}}}}},"/v1/project/{id}/calendar":{"patch":{"description":"Обновление календаря проекта","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21}},"additionalProperties":false,"required":["calendar_id"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{id}/parent":{"patch":{"description":"Обновление родителя проекта","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительского проекта"},"group_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект"}},"additionalProperties":false,"required":["parent_id"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{id}/roles":{"patch":{"description":"Обновление ролей проекта","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"user_ids":{"type":"array","items":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21}}},"additionalProperties":false,"required":["id","user_ids"]}},"unique_permission":{"type":"boolean","default":false,"description":"Признак уникальных прав доступа"}},"additionalProperties":false,"required":["roles","unique_permission"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение списка ролей проекта","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"additionalProperties":false,"required":["id","first_name","last_name","middle_name"]}}},"additionalProperties":false,"required":["id","users"]}},"unique_permission":{"type":"boolean","default":false,"description":"Признак уникальных прав доступа"}},"additionalProperties":false,"required":["roles","unique_permission"]}},"required":["message","result"]}}}}},"/v1/project/data/tree/list":{"post":{"description":"Список данных проекта","tags":["project"],"parameters":[{"type":"boolean","description":"Добавлять ли в дерево группы","required":false,"in":"query","name":"withGroups"},{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"filter":{"type":"object","additionalProperties":false,"properties":{"statuses":{"type":"array","items":{"description":"Статус проекта","type":"string","enum":["not_started","in_schedule","problematic","deadlines_failing","completed","no_status"]}},"project_type_ids":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"progress_plan":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number","minimum":0,"maximum":100},"to":{"description":"Диапазон числовых значений \"До\"","type":"number","minimum":0,"maximum":100}}},"progress_fact":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number","minimum":0},"to":{"description":"Диапазон числовых значений \"До\"","type":"number","minimum":0}}},"progress_diff":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number","minimum":-100},"to":{"description":"Диапазон числовых значений \"До\"","type":"number","minimum":-100}}},"attributes":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string","description":"Id атрибута","maxLength":21,"minLength":21},"value":{"type":"object","additionalProperties":false,"properties":{"link":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"number":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number"},"to":{"description":"Диапазон числовых значений \"До\"","type":"number"}}},"date":{"type":"object","additionalProperties":false,"properties":{"date_from":{"description":"Диапазон значений дат \"От\"","type":"string","format":"date"},"date_to":{"description":"Диапазон значений дат \"До\"","type":"string","format":"date"}}},"boolean":{"type":"boolean","description":"Логическое значение атрибута"}}}}}}}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["result"],"properties":{"result":{"type":"array","items":{"type":"object","discriminator":{"propertyName":"entity_type"},"oneOf":[{"type":"object","properties":{"entity_type":{"type":"string","enum":["project"]},"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"code":{"type":["string","null"],"description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"attributes":{"type":"array","items":{"description":"Атрибут проекта","type":"object","properties":{"id":{"type":"string","description":"ID атрибута","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование атрибута"},"value":{"type":"string","description":"Значение атрибута"},"type":{"type":"string","enum":["string","number","date","boolean"]}},"additionalProperties":false,"required":["id","title","value","type"]}},"versions":{"type":"array","items":{"type":"object","description":"Версия проекта","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"title":{"type":["null","string"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"status":{"type":"string","enum":["current","archive","draft","model"],"description":"Статус версии проекта"},"add_time":{"type":"string","description":"Дата создания"}},"required":["id","title","status","add_time"]}},"progress":{"description":"Прогресс проекта","type":"object","properties":{"plan":{"description":"Плановый процент готовности","type":"number"},"fact":{"description":"Фактический процент готовности","type":"number"},"deviation":{"description":"Отклонение процента готовности","type":"number"}},"additionalProperties":false,"required":["plan","fact","deviation"]},"status":{"description":"Статус проекта","type":"string","enum":["not_started","in_schedule","problematic","deadlines_failing","completed","no_status"]},"children":{"type":"array","description":"Подпроекты"}},"required":["id","code","title","attributes","versions","progress","status","entity_type"]},{"type":"object","properties":{"entity_type":{"type":"string","enum":["group"]},"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"children":{"type":"array","description":"Дочерние элементы (группы или проекты)"},"progress":{"description":"Прогресс группы","type":"object","properties":{"fact":{"description":"Фактический процент готовности","type":"number"}},"additionalProperties":false,"required":["fact"]}},"required":["id","parent_id","title","description","add_time","update_time","progress","entity_type"]}]}}}}}}}},"/v1/project/list":{"get":{"description":"Получение списка проектов","tags":["project"],"parameters":[{"type":"boolean","description":"Добавлять ли в дерево группы","required":false,"in":"query","name":"withGroups"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","discriminator":{"propertyName":"entity_type"},"oneOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21},"space_id":{"type":"string","maxLength":21,"minLength":21},"code":{"description":"Код элемента проекта","type":"string","maxLength":100},"sequence":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/sequence"},"group_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21},"path":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"title":{"type":"string","maxLength":100},"description":{"type":["string","null"],"maxLength":500},"add_time":{"type":"string","format":"date-time"},"update_time":{"type":"string","format":"date-time"},"level":{"type":"number"},"calendar_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID календаря"},"project_type_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/project_type_id"},"children":{},"versions":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/id"},"title":{"type":["string","null"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"status":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/status"},"project_type_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/project_type_id"},"responsible_user_id":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/responsible_user_id"},"is_actual":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/is_actual"},"actual_fact_border_time":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/actual_fact_border_time"},"model_description":{"$ref":"#/definitions/def-0/properties/ProjectVersion/properties/model_description"},"add_time":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/add_time"},"update_time":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/update_time"},"start_date_plan":{"type":["string","null"],"format":"date","description":"Наиболее ранняя дата плана"},"end_date_plan":{"type":["string","null"],"format":"date","description":"Наиболее поздняя дата плана"},"start_date_plan_or_fact":{"type":["string","null"],"format":"date","description":"Наиболее ранняя дата плана или факта"},"end_date_plan_or_fact":{"type":["string","null"],"format":"date","description":"Наиболее поздняя дата плана или факта"}},"required":["id","title","status","project_type_id","responsible_user_id","is_actual","actual_fact_border_time","model_description","add_time","update_time","start_date_plan","end_date_plan","start_date_plan_or_fact","end_date_plan_or_fact"]}},"entity_type":{"type":"string","enum":["project"]}},"required":["id","title","description","add_time","update_time","group_id","parent_id","space_id","project_type_id","versions","entity_type"]},{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["null","string"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"children":{"type":"array","description":"Дочерние подгруппы"},"entity_type":{"type":"string","enum":["group"]}},"required":["id","parent_id","title","description","add_time","update_time","entity_type"]}]}}},"required":["result"]}}}}},"/v1/dependency/{project_version_id}":{"get":{"description":"Получение связей","tags":["Связи"],"parameters":[{"type":"string","description":"Work id param","minLength":21,"maxLength":21,"required":false,"in":"query","name":"work_id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"result":{"type":"array","default":[],"items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/dependency/properties/id"},"predecessor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/predecessor_item_id"},"successor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/successor_item_id"},"offset":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset"},"percent":{"$ref":"#/definitions/def-0/properties/dependency/properties/percent"},"dep_type":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_type"},"event_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/event_time"},"target_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/target_time"},"implicit":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit"},"implicit_comment":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit_comment"},"conflict":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict"},"conflict_source_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict_source_time"},"conflict_comment":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict_comment"},"effective":{"$ref":"#/definitions/def-0/properties/dependency/properties/effective"},"dep_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_mode"},"offset_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset_mode"}},"required":["id","predecessor_item_id","successor_item_id","offset","percent","dep_type","event_time","target_time","implicit","implicit_comment","conflict","conflict_source_time","conflict_comment","effective","dep_mode","offset_mode"]}}}}}}}},"/v1/project/version/{id}/approve":{"patch":{"description":"Утверждение версии проекта","tags":["project version"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""}},"required":["message"]}}}}},"/v1/project/{project_id}/dependency/pred/{predecessor_item_id}/succ/{successor_item_id}":{"post":{"description":"Создание связи","tags":["Связи"],"parameters":[{"type":"boolean","default":true,"description":"Признак рекомендации к расчету","required":false,"in":"query","name":"calculation"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"},{"name":"body","in":"body","schema":{"type":"object","properties":{"id":{"type":"string","description":"ID связи","minLength":21,"maxLength":21},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"percent":{"type":["integer","null"],"minimum":0,"maximum":100,"description":"Сдвиг по связи в процентах","default":null},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"implicit":{"type":"boolean","description":"Признак неявной связи","default":false},"implicit_comment":{"type":["string","null"],"description":"Комментарий к неявной связи","default":null},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"}},"required":["offset","percent","dep_type"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID последователя","minLength":21,"maxLength":21,"required":true,"in":"path","name":"successor_item_id"},{"type":"string","description":"ID предшественника","minLength":21,"maxLength":21,"required":true,"in":"path","name":"predecessor_item_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"work_id":{"type":"string","description":"Work ID","minLength":21,"maxLength":21},"result":{"type":"object","default":{},"properties":{"id":{"type":"string","description":"ID связи","minLength":21,"maxLength":21}},"required":["id"]}},"required":["message","work_id","result"]}}}}},"/v1/project/{project_id}/dependency/succ/{successor_item_id}":{"put":{"description":"Создание/редактирование связи","tags":["Связи"],"parameters":[{"type":"boolean","default":true,"description":"Признак рекомендации к расчету","required":false,"in":"query","name":"calculation"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"},{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID связи","minLength":21,"maxLength":21},"predecessor_item_id":{"type":"string","description":"ID предшественника","minLength":21,"maxLength":21},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"percent":{"type":["integer","null"],"minimum":0,"maximum":100,"description":"Сдвиг по связи в процентах","default":null},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"implicit":{"type":"boolean","description":"Признак неявной связи","default":false},"implicit_comment":{"type":["string","null"],"description":"Комментарий к неявной связи","default":null},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"}},"required":["predecessor_item_id","offset","percent","dep_type"]}}},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID последователя","minLength":21,"maxLength":21,"required":true,"in":"path","name":"successor_item_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/v1/project/{project_id}/dependency/{id}":{"delete":{"description":"Удаление связи","tags":["Связи"],"parameters":[{"type":"string","description":"ID связи","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"deprecated":true,"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/v1/project/{project_id}/dependency/succ/{successor_item_id}/external/list/incoming":{"get":{"description":"Получение списка входящих внешних связей по последователю","tags":["Внешние связи"],"parameters":[{"type":"string","description":"ID проекта последователя","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID последователя","minLength":21,"maxLength":21,"required":true,"in":"path","name":"successor_item_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID внешней связи","minLength":21,"maxLength":21},"target_time":{"type":["null","string"],"format":"date","description":"Целевая дата связи","default":null},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"},"deviation":{"type":["null","number"],"description":"Нарушение"},"predecessor":{"type":"object","properties":{"id":{"type":"string","description":"ID предшественника","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Original ID предшественника","minLength":21,"maxLength":21},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"project":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта предшественника","minLength":21,"maxLength":21},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"required":["id","title","no_access"]}},"required":["id","original_id","title","no_access","project_version_id","project"]}},"required":["id","target_time","dep_type","dep_mode","offset","offset_mode","deviation","predecessor"]}}},"required":["message","result"]}}}}},"/v1/project/{project_id}/dependency/external/list/incoming":{"get":{"description":"Получение списка входящих внешних связей по версии проекта","tags":["Внешние связи"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"external_dependency_id":{"type":"string","description":"ID внешней связи","minLength":21,"maxLength":21},"milestone":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента проекта","type":"string"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"start_time":{"description":"Дата начала","format":"date","type":"string"}},"additionalProperties":false,"required":["id","original_id","title","start_time"]},"deviation":{"type":["null","number"],"description":"Нарушение"},"predecessor":{"type":"object","description":"Предшественник","properties":{"project":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"additionalProperties":false,"required":["id","title","no_access"]},"version":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"status":{"type":"string","description":"Статус версии"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"version_status_id":{"type":["null","string"],"description":"ID статуса версии","minLength":21,"maxLength":21},"version_status_title":{"description":"Название элемента справочника Статусы версий","type":["null","string"]},"version_type_id":{"type":["null","string"],"description":"ID типа версии","minLength":21,"maxLength":21},"version_type_title":{"description":"Название элемента справочника Типы версий","type":["null","string"]},"is_current":{"description":"Признак рабочей версии","type":["null","boolean"]},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"additionalProperties":false,"required":["id","status","add_time","version_status_id","version_type_id","is_current","no_access"]},"milestone":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента проекта","type":"string"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"additionalProperties":false,"required":["id","original_id","title","no_access"]},"target_time":{"type":["null","string"],"format":"date","description":"Целевая дата связи"}},"additionalProperties":false,"required":["project","milestone","version","target_time"]}},"required":["external_dependency_id","milestone","deviation","predecessor"]}}},"required":["message","result"]}}}}},"/v1/project/{project_id}/dependency/external/list/outgoing":{"get":{"description":"Получение списка исходящих внешних связей по версии проекта","tags":["Внешние связи"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"external_dependency_id":{"type":"string","description":"ID внешней связи","minLength":21,"maxLength":21},"milestone":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента проекта","type":"string"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100}},"additionalProperties":false,"required":["id","original_id","title"]},"target_time":{"type":["null","string"],"format":"date","description":"Целевая дата связи"},"deviation":{"type":["null","number"],"description":"Нарушение"},"successor":{"type":"object","description":"Последователь","properties":{"project":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"additionalProperties":false,"required":["id","title","no_access"]},"version":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"status":{"type":"string","description":"Статус версии"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"version_status_id":{"type":["null","string"],"description":"ID статуса версии","minLength":21,"maxLength":21},"version_status_title":{"description":"Название элемента справочника Статусы версий","type":["null","string"]},"version_type_id":{"type":["null","string"],"description":"ID типа версии","minLength":21,"maxLength":21},"version_type_title":{"description":"Название элемента справочника Типы версий","type":["null","string"]},"is_current":{"description":"Признак рабочей версии","type":["null","boolean"]},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"additionalProperties":false,"required":["id","status","add_time","version_status_id","version_status_title","version_type_id","version_type_title","is_current","no_access"]},"milestone":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента проекта","type":"string"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"},"start_time":{"description":"Дата начала","format":"date","type":"string"}},"additionalProperties":false,"required":["id","original_id","title","no_access","start_time"]}},"additionalProperties":false,"required":["project","milestone","version"]}},"required":["external_dependency_id","milestone","target_time","deviation","successor"]}}},"required":["message","result"]}}}}},"/v1/project/{project_id}/dependency/succ/{successor_item_id}/external":{"put":{"description":"Редактирование внешних связей по последователю","tags":["Внешние связи"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID внешней связи","minLength":21,"maxLength":21},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"},"predecessor_original_id":{"type":"string","description":"Original ID предшественника","minLength":21,"maxLength":21},"predecessor_project_id":{"type":"string","description":"ID проекта предшественника","minLength":21,"maxLength":21}},"required":["dep_type","offset","predecessor_project_id","predecessor_original_id"],"additionalProperties":false}}},{"type":"string","description":"ID проекта последователя","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID последователя","minLength":21,"maxLength":21,"required":true,"in":"path","name":"successor_item_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/version/{project_version_id}/dependency/external/sync-deadlines":{"patch":{"description":"Синхронизация сроков внешних связей","tags":["Внешние связи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"dependency_id":{"type":"string","description":"ID внешней связи","minLength":21,"maxLength":21},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"additionalProperties":false,"required":["dependency_id","project_version_id"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/short/list":{"get":{"description":"Получение списка проектов (с минимальным набором полей)","tags":["project"],"parameters":[{"type":"string","enum":["exclude","stub_no_access"],"default":"exclude","description":"Фильтр по правам доступа. Исключить недоступные/Установить заглушку","required":true,"in":"query","name":"permission_filter"},{"type":"array","items":{"type":"string","enum":["current","archive","draft","model"],"description":"Статус версии проекта"},"required":false,"in":"query","name":"version_status"},{"description":"Признак рабочей версии","type":"boolean","required":false,"in":"query","name":"is_current"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"group_id":{"type":["null","string"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект"},"parent_id":{"type":["null","string"],"maxLength":21,"minLength":21,"description":"ID родительского проекта"},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"required":["id","group_id","parent_id","title","no_access","add_time"]}}},"required":["message","result"]}}}}},"/v1/project/{project_id}/milestone/short/list":{"get":{"description":"Получение списка вех проекта (с минимальным набором полей)","tags":["project"],"parameters":[{"type":"string","enum":["exclude","stub_no_access"],"default":"exclude","description":"Фильтр по правам доступа. Исключить недоступные/Установить заглушку","required":true,"in":"query","name":"permission_filter"},{"type":"array","items":{"type":"string","enum":["current","archive","draft","model"],"description":"Статус версии проекта"},"required":false,"in":"query","name":"version_status"},{"description":"Признак рабочей версии","type":"boolean","required":false,"in":"query","name":"is_current"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"version_status_id":{"type":["null","string"],"description":"ID статуса версии","minLength":21,"maxLength":21},"version_status_title":{"description":"Название элемента справочника Статусы версий","type":["null","string"]},"version_type_id":{"type":["null","string"],"description":"ID типа версии","minLength":21,"maxLength":21},"version_type_title":{"description":"Название элемента справочника Типы версий","type":["null","string"]},"is_current":{"description":"Признак рабочей версии","type":["null","boolean"]},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"required":["id","original_id","project_version_id","title","version_status_id","version_status_title","version_type_id","version_type_title","is_current","no_access"]}}},"required":["message","result"]}}}}},"/v1/project/item/{id}":{"get":{"description":"Получение информации по ID элемента","tags":["project item"],"parameters":[{"type":"string","description":"ID элемента проекта","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/id"},"project_version_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/project_version_id"},"parent_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/parent_id"},"original_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/original_id"},"project_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/project_id"},"code":{"$ref":"#/definitions/def-0/properties/projectItem/properties/code"},"sequence":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/sequence"},"title":{"$ref":"#/definitions/def-0/properties/projectItem/properties/title"},"item_type":{"$ref":"#/definitions/def-0/properties/projectItem/properties/item_type"},"description":{"$ref":"#/definitions/def-0/properties/projectItem/properties/description"},"start_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time"},"end_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time"},"duration_calendar_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_calendar_days"},"duration_work_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_days"},"original_duration":{"type":["null","number"],"minimum":1,"maximum":9999,"description":"Исходная длительность работы"},"original_duration_fixed":{"type":["null","boolean"],"description":"Признак зафиксированной исходной длительности работы"},"duration_work_shifts":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_shifts"},"duration_work_hours":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_hours"},"start_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time_mode"},"start_time_min":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time_min"},"start_time_max":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time_max"},"end_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time_mode"},"end_time_min":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time_min"},"end_time_max":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time_max"},"priority":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority"},"priority_duration":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority_duration"},"calendar_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/calendar_id"},"is_custom_calendar":{"$ref":"#/definitions/def-0/properties/projectItem/properties/is_custom_calendar"},"manual_start_time":{"description":"Дата начала заданная вручную","format":"date","type":["null","string"],"default":null},"manual_end_time":{"description":"Дата завершения заданная вручную","format":"date","type":["null","string"],"default":null},"dependencies_internal_incoming":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/dependency/properties/id"},"predecessor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/predecessor_item_id"},"successor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/successor_item_id"},"dep_type":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_type"},"offset":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset"},"percent":{"$ref":"#/definitions/def-0/properties/dependency/properties/percent"},"event_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/event_time"},"target_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/target_time"},"implicit":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit"},"implicit_comment":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit_comment"},"conflict":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict"},"conflict_source_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict_source_time"},"conflict_comment":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict_comment"},"effective":{"$ref":"#/definitions/def-0/properties/dependency/properties/effective"},"dep_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_mode"},"offset_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset_mode"}},"required":["id","predecessor_item_id","successor_item_id","dep_type","offset","percent","event_time","target_time","implicit","implicit_comment","conflict","conflict_source_time","conflict_comment","effective","dep_mode","offset_mode"]}},"dependencies_internal_outgoing":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/dependency/properties/id"},"predecessor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/predecessor_item_id"},"successor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/successor_item_id"},"dep_type":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_type"},"offset":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset"},"percent":{"$ref":"#/definitions/def-0/properties/dependency/properties/percent"},"event_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/event_time"},"target_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/target_time"},"implicit":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit"},"implicit_comment":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit_comment"},"conflict":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict"},"conflict_source_time":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict_source_time"},"conflict_comment":{"$ref":"#/definitions/def-0/properties/dependency/properties/conflict_comment"},"effective":{"$ref":"#/definitions/def-0/properties/dependency/properties/effective"},"dep_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_mode"},"offset_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset_mode"}},"required":["id","predecessor_item_id","successor_item_id","dep_type","offset","percent","event_time","target_time","implicit","implicit_comment","conflict","conflict_source_time","conflict_comment","effective","dep_mode","offset_mode"]}},"lock_start_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/lock_start_time"},"lock_end_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/lock_end_time"},"item_indicator_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemIndicatorValueRead"}},"item_attribute_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemAttributeValueRead"}},"add_time":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/add_time"},"update_time":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/update_time"},"progress":{"$ref":"#/definitions/def-0/properties/projectItem/properties/progress"},"deadline_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/deadline_time"},"deadline_direction":{"$ref":"#/definitions/def-0/properties/projectItem/properties/deadline_direction"},"delay_common_calendar_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/delay_common_calendar_days"},"delay_common_work_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/delay_common_work_days"},"calc_critical_paths":{"type":"boolean","default":false,"description":"Настройка для расчета критических путей, по умолчанию признак = false"},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ"}},"additionalProperties":false,"required":["id","original_id","project_version_id","project_id","title","item_type","start_time","end_time","original_duration","original_duration_fixed","priority","dependencies_internal_incoming","dependencies_internal_outgoing","lock_start_time","lock_end_time","add_time","update_time","item_indicator_value","item_attribute_value","start_time_mode","start_time_min","start_time_max","end_time_mode","end_time_min","end_time_max","deadline_time","deadline_direction","delay_common_calendar_days","delay_common_work_days","manual_start_time","manual_end_time","calc_duration_method"]}},"required":["result"]}}}},"delete":{"description":"Удаление элемента проекта","tags":["project item"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"work_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/work_id"}},"required":["message","work_id"]}}}},"put":{"description":"Обновление элемента проекта","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"item_type":{"$ref":"#/definitions/def-0/properties/projectItem/properties/item_type"},"parent_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/parent_id"},"common":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-0/properties/projectItem/properties/title"},"description":{"$ref":"#/definitions/def-0/properties/projectItem/properties/description"},"start_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time"},"end_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time"},"start_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time_mode"},"end_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time_mode"},"code":{"$ref":"#/definitions/def-0/properties/projectItem/properties/code"},"sequence":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/sequence"},"duration_calendar_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_calendar_days"},"duration_work_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_days"},"duration_work_shifts":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_shifts"},"duration_work_hours":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_hours"},"priority":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority"},"priority_duration":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority_duration"},"calendar_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/calendar_id"},"is_custom_calendar":{"$ref":"#/definitions/def-0/properties/projectItem/properties/is_custom_calendar"},"manual_start_time":{"description":"Дата начала заданная вручную","format":"date","type":"string"},"manual_end_time":{"description":"Дата завершения заданная вручную","format":"date","type":"string"},"dependencies_internal":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/dependency/properties/id"},"predecessor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/predecessor_item_id"},"offset":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset"},"percent":{"$ref":"#/definitions/def-0/properties/dependency/properties/percent"},"dep_type":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_type"},"implicit":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit"},"implicit_comment":{"$ref":"#/definitions/def-0/properties/dependency/properties/implicit_comment"},"dep_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_mode"},"offset_mode":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset_mode"}},"required":["predecessor_item_id","offset","percent","dep_type"]}},"item_indicator_value":{"type":"array","items":{"type":"object","required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"],"additionalProperties":false,"properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":"number","description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}}}},"item_attribute_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemAttributeValue"}},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ"}},"required":["title","start_time","end_time","duration_calendar_days","duration_work_days","priority_duration"]},"milestone":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-0/properties/projectItem/properties/title"},"description":{"$ref":"#/definitions/def-0/properties/projectItem/properties/description"},"start_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time"},"start_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time_mode"},"end_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time_mode"},"code":{"$ref":"#/definitions/def-0/properties/projectItem/properties/code"},"sequence":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/sequence"},"priority":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority"},"dependencies_internal":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/dependency/properties/id"},"predecessor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/predecessor_item_id"},"offset":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset"},"percent":{"$ref":"#/definitions/def-0/properties/dependency/properties/percent"},"dep_type":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_type"}},"required":["predecessor_item_id","offset","percent","dep_type"]}},"item_indicator_value":{"type":"array","items":{"type":"object","required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"],"additionalProperties":false,"properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":"number","description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}}}},"item_attribute_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemAttributeValue"}},"deadline_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/deadline_time"},"deadline_direction":{"$ref":"#/definitions/def-0/properties/projectItem/properties/deadline_direction"},"calendar_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/calendar_id"},"is_custom_calendar":{"$ref":"#/definitions/def-0/properties/projectItem/properties/is_custom_calendar"},"calc_critical_paths":{"type":"boolean","default":false,"description":"Настройка для расчета критических путей, по умолчанию признак = false"}},"required":["title","start_time"]},"parent":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-0/properties/projectItem/properties/title"},"description":{"$ref":"#/definitions/def-0/properties/projectItem/properties/description"},"code":{"$ref":"#/definitions/def-0/properties/projectItem/properties/code"},"sequence":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/sequence"},"priority":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority"},"calendar_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/calendar_id"},"is_custom_calendar":{"$ref":"#/definitions/def-0/properties/projectItem/properties/is_custom_calendar"},"item_attribute_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemAttributeValue"}},"start_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time_mode"},"end_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time_mode"}},"required":["title"]},"pointer":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-0/properties/projectItem/properties/title"},"code":{"$ref":"#/definitions/def-0/properties/projectItem/properties/code"},"sequence":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/sequence"},"description":{"$ref":"#/definitions/def-0/properties/projectItem/properties/description"},"start_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time"},"end_time":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time"},"start_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/start_time_mode"},"end_time_mode":{"$ref":"#/definitions/def-0/properties/projectItem/properties/end_time_mode"},"duration_calendar_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_calendar_days"},"duration_work_days":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_days"},"duration_work_shifts":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_shifts"},"duration_work_hours":{"$ref":"#/definitions/def-0/properties/projectItem/properties/duration_work_hours"},"priority":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority"},"priority_duration":{"$ref":"#/definitions/def-0/properties/projectItem/properties/priority_duration"},"calendar_id":{"$ref":"#/definitions/def-0/properties/projectItem/properties/calendar_id"},"is_custom_calendar":{"$ref":"#/definitions/def-0/properties/projectItem/properties/is_custom_calendar"},"dependencies_internal":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-0/properties/dependency/properties/id"},"predecessor_item_id":{"$ref":"#/definitions/def-0/properties/dependency/properties/predecessor_item_id"},"offset":{"$ref":"#/definitions/def-0/properties/dependency/properties/offset"},"percent":{"$ref":"#/definitions/def-0/properties/dependency/properties/percent"},"dep_type":{"$ref":"#/definitions/def-0/properties/dependency/properties/dep_type"}},"required":["predecessor_item_id","offset","percent","dep_type"]}},"item_attribute_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemAttributeValue"}}},"required":["title","duration_calendar_days","duration_work_days","priority","priority_duration","start_time","end_time"]},"additional":{"type":"object","additionalProperties":false,"properties":{"calculation":{"type":"boolean","default":true,"description":"Признак рекомендации к расчету"}}}},"required":["item_type"]}},{"type":"string","maxLength":21,"minLength":21,"description":"Primary key","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"work_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/work_id"}}}}}}},"/v1/project/item/{id}/copy":{"post":{"description":"Копирование элемента проекта","tags":["project item"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"ID элемента проекта","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"result":{"type":"object","default":{},"properties":{"id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/id"}},"required":["id"]},"work_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/work_id"}},"required":["message","work_id"]}}}}},"/v1/project/{project_id}/version/{project_version_id}/item":{"post":{"description":"Создание элемента проекта","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"parent_id":{"type":["string","null"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"item_type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"common":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"description":{"type":["string","null"],"description":"Описание элемента","default":null},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"code":{"description":"Код элемента проекта","type":["string","null"],"maxLength":100,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"duration_calendar_days":{"type":["number","null"],"description":"Длительность элемента в календарных днях","minimum":1},"duration_work_days":{"type":["number","null"],"minimum":0,"description":"Длительность элемента в рабочих днях"},"duration_work_shifts":{"type":["number","null"],"description":"Длительность элемента в рабочих сменах"},"duration_work_hours":{"type":["number","null"],"description":"Длительность элемента в рабочих часах"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"},"calendar_id":{"description":"ID календаря","type":["string","null"]},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"},"manual_start_time":{"description":"Дата начала заданная вручную","format":"date","type":"string"},"manual_end_time":{"description":"Дата завершения заданная вручную","format":"date","type":"string"},"dependencies_internal":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID связи","minLength":21,"maxLength":21},"predecessor_item_id":{"type":"string","description":"ID предшественника","minLength":21,"maxLength":21},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"percent":{"type":["integer","null"],"minimum":0,"maximum":100,"description":"Сдвиг по связи в процентах","default":null},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"implicit":{"type":"boolean","description":"Признак неявной связи","default":false},"implicit_comment":{"type":["string","null"],"description":"Комментарий к неявной связи","default":null},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"}},"required":["predecessor_item_id","offset","percent","dep_type"]}},"item_indicator_value":{"type":"array","items":{"type":"object","required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"],"additionalProperties":false,"properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":"number","description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}}}},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ"}},"required":["title","start_time","end_time","duration_calendar_days","duration_work_days"]},"milestone":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"description":{"type":["string","null"],"description":"Описание элемента","default":null},"start_time":{"description":"Дата начала","format":"date","type":"string"},"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"code":{"description":"Код элемента проекта","type":["string","null"],"maxLength":100,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"dependencies_internal":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID связи","minLength":21,"maxLength":21},"predecessor_item_id":{"type":"string","description":"ID предшественника","minLength":21,"maxLength":21},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"percent":{"type":["integer","null"],"minimum":0,"maximum":100,"description":"Сдвиг по связи в процентах","default":null},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"implicit":{"type":"boolean","description":"Признак неявной связи","default":false},"implicit_comment":{"type":["string","null"],"description":"Комментарий к неявной связи","default":null},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"}},"required":["predecessor_item_id","offset","percent","dep_type"]}},"item_indicator_value":{"type":"array","items":{"type":"object","required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"],"additionalProperties":false,"properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":"number","description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}}}},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"deadline_time":{"type":["string","null"],"format":"date","description":"Дата дедлайна","default":null},"deadline_direction":{"type":["string","null"],"enum":["jit","asap"],"description":"Направление дедлайна","default":"jit"},"calendar_id":{"description":"ID календаря","type":["string","null"]},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"},"manual_start_time":{"description":"Дата начала заданная вручную","format":"date","type":"string"},"calc_critical_paths":{"type":"boolean","default":false,"description":"Настройка для расчета критических путей, по умолчанию признак = false"}},"required":["title","start_time","calendar_id"]},"parent":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"description":{"type":["string","null"],"description":"Описание элемента","default":null},"code":{"description":"Код элемента проекта","type":["string","null"],"maxLength":100,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"calendar_id":{"description":"ID календаря","type":["string","null"]},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"}},"required":["title"]},"pointer":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"code":{"description":"Код элемента проекта","type":["string","null"],"maxLength":100,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"description":{"type":["string","null"],"description":"Описание элемента","default":null},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"duration_calendar_days":{"type":["number","null"],"description":"Длительность элемента в календарных днях","minimum":1},"duration_work_days":{"type":["number","null"],"minimum":0,"description":"Длительность элемента в рабочих днях"},"duration_work_shifts":{"type":["number","null"],"description":"Длительность элемента в рабочих сменах"},"duration_work_hours":{"type":["number","null"],"description":"Длительность элемента в рабочих часах"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"},"calendar_id":{"description":"ID календаря","type":["string","null"]},"dependencies_internal":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID связи","minLength":21,"maxLength":21},"predecessor_item_id":{"type":"string","description":"ID предшественника","minLength":21,"maxLength":21},"offset":{"type":"integer","minimum":-999,"maximum":999,"description":"Сдвиг по связи в днях"},"percent":{"type":["integer","null"],"minimum":0,"maximum":100,"description":"Сдвиг по связи в процентах","default":null},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"},"implicit":{"type":"boolean","description":"Признак неявной связи","default":false},"implicit_comment":{"type":["string","null"],"description":"Комментарий к неявной связи","default":null},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"offset_mode":{"type":"string","enum":["work","calendar"],"description":"Способ указания дней смещения","default":"work"}},"required":["predecessor_item_id","offset","percent","dep_type"]}},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"}},"required":["title","start_time","end_time","duration_calendar_days","duration_work_days","priority","priority_duration","calendar_id"]},"additional":{"type":"object","additionalProperties":false,"properties":{"calculation":{"type":"boolean","default":true,"description":"Признак рекомендации к расчету"}}}},"required":["parent_id","item_type"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","default":{},"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21}},"required":["id"]},"work_id":{"type":"string","description":"Work ID","minLength":21,"maxLength":21}},"required":["message","work_id"]}}}}},"/v1/project/{project_id}/version/{project_version_id}/item/quick":{"post":{"description":"Быстрое создание элемента проекта","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"parent_id":{"type":["string","null"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"item_type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"common":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"start_time":{"description":"Дата начала","format":"date","type":"string"},"sequence":{"type":"number","description":"Новая позиция элемента"},"duration":{"type":["number"],"minimum":0,"description":"Длительность элемента"},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"}},"additionalProperties":false,"required":["title","start_time","sequence","duration","priority_duration"]},"milestone":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"start_time":{"description":"Дата начала","format":"date","type":"string"},"sequence":{"type":"number","description":"Новая позиция элемента"}},"additionalProperties":false,"required":["title","sequence","start_time"]},"parent":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"sequence":{"type":"number","description":"Новая позиция элемента"}},"additionalProperties":false,"required":["title","sequence"]}},"required":["parent_id","item_type"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21}},"required":["id"]},"work_id":{"type":"string","description":"Work ID","minLength":21,"maxLength":21}},"required":["message","work_id","result"]}}}}},"/v1/project/item/{id}/quick":{"patch":{"description":"Быстрое обновление элемента проекта","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"item_type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent"]},"common":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"duration":{"type":["number"],"minimum":0,"description":"Длительность элемента"},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"}},"additionalProperties":false,"required":["title","start_time","end_time","duration","priority_duration"]},"milestone":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"},"start_time":{"description":"Дата начала","format":"date","type":"string"}},"additionalProperties":false,"required":["title","start_time"]},"parent":{"type":"object","properties":{"title":{"description":"Наименование элемента проекта","type":"string"}},"additionalProperties":false,"required":["title"]}},"required":["item_type"]}},{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"work_id":{"type":"string","description":"Work ID","minLength":21,"maxLength":21}},"required":["message","work_id"]}}}}},"/v1/project/version/{id}/meta":{"get":{"description":"Получение меты версии","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"title":{"type":["null","string"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"status":{"type":"string","enum":["current","archive","draft","model"],"description":"Статус версии проекта"},"is_actual":{"description":"Признак актуальности модели","type":["null","boolean"],"default":false},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"actual_fact_border_time":{"description":"Граница актуального факта","type":["null","string"],"format":"date"},"model_description":{"description":"Описание модели","type":["null","string"],"maxLength":500},"responsible_user_id":{"type":["null","string"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}}},"required":["id","title","status","is_actual","project_type_id","actual_fact_border_time","model_description","responsible_user_id","add_time","update_time","progress"]}},"required":["message","result"]}}}}},"/v1/project/version/{id}/progress":{"get":{"description":"Получить накопительный прогресс для каждого элемента версии проекта на дату","tags":["project version"],"parameters":[{"description":"Дата (в формате YYYY-MM-DD)","type":"string","format":"date","required":false,"in":"query","name":"date"},{"type":"string","description":"Work id param","minLength":21,"maxLength":21,"required":false,"in":"query","name":"work_id"},{"type":"string","description":"Идентификатор версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}},"required":["result"],"additionalProperties":false}}}}},"/v1/project/version/{id}/items":{"get":{"description":"Получение элементов версии","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"description":"ID родительского элемента","minLength":21,"maxLength":21,"default":null},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100,"default":null},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"line_number":{"type":"number","description":"Порядковый номер строки"},"title":{"description":"Наименование элемента проекта","type":"string"},"item_type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"description":{"type":["null","string"],"description":"Описание элемента","default":null},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"duration_calendar_days":{"type":["null","number"],"description":"Длительность элемента в календарных днях","minimum":1},"duration_work_days":{"type":["null","number"],"minimum":0,"description":"Длительность элемента в рабочих днях"},"duration_work_shifts":{"type":["null","number"],"description":"Длительность элемента в рабочих сменах"},"duration_work_hours":{"type":["null","number"],"description":"Длительность элемента в рабочих часах"},"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"start_time_min":{"type":["null","string"],"format":"date","description":"Минимальная дата начала","default":null},"start_time_max":{"type":["null","string"],"format":"date","description":"Максимальная дата начала","default":null},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"end_time_min":{"type":["null","string"],"format":"date","description":"Минимальная дата окончания","default":null},"end_time_max":{"type":["null","string"],"format":"date","description":"Максимальная дата окончания","default":null},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"},"calendar_id":{"description":"ID календаря","type":["null","string"],"default":null},"is_custom_calendar":{"type":"boolean","default":false,"description":"Признак индивидуального календаря"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"deadline_time":{"type":["null","string"],"format":"date","description":"Дата дедлайна","default":null},"deadline_direction":{"type":["null","string"],"enum":["jit","asap"],"description":"Направление дедлайна","default":"jit"},"has_children":{"type":"boolean"},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}},"lock_start_time":{"type":"boolean","description":"Признак заблокированной даты начала"},"lock_end_time":{"type":"boolean","description":"Признак заблокированной даты окончания"},"manual_start_time":{"description":"Дата начала заданная вручную","format":"date","type":["null","string"],"default":null},"manual_end_time":{"description":"Дата завершения заданная вручную","format":"date","type":["null","string"],"default":null},"calc_critical_paths":{"type":"boolean","default":false,"description":"Настройка для расчета критических путей, по умолчанию признак = false"}},"additionalProperties":false,"required":["id","original_id","start_time","end_time","item_type","code","line_number","title","priority","update_time","add_time","start_time_mode","start_time_min","start_time_max","end_time_mode","end_time_min","end_time_max","deadline_time","deadline_direction","has_children","lock_start_time","lock_end_time"]}}},"required":["message","result"]}}}}},"/v1/project/version/{id}/blocked-details":{"get":{"description":"Получение деталей блокировки версии","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"keys":{"type":"array","items":{"type":"string"},"description":"Список ключей из redis по заблокированной версии"}},"required":["keys"]}},"required":["message","result"]}}}}},"/v1/project/version/{id}/project-type":{"get":{"description":"Получение типа проекта версии","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID записи из m-таблицы","minLength":21,"maxLength":21},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"is_actual":{"type":"boolean","description":"Признак актуальности типа проекта"},"indicators":{"type":"array","description":"Состав показателей для строк проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null},"is_inherited":{"type":"boolean","description":"Признак унаследованности атрибута или показателя"},"analytics_catalog_id":{"type":["null","string"],"description":"id справочника аналитики (если показатель с аналитическим раскрытием)"},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]}},"required":["id","indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required","is_default","default_analytics_element_id","is_inherited","analytics_catalog_id","indicator_type","indicator_essence"],"additionalProperties":false}},"item_attribute_composition":{"type":"array","description":"Состав атрибутов для строк проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"is_inherited":{"type":"boolean","description":"Признак унаследованности атрибута или показателя"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}},"required":["id","attribute_id","attribute_title","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change","is_inherited","attribute_constraint"],"additionalProperties":false}},"project_attribute_composition":{"type":"array","description":"Состав атрибутов для проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"project_require":{"type":"boolean","description":"Используется ли атрибут в описании проекта"},"project_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние проекты"},"project_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"is_inherited":{"type":"boolean","description":"Признак унаследованности атрибута или показателя"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}},"required":["id","attribute_id","attribute_title","project_require","project_inheritance","project_change","is_inherited","attribute_constraint"],"additionalProperties":false}},"item_numerator_level_setting":{"type":"array","description":"Настройки нумерации для элемента проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"},"milestone":{"description":"Префикс для вехи","type":"string"},"pointer":{"description":"Префикс для этапа","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}}},"additionalProperties":false,"required":["id","project_type_id","project_id","project_version_id","is_actual","indicators","item_attribute_composition","project_attribute_composition","item_numerator_level_setting"]}},"required":["message","result"]}}}},"put":{"description":"Обновление типа проекта","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"indicators":{"type":"array","description":"Состав показателей для строк проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null}},"required":["indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required"],"additionalProperties":false}},"item_attribute_composition":{"type":"array","description":"Состав атрибутов для строк проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава строки проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["string","null"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change"]}},"project_attribute_composition":{"type":"array","description":"Состав атрибутов для проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента атрибутного состава проекта","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["string","null"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"project_require":{"type":"boolean","description":"Используется ли атрибут в описании проекта"},"project_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние проекты"},"project_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"}},"additionalProperties":false,"required":["attribute_id","attribute_title","project_require","project_inheritance","project_change"]}},"item_numerator_level_setting":{"type":"array","description":"Настройки нумерации для элемента проекта","items":{"type":"object","properties":{"id":{"type":"string","description":"ID настроек уровня нумерации и кодирования","minLength":21,"maxLength":21},"distribution":{"type":"string","description":"Тип распространения настроек кодирования для последующих уровней. Задается только для последнего уровня настроек","enum":["hierarchical","linear"]},"format":{"oneOf":[{"type":"object","properties":{"number_type":{"type":"string","enum":["arabic","roman"],"description":"Тип числового кодирования (Арабские|Римские)"},"number_length":{"type":"number","description":"Целевая длина числового кода"}},"required":["number_type"]},{"type":"object","properties":{"upper_case":{"type":"boolean","description":"Флаг регистра для символьного кодирования"},"locale":{"type":"string","enum":["ru","en"],"description":"Наименования алфавита для символьного кодирования"}},"required":["upper_case","locale"]}]},"level":{"type":"number","description":"Уровень описания настроек нумерации и кодирования"},"level_delimiter":{"type":"string","description":"Разделитель уровня"},"numbering_in_prefix":{"type":"boolean","description":"Флаг кодирования только в рамках префикса"},"prefix":{"type":"object","properties":{"group":{"description":"Префикс для группы","type":"string"},"element":{"description":"Префикс для элемента","type":"string"},"milestone":{"description":"Префикс для вехи","type":"string"},"pointer":{"description":"Префикс для этапа","type":"string"}}}},"additionalProperties":false,"required":["format","level","numbering_in_prefix","level_delimiter"]}}},"additionalProperties":false,"required":["indicators","item_attribute_composition","project_attribute_composition","item_numerator_level_setting"]}},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"patch":{"description":"Изменение типа проекта","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21}},"required":["project_type_id"]}},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/version/{id}/project-type/actualize":{"put":{"description":"Актуализация типа проекта","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/version/{id}/unlock":{"patch":{"description":"Разблокировка версии проекта","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/item/{id}/timerange":{"patch":{"description":"Обновление длительности элемента проекта","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"start_time":{"type":"string","format":"date","description":"Время начала"},"end_time":{"type":"string","format":"date","description":"Время окончания"},"stretched":{"type":"boolean","default":true,"description":"Растянулась ли работа"},"additional":{"type":"object","additionalProperties":false,"properties":{"calculation":{"type":"boolean","default":true,"description":"Признак рекомендации к расчету"}}}},"additionalProperties":false,"required":["start_time","end_time","stretched"]}},{"type":"string","maxLength":21,"minLength":21,"description":"ID элемента проекта","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"work_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/work_id"}}}}}}},"/v1/project/version/{id}/type/for-item":{"get":{"description":"Получение состава и значений атрибутов и показателей для строки проекта","tags":["project version"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"ID элемента графика","required":false,"in":"query","name":"item_id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID родителя","required":false,"in":"query","name":"parent_id"},{"type":"string","enum":["milestone","common","parent","pointer"],"description":"Тип элемента","required":true,"in":"query","name":"item_type"},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии графика","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"result":{"type":"object","properties":{"item_indicator_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"indicator_id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"analytics":{"type":"object","description":"Аналитика","properties":{"ref":{"type":"object","description":"Ссылочный тип на значение из другого справочника","properties":{"catalog_id":{"type":"string","description":"ID каталога","minLength":21,"maxLength":21},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"}},"required":["catalog_id","system_type"]},"required":{"type":"boolean","description":"Флаг обязательности значения из справочника"}},"additionalProperties":false,"required":["ref","required"]},"unit":{"type":"object","description":"Единица измерения","properties":{"unit_id":{"type":"string","description":"Ссылка на элемент \"Единицы измерения\"","minLength":21,"maxLength":21},"is_editable":{"type":"boolean","description":"Признак возможности редактировать зависимость от единицы измерения"}},"additionalProperties":false,"required":["unit_id","is_editable"]},"multiple":{"type":"boolean","description":"Берется из аналитики показателя (поле 'обязательно указывать аналитику')"},"required":{"type":"boolean","description":"Флаг обязательности заполнения значения"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null}},"additionalProperties":false,"required":["id","indicator_id","indicator_type","title","indicator_essence","multiple","required","default_analytics_element_id"]}},"item_indicator_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemIndicatorValueRead"}},"item_attribute_composition":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemAttributeCompositionForm"}},"item_attribute_value":{"type":"array","items":{"$ref":"#/definitions/def-0/properties/itemAttributeValueRead"}}},"additionalProperties":false,"required":["item_indicator_composition","item_indicator_value","item_attribute_composition","item_attribute_value"]}},"required":["message","result"]}}}}},"/v1/project/version/{id}/item_attribute_composition":{"get":{"description":"Получение атрибутов строк по ID версии","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}},"required":["id","attribute_id","attribute_title","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change","attribute_constraint"]}}},"required":["message","result"]}}}}},"/v1/project/version/item_attribute_composition/list":{"post":{"description":"Получение атрибутов строк по IDs версий","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"version_ids":{"type":"array","items":{"type":"string","minLength":21,"maxLength":21}}},"required":["version_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"common_use":{"type":"boolean","description":"Используется ли атрибут в описании работы"},"common_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании работы"},"milestone_use":{"type":"boolean","description":"Используется ли атрибут в описании вехи"},"milestone_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании вехи"},"pointer_use":{"type":"boolean","description":"Используется ли атрибут в описании указателя"},"pointer_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании указателя"},"parent_use":{"type":"boolean","description":"Используется ли атрибут в описании родительской группы"},"parent_require":{"type":"boolean","description":"Обязательно ли заполнение атрибута при его использовании в описании родительской группы"},"parent_inheritance":{"type":"boolean","description":"Наследуется ли значение атрибута в дочерние элементы и подгруппы"},"parent_change":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false}},"required":["id","attribute_id","attribute_title","common_use","common_require","milestone_use","milestone_require","pointer_use","pointer_require","parent_use","parent_require","parent_inheritance","parent_change","attribute_constraint"]}}},"required":["message","result"]}}}}},"/v1/project/version/{id}/item_indicator_composition":{"get":{"description":"Получение показателей по ID версии","tags":["project version"],"parameters":[{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя","required":false,"in":"query","name":"indicator_type"},{"type":"string","description":"ID версии проекта","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"}},"required":["id","indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required","indicator_type","indicator_essence"]}}},"required":["message","result"]}}}}},"/v1/project/version/item_indicator_composition/list":{"post":{"description":"Получение показателей по IDs версий","tags":["project version"],"parameters":[{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя","required":false,"in":"query","name":"indicator_type"},{"name":"body","in":"body","schema":{"type":"object","required":["version_ids"],"additionalProperties":false,"properties":{"version_ids":{"type":"array","items":{"type":"string","minLength":21,"maxLength":21}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"},"analytics_catalog_id":{"type":["null","string"],"description":"ID справочника аналитики","minLength":21,"maxLength":21}},"required":["id","indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required","indicator_type","indicator_essence","analytics_catalog_id"]}}},"required":["message","result"]}}}}},"/v1/project/item_indicator_composition/list":{"post":{"description":"Получение показателей по IDs проектов","tags":["project version"],"parameters":[{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя","required":false,"in":"query","name":"indicator_type"},{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"project_ids":{"type":"array","items":{"type":"string","minLength":21,"maxLength":21},"default":[]}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","minLength":1,"maxLength":255,"description":"Наименование показателя"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание показателя"},"for_describe_job_value":{"type":"boolean","description":"Используется ли в работе"},"for_describe_job_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"for_describe_milestone_value":{"type":"boolean","description":"Используется ли в вехе"},"for_describe_milestone_required":{"type":"boolean","description":"Обязательно ли к заполнению"},"is_default":{"type":"boolean","description":"Признак показателя по умолчанию"},"default_analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики по умолчанию","minLength":21,"maxLength":21,"default":null},"indicator_type":{"type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"],"description":"Тип показателя"},"indicator_essence":{"type":"string","enum":["resource","result"],"description":"Сущность показателя"}},"required":["id","indicator_id","title","for_describe_job_value","for_describe_job_required","for_describe_milestone_value","for_describe_milestone_required","indicator_type","indicator_essence"]}}},"required":["message","result"]}}}}},"/v1/project/version/{id}/sort":{"post":{"description":"Обновление позиции элемента графика","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"item_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID перетаскиваемого элемента"},"destination_group_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID группы назначения"},"sequence":{"type":"number","description":"Новая позиция элемента"},"additional":{"type":"object","additionalProperties":false,"properties":{"calculation":{"type":"boolean","default":true,"description":"Признак рекомендации к расчету"}}}},"additionalProperties":false,"required":["item_id","sequence"]}},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""}}}}}}},"/v1/project/version/{id}/sequence/change":{"post":{"description":"Изменение позиций элементов графика","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","properties":{"item_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID элемента графика"},"sequence":{"type":"number","minimum":1,"description":"Новая позиция элемента"}},"additionalProperties":false,"required":["item_id","sequence"]}}},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""}}}}}}},"/v1/project/composition-form":{"get":{"description":"Получение формы атрибутов проекта","tags":["project"],"parameters":[{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_type_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"required":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"changed":{"type":"boolean","description":"Возможность изменения значения атрибута"}},"additionalProperties":false,"required":["id","attribute_id","attribute_title","attribute_constraint","required","changed"]}},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":"string","description":"Значение атрибута приведенное к строке"}},"required":["id","attribute_composition_id","value"]}}}}},"required":["message","result"]}}}}},"/v1/project/{parent_id}/subproject/composition-form":{"get":{"description":"Получение формы атрибутов проекта","tags":["project"],"parameters":[{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_type_id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID родительского проекта","required":true,"in":"path","name":"parent_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"required":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"changed":{"type":"boolean","description":"Возможность изменения значения атрибута"}},"additionalProperties":false,"required":["id","attribute_id","attribute_title","attribute_constraint","required","changed"]}},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":"string","description":"Значение атрибута приведенное к строке"}},"required":["id","attribute_composition_id","value"]}}}}},"required":["message","result"]}}}}},"/v1/project/{project_id}/composition-form":{"get":{"description":"Получение формы атрибутов проекта","tags":["project"],"parameters":[{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_type_id"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"required":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"changed":{"type":"boolean","description":"Возможность изменения значения атрибута"}},"additionalProperties":false,"required":["id","attribute_id","attribute_title","attribute_constraint","required","changed"]}},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":"string","description":"Значение атрибута приведенное к строке"}},"required":["id","attribute_composition_id","value"]}}}}},"required":["message","result"]}}}}},"/v1/project/{project_id}/version/{project_version_id}/summary":{"get":{"description":"Основная информация по версии проекта","tags":["project"],"parameters":[{"type":"string","required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","required":["cost","revenue","start_date","finish_date","duration"],"properties":{"cost":{"description":"Плановые затраты","type":["null","number"]},"revenue":{"description":"Плановая выручка","type":["null","number"]},"start_date":{"description":"Плановая дата старта проекта","type":["null","string"],"format":"date"},"finish_date":{"description":"Плановая дата окончания проекта","type":["null","string"],"format":"date"},"duration":{"description":"Плановая длительность проекта","type":["null","number"]}}}},"required":["result"]}}}}},"/v1/project/version/{id}/critical_path":{"get":{"description":"Получение критического пути","tags":["project"],"parameters":[{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID вехи","maxLength":21,"minLength":21},"code":{"type":["null","string"],"description":"Код вехи"},"title":{"type":"string","description":"Наименование вехи"},"min_common_reserve_cd":{"type":"number","description":"Минимальное значение общего резерва цепочек"},"critical_chain":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID цепочки","maxLength":21,"minLength":21},"common_reserve_cd":{"type":"number","description":"Общий резерв цепочки в календарных днях"},"path_hash":{"type":"string","description":"Хэш пути цепочки"},"entities":{"type":"array","items":{"type":"object","properties":{"title":{"type":"string","description":"Наименование элемент графика"},"dependency_id":{"type":["null","string"],"description":"ID входящей связи","maxLength":21,"minLength":21},"predecessor_item_id":{"type":["null","string"],"description":"ID предшественника (от вехи)","maxLength":21,"minLength":21},"item_id":{"type":"string","description":"ID текущего элемента","maxLength":21,"minLength":21},"code":{"type":["null","string"],"description":"Код строки"}},"required":["title","code","dependency_id","predecessor_item_id","item_id"]}}},"required":["id","common_reserve_cd","entities","path_hash"]}}},"required":["id","title","code","min_common_reserve_cd","critical_chain"]}}},"required":["result"]}}}}},"/v1/project/version/{id}/critical_path/entity/{entity_id}":{"get":{"description":"Получение информации о критическом пути для отображения в вехе (строках)","tags":["project"],"parameters":[{"type":"string","enum":["common","milestone"],"description":"Тип строки","required":true,"in":"query","name":"entity_type"},{"type":"boolean","description":"Роль вехи в цепочке","required":false,"in":"query","name":"is_main"},{"type":"string","description":"ID версии проекта","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"},{"type":"string","description":"ID элемента (веха/строка)","maxLength":21,"minLength":21,"required":true,"in":"path","name":"entity_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","additionalProperties":false,"properties":{"result":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"predecessor_code":{"type":["null","string"],"description":"Код строки"},"milestone_code":{"type":["null","string"],"description":"Код вехи"},"predecessor_title":{"type":["null","string"],"description":"Наименование строки"},"milestone_title":{"type":["null","string"],"description":"Наименование вехи"},"critical_chain":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"common_reserve_cd":{"type":"number","description":"Общий резерв цепочки в календарных днях"},"entities":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование строки"},"code":{"type":["null","string"],"description":"Код строки"},"remains_reserve_cd":{"type":["null","number"],"description":"Остаточный резерв строки в календарных днях"},"free_reserve_cd":{"type":["null","number"],"description":"Свободный резерв строки в календарных днях"},"offset_reserve_cd":{"type":["null","number"],"description":"Резерв смещения строки в календарных днях"}},"required":["title","remains_reserve_cd","code","free_reserve_cd","offset_reserve_cd"]}}},"required":["common_reserve_cd","entities"]}}},"required":["critical_chain","milestone_code","milestone_title","predecessor_code","predecessor_title"]}}},"required":["result"]}}}}},"/v1/project/version/{id}/blocked":{"get":{"description":"Получение статуса блокировки версии проекта","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"blocked":{"type":"boolean","description":"Статус блокировки версии проекта"}},"required":["blocked"]}},"required":["message","result"]}}}}},"/v1/project/{project_id}/version/{model_version_id}/model-to-draft":{"patch":{"description":"Установка модели статуса черновика, а черновику (есил он существует) - статуса модели","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"model_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/item/multiple-update":{"post":{"description":"Групповое обновление строк","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["item_ids"],"additionalProperties":false,"properties":{"item_ids":{"type":"array","description":"Список ID элементов проекта","items":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21}},"fields":{"type":"object","additionalProperties":false,"properties":{"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"calendar_id":{"description":"ID календаря","type":"string"},"parent_id":{"type":["string","null"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"move":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["into_group_start","into_group_end","before_element","after_element","to_top_level_start","to_top_level_end"],"description":"Тип перемещения элементов"},"target_item_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"move_with_descendants":{"type":"boolean","description":"Перемещать элементы вместе со всеми потомками (true) или только выбранные элементы (false)","default":false}},"required":["type"]}}}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"deprecated":true,"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/item/multiple-delete":{"post":{"description":"Групповое удаление строк","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["item_ids"],"additionalProperties":false,"properties":{"item_ids":{"type":"array","description":"Список ID элементов проекта","items":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21}}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"deprecated":true,"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/version/{project_version_id}/item-tree":{"get":{"description":"Получить дерево задач для версии проекта","tags":["project item"],"parameters":[{"type":"boolean","required":false,"in":"query","name":"with_images"},{"type":"string","required":true,"in":"path","name":"project_id"},{"type":"string","required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"$id":"#item-tree-element","type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"children":{"type":"array","items":{"$ref":"#item-tree-element"}}},"required":["id","parent_id","original_id","type","code","title"],"title":"#item-tree-element"}}},"required":["message","result"]}}}}},"/v1/project/item/lite-list":{"get":{"description":"Облегченный плоский список элементов проекта","tags":["project item"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"},{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"],"required":false,"in":"query","name":"item_type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","original_id","parent_id","code","title","item_type"],"additionalProperties":false,"properties":{"id":{"description":"ID элемента проекта","type":"string"},"original_id":{"type":"string","description":"original_id элемента","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"description":"id родительской группы","minLength":21,"maxLength":21},"code":{"description":"Код элемента проекта","type":["null","string"]},"title":{"description":"Наименование элемента проекта","type":"string"},"item_type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]}}}}},"required":["result"]}}}}},"/v1/project/item/current-lite-list":{"get":{"description":"Облегченный плоский список элементов рабочей версии проекта","tags":["project item"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_id"},{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"],"required":false,"in":"query","name":"item_type"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","original_id","parent_id","code","title","item_type"],"additionalProperties":false,"properties":{"id":{"description":"ID элемента проекта","type":"string"},"original_id":{"type":"string","description":"original_id элемента","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"description":"id родительской группы","minLength":21,"maxLength":21},"code":{"description":"Код элемента проекта","type":["null","string"]},"title":{"description":"Наименование элемента проекта","type":"string"},"item_type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]}}}}},"required":["result"]}}}}},"/v1/project/{project_id}/indicator-value/list/for-youtrack":{"get":{"description":"Список значений показателей по composition_id показателя для youtrack","tags":["project"],"parameters":[{"type":"string","description":"composition_id показателя","minLength":21,"maxLength":21,"required":true,"in":"query","name":"indicator_composition_id"},{"type":"string","description":"id проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"type":"object","required":["item_original_id","indicator_original_id","analytics_element_id"],"additionalProperties":false,"properties":{"indicator_original_id":{"type":"string","description":"Изначальный ID значения показателя","minLength":21,"maxLength":21},"item_original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"analytics_element_id":{"type":"string","description":"ID аналитики показателя","minLength":21,"maxLength":21}}}}}}}},"/v1/project/item/lock-dates":{"post":{"description":"Получение признака блокировки даты начала/окончания по элементу (до сохранения)","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"incoming_dependency":{"type":"array","items":{"type":"object","properties":{"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи"},"dep_type":{"type":"string","enum":["ff","ss","fs","sf","pf","ps"],"description":"Тип связи"}},"additionalProperties":false,"required":["dep_mode","dep_type"]}}},"required":["start_time_mode","end_time_mode","incoming_dependency"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"lock_start_time":{"type":"boolean","description":"Признак заблокированной даты начала"},"lock_end_time":{"type":"boolean","description":"Признак заблокированной даты окончания"}},"additionalProperties":false,"required":["lock_start_time","lock_end_time"]}},"required":["message","result"]}}}}},"/v1/project/version/{id}/item-attribute-value/list":{"get":{"description":"Получение значений атрибутов строк по ID версии","tags":["project version"],"parameters":[{"type":"string","description":"Work id param","minLength":21,"maxLength":21,"required":false,"in":"query","name":"work_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}},"required":["message","result"],"additionalProperties":false}}}}},"/v1/project/version/{id}/resource/list":{"get":{"description":"Получение ресурсов версии","tags":["project version"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID значения показателя","minLength":21,"maxLength":21},"parent":{"type":["null","string"],"description":"ID значения показателя","minLength":21,"maxLength":21},"text":{"type":["null","string"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"no_ref_analytics":{"description":"Признак отсутсвия аналитического раскрытия показателя","type":"boolean"}},"additionalProperties":false,"required":["id","parent","text","no_ref_analytics"]}}},"additionalProperties":false,"required":["message","result"]}}}}},"/v1/project/version/{project_version_id}/resources":{"get":{"description":"Получение данных по показателям типа Ресурс","tags":["project version"],"parameters":[{"type":"array","items":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"required":false,"in":"query","name":"item_ids"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}},"required":["message","result"]}}}}},"/v1/project/{project_id}/item/for-update-gantt-plugin/list":{"get":{"description":"Список элементов проекта с указанием нужных полей","tags":["project item"],"parameters":[{"type":"array","items":{"type":"string","enum":["id","parent_id","start_time","end_time","duration_work_days","duration_calendar_days","calendar_id","priority_duration"]},"description":"Поля, которые нужно включить в ответ","required":false,"in":"query","name":"include_fields"},{"type":"string","description":"id проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"deprecated":true,"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["original_id","parent_original_id","type","code","title"],"additionalProperties":false,"properties":{"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"parent_original_id":{"type":["null","string"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"duration_work_days":{"type":"number","minimum":0,"description":"Длительность элемента в рабочих днях"},"duration_calendar_days":{"type":"number","description":"Длительность элемента в календарных днях","minimum":1},"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"parent_id":{"type":"string","description":"ID родительского элемента","minLength":21,"maxLength":21},"calendar_id":{"description":"ID календаря","type":"string"},"priority_duration":{"type":["null","string"],"enum":["work","calendar",null],"default":"calendar","description":"Приоритет длительности элемента"}}}}},"required":["result"]}}}}},"/v1/project/{project_id}/item/from-update-gantt-plugin":{"put":{"description":"Отправить ивент на обновление ганта из табличных данных плагина","tags":["project item"],"parameters":[{"type":"array","items":{"type":"string","enum":["start_time","end_time","duration_work_days","duration_calendar_days"]},"description":"Дополнительные поля, которые нужно учитывать при выгрузке","required":false,"in":"query","name":"include_fields"},{"type":"string","description":"id сохраненной таблицы","minLength":21,"maxLength":21,"required":true,"in":"query","name":"saved_template_id"},{"name":"body","in":"body","schema":{"type":"object","required":["items"],"additionalProperties":false,"properties":{"items":{"type":"array","items":{"type":"object","properties":{"line_number":{"type":"integer","minimum":0,"description":"Номер строки"}},"required":["line_number"],"additionalProperties":true},"description":"Массив айтемов с необязательными полями original_id, parent_original_id, type, title, start_time, end_time, duration_work_days, duration_calendar_days - валидация этих полей будет происходить на беке асинхронно"}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"deprecated":true,"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/fact-input-settings":{"patch":{"description":"Обновление настроек ввода факта проекта","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"block_past_fact":{"type":"boolean","description":"Блокировать факт в прошлом"},"fact_window_days":{"type":"number","description":"Окно дней для факта","minimum":1,"maximum":9999}},"additionalProperties":false,"required":["block_past_fact","fact_window_days"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/version/{project_version_id}/indicator-analytics/list":{"get":{"description":"Список аналитических раскрытий показателей по версии проекта","tags":["project item"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"indicator_title":{"description":"Наименование элемента композиции показателя","type":"string"},"indicator_id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":"string","description":"ID аналитики показателя","minLength":21,"maxLength":21},"analytic_title":{"description":"Наименование аналитики","type":["null","string"]}},"required":["indicator_title","analytic_title","indicator_id","analytics_element_id"]}}},"required":["message","result"],"additionalProperties":false}}}}},"/v1/project/{project_id}/version/{project_version_id}/item-indicator-value/list":{"get":{"description":"Аггрегированный список значений показателей по каждому элементу в версии проекта","tags":["project item"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}},"required":["message","result"],"additionalProperties":false}}}}},"/v1/set-attribute/{project_version_id}/{original_item_id}":{"post":{"description":"Установка набора атрибутов элемента графика","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"calculation":{"type":"boolean","default":true,"description":"Признак рекомендации к расчету"},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}}},"required":["item_attribute_value"]}},{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"original_item_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/set-indicator/{project_version_id}/{original_item_id}":{"post":{"description":"Установка набора индикаторов элемента графика","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"calculation":{"type":"boolean","default":true,"description":"Признак рекомендации к расчету"},"item_indicator_value":{"type":"array","items":{"$id":"ItemIndicatorValue","type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":["number","null"],"description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}},"additionalProperties":false,"required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"]}}},"required":["item_indicator_value"]}},{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"original_item_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/group":{"post":{"description":"Создание группы проектов","tags":["project group"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительской группы"}},"additionalProperties":false,"required":["title","description","parent_id"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"}},"required":["id"]}},"required":["message","result"]}}}}},"/v1/project/group/{id}":{"put":{"description":"Обновление группы проектов","tags":["project group"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительской группы"}},"additionalProperties":false,"required":["title","description","parent_id"]}},{"type":"string","maxLength":21,"minLength":21,"description":"Id группы","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удаление группы проектов (soft)","tags":["project group"],"parameters":[{"type":"string","enum":["connect_to_parent_group","delete"],"description":"Что делать с проектами и группами внутри удаляемой группы","required":true,"in":"query","name":"mode"},{"type":"string","maxLength":21,"minLength":21,"description":"Id группы","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получить группу проекта по id","tags":["project group"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"Id группы","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["null","string"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"}},"required":["id","parent_id","title","description","add_time","update_time"]}},"required":["message","result"]}}}}},"/v1/project/group/tree":{"get":{"description":"Получить дерево групп проектов","tags":["project group"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["null","string"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"children":{"type":"array","description":"Дочерние подгруппы"}},"required":["id","parent_id","title","description","add_time","update_time"]}}},"required":["result"]}}}}},"/v1/project/{project_id}/item-default-values/apply":{"patch":{"description":"Применить настройки значений по умолчанию для элементов графика в проекте","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"common":{"type":"object","properties":{"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"}}},"milestone":{"type":"object","properties":{"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]}}},"parent":{"type":"object","properties":{"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"coefficient_rule":{"description":"Правило определения коэффициента","type":"string","enum":["evenly_across_selected","evenly_only_common","evenly_first_level","by_indicator_value"]}}}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"type":"string"}}}}}}},"/v1/project/{project_id}/item-default-values":{"get":{"description":"Получить настройки значений по умолчанию для элементов графика в проекте","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":false,"required":["id","project_id","space_id","values"],"properties":{"id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"space_id":{"type":"string","maxLength":21,"minLength":21,"description":"Id пространства"},"values":{"type":"object","additionalProperties":false,"properties":{"common":{"type":"object","additionalProperties":false,"properties":{"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"jit","description":"Стратегия планирования для окончания работы"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"}}},"milestone":{"type":"object","additionalProperties":false,"properties":{"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"default":"asap","description":"Стратегия планирования для начала работы"},"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]}}},"parent":{"type":"object","additionalProperties":false,"properties":{"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"coefficient_rule":{"description":"Правило определения коэффициента","type":"string","enum":["evenly_across_selected","evenly_only_common","evenly_first_level","by_indicator_value"]}}}}}}}}}}}}},"/v1/project/{project_id}/indicator-display-settings/apply":{"post":{"description":"Применить настройки отображения показателей для внесения факта в МП","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"string","description":"Массив ID настроек","minLength":21,"maxLength":21}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"type":"string"}}}}}}},"/v1/project/{project_id}/indicator-display-settings":{"get":{"description":"Получить настройки отображения показателей для внесения факта в МП","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","additionalProperties":false,"required":["id","indicator_id","title","use_in_mobile","analytics"],"properties":{"id":{"type":"string","description":"ID настройки","minLength":21,"maxLength":21},"indicator_id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"title":{"type":"string","description":"Название показателя"},"use_in_mobile":{"type":"boolean","description":"Отображать для внесения факта в МП"},"analytics":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string","description":"ID настройки","minLength":21,"maxLength":21},"analytics_element_id":{"type":"string","description":"ID аналитики показателя","minLength":21,"maxLength":21},"use_in_mobile":{"type":"boolean","description":"Отображать для внесения факта в МП"},"title":{"type":"string","description":"Название аналитического раскрытия"}},"required":["id","title","analytics_element_id","use_in_mobile"]}}}}}}}}}}},"/v1/project/{project_id}/dependency/cascade/{project_version_id}":{"post":{"description":"Каскадное создание связей","tags":["Связи"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"ids":{"type":"array","items":{"type":"string","description":"ID элементов графика","minLength":21,"maxLength":21}}},"required":["ids"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/original-duration/fixed":{"put":{"description":"Устанавливает фиксацию для исходных длительностей","tags":["project"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/version/{project_version_id}/items/attribute-values":{"post":{"description":"Массовая установка всех типов атрибутов для элементов графика","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"original_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}}},"required":["original_id","item_attribute_value"]}}},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":true}}}}},"/v2/project/version/{id}/items":{"get":{"description":"Получение элементов версии (v2)","tags":["project version"],"parameters":[{"type":"string","description":"Work id param","minLength":21,"maxLength":21,"required":false,"in":"query","name":"work_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response"}}}},"/v2/project/{project_id}/version/{project_version_id}":{"get":{"description":"Получение меты версии 2.0","tags":["project version"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"title":{"type":["null","string"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"is_current":{"description":"Признак рабочей версии","type":"boolean"},"is_target":{"description":"Признак целевой версии","type":"boolean"},"is_archive":{"description":"Признак архивной версии","type":"boolean"},"color_hex":{"description":"Цвет версии (в интерфейсе)","type":["null","string"]},"version_type_id":{"type":["null","string"],"description":"ID типа версии","minLength":21,"maxLength":21},"version_type_title":{"description":"Название элемента справочника Типы версий","type":["null","string"]},"version_status_id":{"type":["null","string"],"description":"ID статуса версии","minLength":21,"maxLength":21},"version_status_title":{"description":"Название элемента справочника Статусы версий","type":["null","string"]},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"responsible_user_id":{"type":["null","string"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21},"sequence":{"description":"Порядковый номер элемента в группе","type":["null","number"]},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}},"start_date":{"type":["null","string"],"format":"date","description":"Дата начала проекта"},"end_date":{"type":["null","string"],"format":"date","description":"Дата окончания проекта"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21}},"required":["id","title","is_current","is_target","is_archive","color_hex","version_type_id","version_type_title","version_status_id","version_status_title","project_type_id","responsible_user_id","sequence","progress","start_date","end_date","add_time","update_time","project_id"]}},"required":["message","result"]}}}},"put":{"description":"Обновление версии проекта V2","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":["string","null"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"version_type_id":{"type":["string","null"],"description":"ID типа версии","minLength":21,"maxLength":21},"version_status_id":{"type":["string","null"],"description":"ID статуса версии","minLength":21,"maxLength":21},"color_hex":{"description":"Цвет версии (в интерфейсе)","type":["string","null"]},"responsible_user_id":{"type":["string","null"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21}},"additionalProperties":false,"required":["title","version_type_id","version_status_id","color_hex"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удаление версии проекта V2","tags":["project version"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/v2/project/{project_id}/version/list":{"get":{"description":"Получение списка версий 2.0","tags":["project version"],"parameters":[{"type":"string","enum":["exclude","stub_no_access"],"default":"exclude","description":"Фильтр по правам доступа. Исключить недоступные/Установить заглушку","required":false,"in":"query","name":"permission_filter"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"title":{"type":["null","string"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"is_current":{"description":"Признак рабочей версии","type":"boolean"},"is_target":{"description":"Признак целевой версии","type":"boolean"},"is_archive":{"description":"Признак архивной версии","type":"boolean"},"color_hex":{"description":"Цвет версии (в интерфейсе)","type":["null","string"]},"version_type_id":{"type":["null","string"],"description":"ID типа версии","minLength":21,"maxLength":21},"version_type_title":{"description":"Название элемента справочника Типы версий","type":["null","string"]},"version_status_id":{"type":["null","string"],"description":"ID статуса версии","minLength":21,"maxLength":21},"version_status_title":{"description":"Название элемента справочника Статусы версий","type":["null","string"]},"sequence":{"description":"Порядковый номер элемента в группе","type":["null","number"]},"start_date":{"type":["null","string"],"format":"date","description":"Дата начала проекта"},"end_date":{"type":["null","string"],"format":"date","description":"Дата окончания проекта"},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"}},"required":["id","title","add_time","update_time","is_current","is_target","is_archive","color_hex","version_type_id","version_type_title","version_status_id","version_status_title","sequence","start_date","end_date","no_access"]}}},"required":["message","result"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/archive":{"patch":{"description":"Обновление признака архивной версии 2.0","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"is_archive":{"description":"Признак архивной версии","type":"boolean"}},"required":["is_archive"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/target":{"patch":{"description":"Обновление признака целевой версии 2.0","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"is_target":{"description":"Признак целевой версии","type":"boolean"}},"required":["is_target"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project":{"post":{"description":"Создание проекта (в корне)","tags":["project"],"parameters":[{"type":["string","null"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект","required":false,"in":"query","name":"group_id"},{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности","default":null},"space_id":{"type":"string","description":"ID пространства (deprecated, оставлен для обратной совместимостью с томасом)","minLength":21,"maxLength":21},"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"responsible_user_id":{"type":["string","null"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ, по умолчанию - не учитывать ресурсы","default":"ignore_resources"},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"}},"additionalProperties":false,"required":["title","description","project_type_id"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"version":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["id","version"]}},"required":["message","result"]}}}}},"/v2/project/{project_id}/subproject":{"post":{"description":"Создание проекта (в корне)","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности","default":null},"space_id":{"type":"string","description":"ID пространства (deprecated, оставлен для обратной совместимостью с томасом)","minLength":21,"maxLength":21},"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"responsible_user_id":{"type":["string","null"],"description":"ID ответственного пользователя","minLength":21,"maxLength":21},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ, по умолчанию - не учитывать ресурсы","default":"ignore_resources"},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"}},"additionalProperties":false,"required":["title","description","project_type_id"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"version":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["id","version"]}},"required":["message","result"]}}}}},"/v2/project/{project_id}/version":{"post":{"description":"Создание версии проекта V2","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"type":["string","null"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"version_type_id":{"type":"string","description":"ID типа версии","minLength":21,"maxLength":21},"version_status_id":{"type":"string","description":"ID статуса версии","minLength":21,"maxLength":21},"color_hex":{"description":"Цвет версии (в интерфейсе)","type":"string"}},"additionalProperties":false,"required":["title","version_type_id","version_status_id","color_hex"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["message","result"]}}}}},"/v2/project/{id}/version/{project_version_id}/copy-project":{"post":{"description":"Копирование проекта","tags":["project"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта","required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""},"result":{"type":"object","default":{},"properties":{"id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/id"},"version":{"type":"object","default":{},"properties":{"id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/id"}},"required":["id"]}},"required":["id","version"]}},"required":["message"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/copy-version":{"post":{"description":"Копирование версии проекта V2","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"title":{"type":["string","null"],"minLength":0,"maxLength":255,"description":"Название версии проекта"},"version_type_id":{"type":"string","description":"ID типа версии","minLength":21,"maxLength":21},"version_status_id":{"type":"string","description":"ID статуса версии","minLength":21,"maxLength":21},"color_hex":{"description":"Цвет версии (в интерфейсе)","type":"string"}},"required":["title","version_type_id","version_status_id","color_hex"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["message","result"]}}}}},"/v2/project/data/tree/list":{"post":{"description":"Список данных проекта V2","tags":["project"],"parameters":[{"type":"boolean","description":"Добавлять ли в дерево группы","required":false,"in":"query","name":"withGroups"},{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"filter":{"type":"object","additionalProperties":false,"properties":{"statuses":{"type":"array","items":{"description":"Статус проекта","type":"string","enum":["not_started","in_schedule","problematic","deadlines_failing","completed","no_status"]}},"project_type_ids":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"progress_plan":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number","minimum":0,"maximum":100},"to":{"description":"Диапазон числовых значений \"До\"","type":"number","minimum":0,"maximum":100}}},"progress_fact":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number","minimum":0},"to":{"description":"Диапазон числовых значений \"До\"","type":"number","minimum":0}}},"progress_diff":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number","minimum":-100},"to":{"description":"Диапазон числовых значений \"До\"","type":"number","minimum":-100}}},"attributes":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"id":{"type":"string","description":"Id атрибута","maxLength":21,"minLength":21},"value":{"type":"object","additionalProperties":false,"properties":{"link":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"number":{"type":"object","additionalProperties":false,"properties":{"from":{"description":"Диапазон числовых значений \"От\"","type":"number"},"to":{"description":"Диапазон числовых значений \"До\"","type":"number"}}},"date":{"type":"object","additionalProperties":false,"properties":{"date_from":{"description":"Диапазон значений дат \"От\"","type":"string","format":"date"},"date_to":{"description":"Диапазон значений дат \"До\"","type":"string","format":"date"}}},"boolean":{"type":"boolean","description":"Логическое значение атрибута"}}}}}}}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["result"],"properties":{"result":{"type":"array","items":{"type":"object","discriminator":{"propertyName":"entity_type"},"oneOf":[{"type":"object","properties":{"entity_type":{"type":"string","enum":["project"]},"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"code":{"type":["string","null"],"description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"attributes":{"type":"array","items":{"description":"Атрибут проекта","type":"object","properties":{"id":{"type":"string","description":"ID атрибута","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование атрибута"},"value":{"type":"string","description":"Значение атрибута"},"type":{"type":"string","enum":["string","number","date","boolean"]}},"additionalProperties":false,"required":["id","title","value","type"]}},"progress":{"description":"Прогресс проекта","type":"object","properties":{"plan":{"description":"Плановый процент готовности","type":"number"},"fact":{"description":"Фактический процент готовности","type":"number"},"deviation":{"description":"Отклонение процента готовности","type":"number"}},"additionalProperties":false,"required":["plan","fact","deviation"]},"status":{"description":"Статус проекта","type":"string","enum":["not_started","in_schedule","problematic","deadlines_failing","completed","no_status"]},"current_version_id":{"type":"string","description":"ID базовой версии проекта","minLength":21,"maxLength":21},"children":{"type":"array","description":"Подпроекты"}},"required":["id","code","title","attributes","progress","status","current_version_id","entity_type"]},{"type":"object","properties":{"entity_type":{"type":"string","enum":["group"]},"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"children":{"type":"array","description":"Дочерние элементы (группы или проекты)"},"progress":{"description":"Прогресс группы","type":"object","properties":{"fact":{"description":"Фактический процент готовности","type":"number"}},"additionalProperties":false,"required":["fact"]}},"required":["id","parent_id","title","description","add_time","update_time","progress","entity_type"]}]}}}}}}}},"/v2/project/list":{"get":{"description":"Получение списка проектов V2","tags":["project"],"parameters":[{"type":"string","enum":["exclude","stub_no_access"],"default":"exclude","description":"Фильтр по правам доступа. Исключить недоступные/Установить заглушку","required":false,"in":"query","name":"permission_filter"},{"type":"boolean","description":"Добавлять ли в дерево группы","required":false,"in":"query","name":"withGroups"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","discriminator":{"propertyName":"entity_type"},"oneOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21},"space_id":{"type":"string","maxLength":21,"minLength":21},"code":{"description":"Код элемента проекта","type":"string","maxLength":100},"sequence":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/sequence"},"group_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21},"path":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"title":{"type":"string","maxLength":100},"description":{"type":["string","null"],"maxLength":500},"add_time":{"type":"string","format":"date-time"},"update_time":{"type":"string","format":"date-time"},"level":{"type":"number"},"calendar_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID календаря"},"children":{},"project_type_id":{"$ref":"#/definitions/def-0/properties/baseEntity/properties/project_type_id"},"current_version_id":{"type":"string","description":"ID базовой версии проекта","minLength":21,"maxLength":21},"no_access":{"type":"boolean","default":false,"description":"Признак отсутствия доступа"},"entity_type":{"type":"string","enum":["project"]}},"required":["id","title","description","add_time","update_time","group_id","parent_id","space_id","project_type_id","current_version_id","no_access","entity_type"]},{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"children":{"type":"array","description":"Дочерние подгруппы"},"entity_type":{"type":"string","enum":["group"]}},"required":["id","parent_id","title","description","add_time","update_time","entity_type"]}]}}},"required":["result"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/composition-form":{"get":{"description":"Получение формы атрибутов проекта","tags":["project"],"parameters":[{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_type_id"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_attribute_composition":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID записи","minLength":21,"maxLength":21},"attribute_id":{"type":"string","description":"ID атрибута из сервиса атрибутов","minLength":21,"maxLength":21},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"attribute_description":{"type":["null","string"],"maxLength":500,"description":"Описание атрибута определенное контекстом применения"},"attribute_constraint":{"type":"object","description":"Ограничение на значение атрибута","properties":{"type":{"type":"string","enum":["string","number","date","boolean"]},"system_type":{"type":"string","enum":["customer","project_type","attribute","indicator","calendar","unit","version_type","version_status","standard"],"description":"Тип справочника"},"id":{"type":"string","description":"ID справочника","minLength":21,"maxLength":21}},"additionalProperties":false},"required":{"type":"boolean","description":"Возможность изменения унаследованного значения атрибута"},"changed":{"type":"boolean","description":"Возможность изменения значения атрибута"}},"additionalProperties":false,"required":["id","attribute_id","attribute_title","attribute_constraint","required","changed"]}},"project_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":"string","description":"Значение атрибута приведенное к строке"}},"required":["id","attribute_composition_id","value"]}}}}},"required":["message","result"]}}}}},"/v2/project/{id}":{"get":{"description":"Получение проекта по Id (V2)","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"sequence":{"description":"Порядковый номер элемента в группе","type":"number"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование проекта"},"description":{"type":["null","string"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"space_id":{"type":"string","description":"ID пространства пользователя","minLength":21,"maxLength":21},"calendar_id":{"type":"string","description":"ID календаря","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"maxLength":21,"minLength":21,"description":"ID родительского проекта"},"path":{"type":"array","items":{"type":"string","maxLength":21,"minLength":21}},"auto_calculation":{"description":"Автоматический расчет ","type":"boolean"},"source_version":{"type":"string","enum":["current","target"],"description":"Источник данных"},"calculate_vcd_and_progress":{"description":"Опция автоматического расчета: считать ОКР и прогресс","type":"boolean"},"calculate_critical_path":{"description":"Опция автоматического расчета: считать критические пути","type":"boolean"},"calc_duration_method":{"type":"string","enum":["consider_resources","ignore_resources"],"description":"Настройка способа расчета длительности работ"},"block_past_fact":{"type":"boolean","description":"Блокировать факт в прошлом"},"fact_window_days":{"type":"number","description":"Окно дней для факта","minimum":1,"maximum":9999},"auto_completion_date_set":{"type":"boolean","description":"Автоматически установливать даты завершения"},"prevent_fact_exceed_plan":{"type":"boolean","description":"Запретить превышение факта над планом"},"current_version_id":{"type":"string","description":"ID базовой версии","minLength":21,"maxLength":21},"first_available_version_id":{"type":["null","string"],"description":"ID первой доступной версии","minLength":21,"maxLength":21},"project_type_id":{"type":"string","description":"ID типа проекта","minLength":21,"maxLength":21}},"additionalProperties":false,"required":["id","title","description","add_time","update_time","space_id","block_past_fact","fact_window_days","current_version_id","first_available_version_id","project_type_id","auto_completion_date_set","source_version","prevent_fact_exceed_plan"]}},"required":["result"]}}}}},"/v2/project/version/{id}/items-attribute-value-list":{"get":{"description":"Получение элементов с атрибутами по ID версии проекта","tags":["project"],"parameters":[{"type":"boolean","description":"Если true, возвращать только атрибуты ссылочного типа","required":false,"in":"query","name":"only_links"},{"type":"string","description":"ID родительского элемента","minLength":21,"maxLength":21,"required":false,"in":"query","name":"parent_id"},{"type":"boolean","description":"Если true, возвращать элементы рекурсивно по всем уровням вложенности (по умолчанию true)","default":true,"required":false,"in":"query","name":"deep_tree"},{"type":"string","enum":["parent","common","milestone","pointer"],"description":"Тип элемента графика","required":false,"in":"query","name":"item_type"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"sequence":{"type":["null","number"],"description":"Новая позиция элемента"},"title":{"description":"Наименование элемента проекта","type":"string"},"item_type":{"type":"string","enum":["parent","common","milestone","pointer"],"description":"Тип элемента графика"},"attribute_title":{"type":"string","minLength":1,"maxLength":255,"description":"Название атрибута определенное контекстом применения"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":["null","string"],"description":"Значение атрибута (одно из пяти типов)"},"line_number":{"type":"number","description":"Порядковый номер строки"},"link_element_title":{"type":["null","string"],"description":"Заголовок элемента пользовательского справочника, указанного в значении ссылочного атрибута"}},"additionalProperties":false,"required":["id","original_id","parent_id","code","sequence","title","item_type","attribute_title","composition_id","value","line_number"]}}},"required":["message","result"]}}}}},"/v2/project/version/{id}/items-indicator-value-list":{"get":{"description":"Получение элементов с показателями по ID версии проекта","tags":["project"],"parameters":[{"type":"string","description":"ID родительского элемента","minLength":21,"maxLength":21,"required":false,"in":"query","name":"parent_id"},{"type":"boolean","description":"Если true, возвращать элементы рекурсивно по всем уровням вложенности (по умолчанию true)","default":true,"required":false,"in":"query","name":"deep_tree"},{"type":"string","enum":["parent","common","milestone","pointer"],"description":"Тип элемента графика","required":false,"in":"query","name":"item_type"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"line_number":{"type":"number","description":"Порядковый номер строки"},"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"parent_id":{"type":["null","string"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"sequence":{"type":["null","number"],"description":"Новая позиция элемента"},"title":{"description":"Наименование элемента проекта","type":"string"},"item_type":{"type":"string","enum":["parent","common","milestone","pointer"],"description":"Тип элемента графика"},"duration_work_days":{"type":"number","minimum":0,"description":"Длительность элемента в рабочих днях"},"duration_calendar_days":{"type":"number","description":"Длительность элемента в календарных днях","minimum":1},"indicator":{"type":["null","object"],"properties":{"value_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_value_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["null","boolean"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["null","string"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["null","string"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["null","string"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["null","number"],"description":"Множитель значение"},"recalculate_input":{"type":["null","string"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["null","number"],"description":"Ставка"},"rate_min":{"type":["null","number"],"description":"Ставка минимальная"},"rate_max":{"type":["null","number"],"description":"Ставка максимальная"},"volume":{"type":["null","number"],"description":"Объем"},"calendar_apply":{"type":["null","string"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["null","number"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["null","number"],"nullable":true,"default":null},"unit_id":{"type":["null","string"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}},"required":["value_id","original_value_id","composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"],"additionalProperties":false}},"additionalProperties":false,"required":["id","line_number","original_id","parent_id","code","sequence","title","item_type","duration_work_days","duration_calendar_days","indicator"]}}},"required":["message","result"]}}}}},"/v2/project/version/{project_version_id}/items/attribute-values":{"post":{"description":"Массовая установка атрибутов ссылочного типа для элементов графика (old)","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"original_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value":{"type":["string","null"],"description":"Значение атрибута (одно из пяти типов)"}},"required":["original_id","composition_id","value"]}}},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"deprecated":true,"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/version/{project_version_id}/items/indicator-values":{"post":{"description":"Массовая установка значений показателей для элементов графика версии проекта","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"original_item_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"calculation":{"type":"boolean","default":true,"description":"Признак рекомендации к расчету"},"item_indicator_value":{"type":"array","items":{"$id":"ItemIndicatorValue","type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя"},"original_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения показателя (первоначальный)"},"composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава показателей"},"is_main":{"type":["boolean","null"],"description":"Признак ключевого ресурса/основного результата"},"analytics_element_id":{"type":["string","null"],"description":"ID элемента аналитики"},"dependency_value_id":{"type":["string","null"],"description":"Зависимость показателя от другого"},"multiply_source":{"type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null],"description":"Множитель источник"},"multiply_value":{"type":["number","null"],"description":"Множитель значение"},"recalculate_input":{"type":["string","null"],"enum":["rate","multiply","volume",null],"description":"Пересчитываемая величина"},"rate":{"type":["number","null"],"description":"Ставка"},"rate_min":{"type":["number","null"],"description":"Ставка минимальная"},"rate_max":{"type":["number","null"],"description":"Ставка максимальная"},"volume":{"type":["number","null"],"description":"Объем"},"calendar_apply":{"type":["string","null"],"enum":["item",null],"description":"Применение календаря"},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly","lead_indicator"],"default":"evenly"},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean","default":false},"multiplicity":{"description":"Кратность","type":["number","null"],"nullable":true,"default":null},"day_offset":{"description":"Смещение","type":["number","null"],"nullable":true,"default":null},"unit_id":{"type":["string","null"],"description":"ID единицы измерения"},"indicator_id":{"description":"ID показателя из справочника","type":"string"},"indicator_essence":{"description":"Сущность показателя","type":"string","enum":["result","resource"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]},"is_progress_dependent":{"description":"Зависимость от фактического прогресса","type":"boolean"}},"additionalProperties":false,"required":["composition_id","is_main","analytics_element_id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","rate_min","rate_max","volume","calendar_apply","distribution_rule"]}}},"required":["original_item_id","item_indicator_value"]}}},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/version-migrate/{secret_key}":{"post":{"description":"Миграция версии с 1.0 на 2.0","tags":["project version"],"parameters":[{"type":"string","description":"Секретный ключ для предотвращения преждевременной миграции","required":true,"in":"path","name":"secret_key"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/{project_id}/version-migrate":{"post":{"description":"Миграция версий проекта c 1.0 на 2.0","tags":["project version"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/version/recalculate-sequence/{secret_key}":{"post":{"description":"Пересчет порядкового номера версий 2.0","tags":["project version"],"parameters":[{"type":"string","required":true,"in":"path","name":"secret_key"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/dependency/{id}":{"delete":{"description":"Удаление связи","tags":["Связи"],"parameters":[{"type":"string","description":"ID связи","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/v2/project/{project_id}/version/{project_version_id}/item/multiple-update":{"post":{"description":"Групповое обновление строк","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["item_ids"],"additionalProperties":false,"properties":{"item_ids":{"type":"array","description":"Список ID элементов проекта","items":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21}},"fields":{"type":"object","additionalProperties":false,"properties":{"priority":{"description":"Приоритет","type":"string","enum":["low","medium","high"]},"calendar_id":{"description":"ID календаря","type":"string"},"parent_id":{"type":["string","null"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"item_attribute_value":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID значения атрибута"},"attribute_composition_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID состава атрибутов"},"value_string":{"type":["string","null"],"description":"Значение атрибута типа строка"},"value_number":{"type":["number","null"],"description":"Значение атрибута типа число"},"value_date":{"type":["string","null"],"format":"date","description":"Значение атрибута типа дата"},"value_boolean":{"type":["boolean","null"],"description":"Значение атрибута типа булево"},"value_link":{"type":["string","null"],"description":"ID значения атрибута из пользовательского справочника"}},"additionalProperties":false,"required":["attribute_composition_id","value_string","value_number","value_date","value_boolean","value_link"]}},"move":{"type":"object","additionalProperties":false,"properties":{"type":{"type":"string","enum":["into_group_start","into_group_end","before_element","after_element","to_top_level_start","to_top_level_end"],"description":"Тип перемещения элементов"},"target_item_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"move_with_descendants":{"type":"boolean","description":"Перемещать элементы вместе со всеми потомками (true) или только выбранные элементы (false)","default":false}},"required":["type"]}}}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/item/multiple-delete":{"post":{"description":"Групповое удаление строк","tags":["project item"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["item_ids"],"additionalProperties":false,"properties":{"item_ids":{"type":"array","description":"Список ID элементов проекта","items":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21}}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/baseline/create-current":{"post":{"description":"Создание рабочей версии из baseline","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"properties":{"version_type_id":{"type":"string","description":"ID типа версии","minLength":21,"maxLength":21},"version_status_id":{"type":"string","description":"ID статуса версии","minLength":21,"maxLength":21},"color_hex":{"description":"Цвет версии (в интерфейсе)","type":"string"},"create_new_version":{"type":"boolean","description":"Флаг создания новой версии. Если false, то текущая версия обновляется данными из baseline"}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id"]}},"required":["message","result"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/baseline/item-list":{"get":{"description":"Получение списка элементов для бейзлайна","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"current_item_id":{"type":"string","description":"ID элемента в текущей открытой версии","minLength":21,"maxLength":21},"start_time":{"description":"Дата начала","format":"date","type":"string"},"start_delay_days":{"description":"Отставание по началу (в днях)","type":"number"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"end_delay_days":{"description":"Отставание по окончанию (в днях)","type":"number"},"color_hex":{"description":"Цвет версии (в интерфейсе)","type":"string"},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["id","current_item_id","code","title","start_time","start_delay_days","end_time","end_delay_days","color_hex","project_version_id"]}}},"required":["message","result"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/item/for-update-gantt-plugin/list":{"get":{"description":"Список элементов проекта с указанием нужных полей","tags":["project item"],"parameters":[{"type":"array","items":{"type":"string","enum":["id","parent_id","start_time","end_time","duration_work_days","duration_calendar_days","calendar_id","priority_duration"]},"description":"Поля, которые нужно включить в ответ","required":false,"in":"query","name":"include_fields"},{"type":"string","description":"id проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"id версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["original_id","parent_original_id","type","code","title"],"additionalProperties":false,"properties":{"original_id":{"type":"string","description":"Сквозной ID","minLength":21,"maxLength":21},"parent_original_id":{"type":["null","string"],"description":"ID родительского элемента","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"],"maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"},"duration_work_days":{"type":"number","minimum":0,"description":"Длительность элемента в рабочих днях"},"duration_calendar_days":{"type":"number","description":"Длительность элемента в календарных днях","minimum":1},"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"parent_id":{"type":"string","description":"ID родительского элемента","minLength":21,"maxLength":21},"calendar_id":{"description":"ID календаря","type":"string"},"priority_duration":{"type":["null","string"],"enum":["work","calendar",null],"default":"calendar","description":"Приоритет длительности элемента"}}}}},"required":["result"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/item/from-update-gantt-plugin":{"put":{"description":"Отправить ивент на обновление ганта из табличных данных плагина","tags":["project item"],"parameters":[{"type":"array","items":{"type":"string","enum":["start_time","end_time","duration_work_days","duration_calendar_days"]},"description":"Дополнительные поля, которые нужно учитывать при выгрузке","required":false,"in":"query","name":"include_fields"},{"type":"string","description":"id сохраненной таблицы","minLength":21,"maxLength":21,"required":true,"in":"query","name":"saved_template_id"},{"name":"body","in":"body","schema":{"type":"object","required":["items"],"additionalProperties":false,"properties":{"items":{"type":"array","items":{"type":"object","properties":{"line_number":{"type":"integer","minimum":0,"description":"Номер строки"}},"required":["line_number"],"additionalProperties":true},"description":"Массив айтемов с необязательными полями original_id, parent_original_id, type, title, start_time, end_time, duration_work_days, duration_calendar_days - валидация этих полей будет происходить на беке асинхронно"}}}},{"type":"string","description":"id проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"id версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/{project_id}/standard/settings":{"get":{"description":"Получение настроек нормативов в проекте","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"volume":{"type":"object","properties":{"indicator_id":{"type":["null","string"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["null","string"],"description":"ID аналитики","minLength":21,"maxLength":21},"analytics_element_title":{"type":["null","string"],"description":"Название элемента аналитики"},"analytics_catalog_id":{"type":["null","string"],"description":"ID каталога аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Объем работ"},"resource_amount":{"type":"object","properties":{"indicator_id":{"type":["null","string"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["null","string"],"description":"ID аналитики","minLength":21,"maxLength":21},"analytics_element_title":{"type":["null","string"],"description":"Название элемента аналитики"},"analytics_catalog_id":{"type":["null","string"],"description":"ID каталога аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Кол-во ресурса"},"performance":{"type":"object","properties":{"indicator_id":{"type":["null","string"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["null","string"],"description":"ID аналитики","minLength":21,"maxLength":21},"analytics_element_title":{"type":["null","string"],"description":"Название элемента аналитики"},"analytics_catalog_id":{"type":["null","string"],"description":"ID каталога аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Производительность"},"labor_costs":{"type":"object","properties":{"indicator_id":{"type":["null","string"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["null","string"],"description":"ID аналитики","minLength":21,"maxLength":21},"analytics_element_title":{"type":["null","string"],"description":"Название элемента аналитики"},"analytics_catalog_id":{"type":["null","string"],"description":"ID каталога аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Трудозатраты"}},"additionalProperties":false,"required":["volume","resource_amount","performance","labor_costs"]}},"required":["message","result"]}}}},"patch":{"description":"Настройка нормативов в проекте","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"volume":{"type":"object","properties":{"indicator_id":{"type":["string","null"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["string","null"],"description":"ID аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Объем работ"},"resource_amount":{"type":"object","properties":{"indicator_id":{"type":["string","null"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["string","null"],"description":"ID аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Кол-во ресурса"},"performance":{"type":"object","properties":{"indicator_id":{"type":["string","null"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["string","null"],"description":"ID аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Производительность"},"labor_costs":{"type":"object","properties":{"indicator_id":{"type":["string","null"],"description":"ID показателя","minLength":21,"maxLength":21},"analytics_element_id":{"type":["string","null"],"description":"ID аналитики","minLength":21,"maxLength":21}},"required":["indicator_id","analytics_element_id"],"description":"Трудозатраты"}},"required":["volume","resource_amount","performance","labor_costs"],"additionalProperties":false}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project/{project_id}/standard/usage-tree":{"post":{"description":"Построение дерева для использования нормативов","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_version_id","item_ids","volume_source"],"additionalProperties":false,"properties":{"project_version_id":{"type":"string"},"item_ids":{"type":"array","items":{"type":"string"}},"volume_source":{"type":"string","enum":["project","standard"]}}}},{"type":"string","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["header","table"],"properties":{"header":{"type":"object","required":["volume_source","attributes"],"properties":{"volume_source":{"type":"string","enum":["project","standard"]},"attributes":{"type":"array","items":{"type":"object","required":["attribute_id","attribute_type","attribute_title"],"properties":{"attribute_id":{"type":"string"},"attribute_type":{"type":"string"},"attribute_title":{"type":"string"}}}}}},"table":{"type":"array","items":{"$id":"#standart-usage-tree-item","type":"object","required":["id","has_parent","item_title","item_type"],"properties":{"id":{"type":"string"},"has_parent":{"type":"boolean"},"item_title":{"type":"string"},"item_type":{"type":"string","enum":["parent","common"]},"children":{"type":"array","items":{"$ref":"#standart-usage-tree-item"}},"has_error":{"type":"boolean"},"calculated_value":{"type":"string","enum":["duration","amount"]},"volume":{"type":"number"},"volume_unit":{"type":"string"},"volume_unit_id":{"type":["null","string"]},"priority_duration":{"type":"string","enum":["work","calendar"],"default":"calendar","description":"Приоритет длительности элемента"},"duration_work_days":{"type":"number"},"labor_costs":{"type":"number"},"performance":{"type":"number"},"performance_unit":{"type":"string"},"performance_unit_id":{"type":"string"},"resource_amount":{"type":"number"},"resource_description":{"type":"string"},"attributes":{"type":"array","items":{"type":"object","required":["attribute_id"],"properties":{"attribute_id":{"type":"string"},"attribute_value":{}}}}},"title":"#standart-usage-tree-item"}}}}},"required":["message","result"]}}}}},"/v2/project/{project_id}/standard/calculation":{"post":{"description":"Расчет нормативов","tags":["project"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["items"],"additionalProperties":false,"properties":{"items":{"type":"array","items":{"type":"object","required":["id","calculated_value","duration_work_days"],"additionalProperties":false,"properties":{"id":{"type":"string"},"volume":{"type":"number"},"volume_unit_id":{"type":["string","null"]},"calculated_value":{"type":"string","enum":["duration","amount"]},"duration_work_days":{"type":"number"},"labor_costs":{"type":"number"},"performance":{"type":"number"},"performance_unit_id":{"type":"string"},"resource_amount":{"type":"number"}}}}}}},{"type":"string","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","work_id"],"properties":{"message":{"type":"string"},"work_id":{"type":"string","description":"Work ID","minLength":21,"maxLength":21}}}}}}},"/v2/project/{project_id}/version/{project_version_id}/milestone/short/list":{"get":{"description":"Получение списка вех версии проекта (с небольшим набором полей)","tags":["project"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"code":{"type":["null","string"],"description":"Уникальный код сущности","maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"start_time":{"description":"Дата начала","format":"date","type":"string"},"end_time":{"description":"Дата окончания","format":"date","type":"string"}},"required":["id","code","title","start_time","end_time"]}}},"required":["message","result"]}}}}},"/v2/project/{project_id}/version/{project_version_id}/term":{"get":{"description":"Получение информации о сроках версии проекта","tags":["project version"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"term_method":{"type":"string","description":"Метод расчета срока проекта: auto - расчет по элементам, manual - по вехам","enum":["auto","manual"]},"start_date":{"type":["null","string"],"format":"date","description":"Дата начала проекта"},"end_date":{"type":["null","string"],"format":"date","description":"Дата окончания проекта"},"start_milestone_id":{"type":["null","string"],"description":"ID вехи начала, по которой рассчитывается срок выполнения проекта","minLength":21,"maxLength":21},"end_milestone_id":{"type":["null","string"],"description":"ID вехи окончания, по которой рассчитывается срок выполнения проекта","minLength":21,"maxLength":21}},"required":["term_method","start_date","end_date","start_milestone_id","end_milestone_id"]}},"required":["message","result"]}}}},"put":{"description":"Обновление способа расчета срока версии проекта","tags":["project version"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"term_method":{"type":"string","description":"Метод расчета срока проекта: auto - расчет по элементам, manual - по вехам","enum":["auto","manual"]},"start_milestone_id":{"type":"string","description":"ID вехи начала, по которой рассчитывается срок выполнения проекта","minLength":21,"maxLength":21},"end_milestone_id":{"type":"string","description":"ID вехи окончания, по которой рассчитывается срок выполнения проекта","minLength":21,"maxLength":21}},"required":["term_method"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/keep-alive":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/v2/keep-alive-method":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/v2/keep-alive-method-no-stream":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/v1/event":{"get":{"description":"server sent event","tags":["События сервера и пуш уведомления"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{}}}}}},"/v1/nsi/calendar/{catalog_id}/element/{element_id}/synchronize":{"post":{"summary":"Запрос синхронизации календарей","description":"Запрос синхронизации календарей","tags":["calendar (Сервис календарей)"],"parameters":[{"type":"string","description":"ID справочника","minLength":21,"maxLength":21,"required":true,"in":"path","name":"catalog_id"},{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"element_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string","default":""}},"required":["message"]}}}}},"/v1/nsi/calendar/{catalog_id}/element/{element_id}/total":{"get":{"summary":"Получить сумму по календарю (дни, часы, смены) за период","description":"Получить сумму по календарю (дни, часы, смены) за период","tags":["calendar (Сервис календарей)"],"parameters":[{"type":"string","description":"Дата начала","required":true,"in":"query","name":"start_time"},{"type":"string","description":"Дата окончания","required":true,"in":"query","name":"end_time"},{"type":"string","description":"ID каталога","required":true,"in":"path","name":"catalog_id"},{"type":"string","description":"ID календаря","required":true,"in":"path","name":"element_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"object","required":["work_days","work_hours","work_shifts"],"properties":{"work_days":{"type":"number","description":"Количество рабочих дней"},"work_hours":{"type":"number","description":"Количество рабочих часов"},"work_shifts":{"type":"number","description":"Количество рабочих смен"}},"additionalProperties":false}}}}}}},"/v1/nsi/calendar/{catalog_id}/element/{element_id}/month":{"post":{"summary":"Добавить/обновить/удалить дни месяца","description":"Добавить/обновить/удалить дни месяца","tags":["calendar (Сервис календарей)"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["period","days"],"properties":{"period":{"type":"object","required":["year","month"],"properties":{"year":{"type":"number","minimum":2018,"maximum":2034},"month":{"type":"number","minimum":1,"maximum":12}}},"days":{"type":"array","items":{"type":"object","required":["id","date","work_days","work_hours","work_shifts","description"],"properties":{"id":{"type":["string","null"]},"date":{"type":"string"},"work_days":{"type":"number"},"work_hours":{"type":"number"},"work_shifts":{"type":"number"},"description":{"type":["string","null"]}}}}}}},{"type":"string","required":true,"in":"path","name":"catalog_id"},{"type":"string","required":true,"in":"path","name":"element_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"type":"string"}}}}}},"get":{"summary":"Получить дни месяца","description":"Получить дни месяца","tags":["calendar (Сервис календарей)"],"parameters":[{"type":"number","required":true,"in":"query","name":"year"},{"type":"number","required":true,"in":"query","name":"month"},{"type":"string","required":true,"in":"path","name":"catalog_id"},{"type":"string","required":true,"in":"path","name":"element_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","date","work_days","work_hours","work_shifts","description"],"properties":{"id":{"type":["null","string"]},"date":{"type":"string"},"work_days":{"type":"number"},"work_hours":{"type":"number"},"work_shifts":{"type":"number"},"description":{"type":["null","string"]}}}}}}}}}},"/v1/nsi/calendar/{catalog_id}/element/{element_id}/month/cyclic":{"post":{"summary":"Добавить/обновить/удалить дни месяца в цикле","description":"Добавить/обновить/удалить дни месяца в цикле","tags":["calendar (Сервис календарей)"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","required":["period","days"],"properties":{"period":{"type":"object","required":["year","month"],"properties":{"year":{"type":"number","minimum":2018,"maximum":2034},"month":{"type":"number","minimum":1,"maximum":12}}},"days":{"type":"array","items":{"type":"object","required":["id","date","work_days","work_hours","work_shifts","description"],"properties":{"id":{"type":["string","null"]},"date":{"type":"string"},"work_days":{"type":"number"},"work_hours":{"type":"number"},"work_shifts":{"type":"number"},"description":{"type":["string","null"]}}}}}}}},{"type":"string","required":true,"in":"path","name":"catalog_id"},{"type":"string","required":true,"in":"path","name":"element_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"type":"string"}}}}}}},"/v1/nsi/calendar/element/lite-list":{"get":{"description":"Облегченный список календарей","tags":["calendar (Сервис календарей)"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}},"required":["message","result"],"additionalProperties":false}}}}},"/v1/gantt-calculator/recommendation":{"post":{"description":"Рекомендованные значения при редактировании/создании элемента графика","tags":["Калькулятор графика ганта"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"recommendation_type":{"type":"string","enum":["entity_common","entity_milestone","entity_without_duration","entity_with_start_time","entity_with_end_time","dependency_default","indicators"],"description":"Тип рекомендации"},"calendar_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID календаря"},"item_type":{"type":"string","enum":["parent","common","milestone","pointer"],"description":"Тип элемента графика"},"start_time":{"type":"string","format":"date","description":"Дата начала работы"},"end_time":{"type":"string","format":"date","description":"Дата окончания работы"},"start_time_mode":{"type":"string","enum":["asap","jit","manual"],"description":"Стратегия планирования для начала работы"},"end_time_mode":{"type":"string","enum":["asap","jit","manual"],"description":"Стратегия планирования для завершения работы"},"start_time_min":{"type":"string","format":"date","description":"Дата начала работы"},"start_time_max":{"type":"string","format":"date","description":"Дата начала работы"},"end_time_min":{"type":"string","format":"date","description":"Дата окончания работы"},"end_time_max":{"type":"string","format":"date","description":"Дата окончания работы"},"duration_calendar_days":{"type":"number","description":"Длительность элемента в календарных днях"},"duration_work_days":{"type":"number","description":"Длительность элемента в рабочих днях"},"priority_duration":{"type":"string","enum":["work","calendar"],"description":"An enumeration"},"dependencies_internal_incoming":{"type":"array","items":{"type":"object","description":"Список связей","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"ID связи"},"predecessor_item_id":{"type":"string","description":"predecessor id"},"dep_type":{"type":"string","description":"Dep Type"},"offset":{"type":"integer","description":"Offset"},"offset_mode":{"type":"string","enum":["calendar","work"],"description":"Тип расчета смещения связи"},"percent":{"type":["integer","null"],"minimum":0,"maximum":100,"description":"Сдвиг по связи в процентах","default":null},"dep_mode":{"type":"string","enum":["asap","jit"],"description":"Способ применения связи asap, jit"},"effective":{"type":"boolean","description":"Effective"},"implicit":{"type":"boolean","description":"implicit"}},"required":["id","predecessor_item_id","dep_type","dep_mode","offset","offset_mode","implicit"]}},"item_indicator_value":{"type":"array","items":{"type":"object","required":["id","dependency_value_id","multiply_source","multiply_value","recalculate_input","rate","volume"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"dependency_value_id":{"type":["string","null"],"description":"ID зависимого показателя","minLength":21,"maxLength":21},"multiply_source":{"description":"Источник множителя","type":["string","null"],"enum":["hand_volume","hand_params","calendar_work_dwd","calendar_work_dwh","calendar_work_dws","calendar_work_dcd","lead_indicator_volume","lead_indicator_cd",null]},"multiply_value":{"description":"Множитель значение","type":["number","null"]},"recalculate_input":{"description":"Пересчитываемая величина","type":["string","null"],"enum":["rate","multiply","volume",null]},"rate":{"description":"Ставка","type":["number","null"]},"volume":{"description":"Объем","type":["number","null"]}}}},"manual_start_time":{"description":"Дата начала заданная вручную","format":"date","type":"string"},"manual_end_time":{"description":"Дата завершения заданная вручную","format":"date","type":"string"}},"required":["recommendation_type","calendar_id","item_type"]}}],"responses":{"200":{"description":"Default Response"}}}},"/v1/service/planToFact":{"post":{"description":"Связь между подчиненным графиком и сводным","tags":["ОКР и Прогресс"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["day","items"],"properties":{"day":{"type":"string"},"items":{"type":"array","items":{"required":["group_id","item_id"],"type":"object","properties":{"group_id":{"type":"string","description":"Идентификатор записи факта","minLength":21,"maxLength":21},"item_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21}}}}}}}],"responses":{"200":{"description":"Default Response"}}}},"/v1/project/item/{item_id}/vcd":{"get":{"description":"ОКР","tags":["ОКР и Прогресс"],"parameters":[{"description":"Масштаб (день, неделя, месяц)","type":"string","enum":["day","week","month"],"required":true,"in":"query","name":"scale"},{"description":"Месяц (в формате YYYY-MM, для scale = 'day' | 'week')","type":"string","pattern":"^[0-9]{4}-[0-9]{2}$","required":false,"in":"query","name":"month"},{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"item_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"object","required":["header","table"],"properties":{"header":{"description":"Заголовок таблицы","type":"object","required":[],"properties":{"month_prev":{"type":["null","number"]},"month_next":{"type":["null","number"]},"periods":{"type":"array","items":{"description":"Период (месяц, неделя, день)","oneOf":[{"description":"Период месяц","type":"object","required":["type","month"],"properties":{"type":{"type":"string","enum":["month"]},"month":{"type":"object","required":["value"],"properties":{"value":{"type":"string"}}},"volume":{"type":["number","null"]}}},{"description":"Период неделя","type":"object","required":["type","week"],"properties":{"type":{"type":"string","enum":["week"]},"week":{"type":"object","required":["date_from","date_to"],"properties":{"date_from":{"type":"string"},"date_to":{"type":"string"}}},"volume":{"type":["number","null"]}}},{"description":"Период день","type":"object","required":["type","day"],"properties":{"type":{"type":"string","enum":["day"]},"day":{"type":"object","required":["date","is_day_off"],"properties":{"date":{"type":"string"},"is_day_off":{"type":"boolean"}}},"volume":{"type":["number","null"]}}}]}}}},"table":{"type":"array","items":{"description":"Тип показателя","type":"object","required":["id","type","code","name","children"],"properties":{"id":{"type":"string"},"type":{"type":"string","enum":["indicator_type"]},"code":{"type":"string"},"name":{"type":"string"},"children":{"type":"array","items":{"description":"Вид показателя","type":"object","required":["id","type","code","name","children"],"properties":{"id":{"type":"string"},"type":{"type":"string","enum":["indicator_kind"]},"code":{"type":"string"},"name":{"type":"string"},"children":{"type":"array","items":{"description":"Показатель и его распределение","type":"object","required":["type","is_editable","is_main","name","id","volume","volume_distributed","unit","month_volume_prev","month_volume_next","distribution_rule","is_weekend_accounting","rate_min","rate_max","multiplicity","day_offset","periods","depends_on","affects","indicator_essence","indicator_type"],"properties":{"type":{"type":"string","enum":["indicator"]},"is_editable":{"description":"Признак редактирования","type":"boolean"},"is_main":{"description":"Признак ключевого ресурса/основного результата","type":"boolean"},"name":{"description":"Наименование показателя","type":"string"},"id":{"description":"Идентификатор показателя","type":"string"},"volume":{"description":"Объем","type":["null","number"]},"volume_distributed":{"description":"Распределенный объем","type":"number"},"unit":{"description":"Единица измерения","type":"string"},"month_volume_prev":{"description":"Объем предыдущего месяца","type":["null","number"]},"month_volume_next":{"description":"Объем следующего месяца","type":["null","number"]},"distribution_rule":{"description":"Правило распределения","type":"string","enum":["evenly"]},"is_weekend_accounting":{"description":"Признак учета выходных дней","type":"boolean"},"rate_min":{"description":"Минимальная ставка","type":["null","number"]},"rate_max":{"description":"Максимальная ставка","type":["null","number"]},"multiplicity":{"description":"Кратность","type":["null","number"]},"day_offset":{"description":"Смещение","type":["null","number"]},"periods":{"type":"array","description":"Список периодов и их значения","items":{"description":"Период (месяц, неделя, день)","oneOf":[{"description":"Период месяц","type":"object","required":["type","month"],"properties":{"type":{"type":"string","enum":["month"]},"month":{"type":"object","required":["value"],"properties":{"value":{"type":"string"}}},"volume":{"type":["number","null"]}}},{"description":"Период неделя","type":"object","required":["type","week"],"properties":{"type":{"type":"string","enum":["week"]},"week":{"type":"object","required":["date_from","date_to"],"properties":{"date_from":{"type":"string"},"date_to":{"type":"string"}}},"volume":{"type":["number","null"]}}},{"description":"Период день","type":"object","required":["type","day"],"properties":{"type":{"type":"string","enum":["day"]},"day":{"type":"object","required":["date","is_day_off"],"properties":{"date":{"type":"string"},"is_day_off":{"type":"boolean"}}},"volume":{"type":["number","null"]}}}]}},"depends_on":{"description":"Зависит от (список показателей)","type":"array","items":{"description":"Короткое представление показателя","type":"object","required":["id","name"],"properties":{"id":{"type":"string"},"name":{"type":"string"}}}},"affects":{"description":"Влияет на (список показателей)","type":"array","items":{"description":"Короткое представление показателя","type":"object","required":["id","name"],"properties":{"id":{"type":"string"},"name":{"type":"string"}}}},"status":{"description":"Статус результата распределения","type":"string","enum":["error","warning","success"]},"message":{"description":"Сообщение результата распределения","type":"string"},"indicator_essence":{"description":"Вид показателя","type":"string","enum":["resource","result"]},"indicator_type":{"description":"Тип показателя","type":"string","enum":["recyclable","tangible","intangible","financial","progress","readiness"]}}}}}}}}}}}}}}}}}},"/v1/progress/{entity_type}/{entity_id}":{"get":{"description":"Прогресс","tags":["ОКР и Прогресс"],"parameters":[{"description":"Масштаб (день, неделя, месяц)","type":"string","enum":["day","week","month"],"required":true,"in":"query","name":"scale"},{"description":"Тип прогресса (ежедневный, накопительный)","type":"string","enum":["daily","cumulative"],"required":true,"in":"query","name":"type"},{"type":"string","enum":["project_version","item"],"required":true,"in":"path","name":"entity_type"},{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"entity_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"object","required":["periods"],"properties":{"periods":{"type":"array","items":{"description":"Период (месяц, неделя, день)","oneOf":[{"description":"Период месяц","type":"object","required":["type","month"],"properties":{"type":{"type":"string","enum":["month"]},"month":{"type":"object","required":["value"],"properties":{"value":{"type":"string"}}},"plan":{"type":"number"},"fact":{"type":"number"},"diff":{"type":"number"},"vfact":{"type":"number"},"vdiff":{"type":"number"}}},{"description":"Период неделя","type":"object","required":["type","week"],"properties":{"type":{"type":"string","enum":["week"]},"week":{"type":"object","required":["date_from","date_to"],"properties":{"date_from":{"type":"string"},"date_to":{"type":"string"}}},"plan":{"type":"number"},"fact":{"type":"number"},"diff":{"type":"number"},"vfact":{"type":"number"},"vdiff":{"type":"number"}}},{"description":"Период день","type":"object","required":["type","day"],"properties":{"type":{"type":"string","enum":["day"]},"day":{"type":"object","required":["date","is_day_off"],"properties":{"date":{"type":"string"},"is_day_off":{"type":"boolean"}}},"plan":{"type":"number"},"fact":{"type":"number"},"diff":{"type":"number"},"vfact":{"type":"number"},"vdiff":{"type":"number"}}}]}}}}}}}}}},"/v1/progress/{entity_type}/{entity_id}/aggregation":{"patch":{"description":"Обновить настройки агрегации","tags":["ОКР и Прогресс"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"properties":{"aggregation_rule":{"description":"Правило агрегации","type":"string","enum":["auto","manual"]},"count_added":{"description":"Признак \"Учитывать добавляемые сущности\"","type":"boolean"},"coefficient_rule":{"description":"Правило определения коэффициента","type":"string","enum":["evenly_across_selected","evenly_only_common","evenly_first_level","by_indicator_value"]},"indicator_id":{"type":"string","description":"ID показателя из справочника","minLength":21,"maxLength":21},"analytics_element_id":{"type":"string","description":"ID значения аналитики","minLength":21,"maxLength":21},"copy_to_groups":{"description":"Признак \"Перенести настройки в группы проекта\"","type":"boolean"},"coefficients":{"type":"array","items":{"type":"object","required":["item_id","value"],"properties":{"item_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21},"value":{"description":"Числовое значение","type":"number"}}}}}}},{"description":"Тип сущности","type":"string","enum":["project_version","item"],"required":true,"in":"path","name":"entity_type"},{"type":"string","description":"Идентификатор сущности","minLength":21,"maxLength":21,"required":true,"in":"path","name":"entity_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"description":"Сообщение","type":"string"}}}}}},"get":{"description":"Получить настройки агрегации","tags":["ОКР и Прогресс"],"parameters":[{"description":"Тип сущности","type":"string","enum":["project_version","item"],"required":true,"in":"path","name":"entity_type"},{"type":"string","description":"Идентификатор сущности","minLength":21,"maxLength":21,"required":true,"in":"path","name":"entity_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"$ref":"#/definitions/def-2/properties/aggregation_settings"}}}}}},"post":{"description":"Автоматически определить коэффициенты для выбранных элементов","tags":["ОКР и Прогресс"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["coefficient_rule","item_ids"],"additionalProperties":false,"properties":{"coefficient_rule":{"description":"Правило определения коэффициента","type":"string","enum":["evenly_across_selected","evenly_only_common","evenly_first_level","by_indicator_value"]},"item_ids":{"description":"Список идентификаторов элементов","type":"array","items":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21}},"indicator_id":{"type":"string","description":"ID показателя из справочника","minLength":21,"maxLength":21},"analytics_element_id":{"type":"string","description":"ID значения аналитики","minLength":21,"maxLength":21}}}},{"description":"Тип сущности","type":"string","enum":["project_version","item"],"required":true,"in":"path","name":"entity_type"},{"type":"string","description":"Идентификатор сущности","minLength":21,"maxLength":21,"required":true,"in":"path","name":"entity_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"type":"object","required":["coefficients"],"properties":{"coefficients":{"description":"Иерархический список коэффициентов","type":"array","items":{"$ref":"#/definitions/def-2/properties/coefficient"}}}}}}}}}},"/v1/fact/project/{project_id}/input":{"patch":{"description":"Ввод факта","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"properties":{"indicators":{"type":"array","items":{"type":"object","required":["indicator_id","date","value"],"properties":{"indicator_id":{"description":"Первоначальный ID значения показателя","type":"string"},"date":{"description":"Дата (в формате YYYY-MM-DD)","type":"string","format":"date"},"value":{"description":"Числовое значение","type":["number","null"]},"comment":{"description":"Комментарий","type":["string","null"],"maxLength":255}}}},"completions":{"type":"array","items":{"type":"object","required":["completion_date","item_id"],"additionalProperties":false,"properties":{"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":["string","null"]},"item_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21}}}},"return_fact_id_map":{"type":"boolean","description":"Возвращать ли объект соответствий fact_id_map","default":false}}}},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"description":"Сообщение","type":"string"},"fact_id_map":{"type":"object","additionalProperties":{"type":"string"},"description":"Объект соответствий {date}_{indicator_id}: fact_id (только существующих после ввода)"}}}}}}},"/v1/fact/project/{project_id}/input/access":{"get":{"description":"Получение прав на ввод факта","tags":["Факт"],"parameters":[{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"type":"object","properties":{"input":{"type":"boolean","description":"Право на ввод факта"},"unlimited_input":{"type":"boolean","description":"Право на неограниченный ввод факта"}},"required":["input","unlimited_input"]}}}}}}},"/v1/fact/project/{project_id}/by-period":{"delete":{"description":"Удалить все записи факта по показателю за период","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"indicator_composition_id":{"type":"string","description":"ID показателя из типа проекта","minLength":21,"maxLength":21},"date_from":{"description":"Дата с (в формате YYYY-MM-DD)","type":"string","format":"date"},"date_to":{"description":"Дата по (в формате YYYY-MM-DD)","type":"string","format":"date"}},"required":["indicator_composition_id","date_from","date_to"]}},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/fact/project/{project_id}/list":{"get":{"description":"Список записей факта","tags":["Факт"],"parameters":[{"description":"Дата с (в формате YYYY-MM-DD)","type":"string","format":"date","required":true,"in":"query","name":"date_from"},{"description":"Дата по (в формате YYYY-MM-DD)","type":"string","format":"date","required":true,"in":"query","name":"date_to"},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","index_number","input_date","user","fact_date","source","script","item_id","item_code","item_title","indicator_kind","analytic_name","unit","volume"],"properties":{"id":{"description":"Идентификатор записи факта","type":"string"},"index_number":{"description":"Порядковый номер","type":"number"},"input_date":{"description":"Дата внесения","type":"string"},"user":{"description":"Пользователь","type":["null","string"]},"fact_date":{"description":"Дата факта","type":"string"},"source":{"description":"Источник","type":"string","enum":["manual_input"]},"script":{"description":"Сценарий","type":"string","enum":["operational_fact"]},"item_id":{"description":"Идентификатор элемента графика","type":"string"},"item_code":{"description":"Код элемента графика","type":["null","string"]},"item_title":{"description":"Наименование элемента","type":"string"},"indicator_kind":{"description":"Наименование вида показателя","type":"string"},"analytic_name":{"description":"Наименование аналитики показателя","type":["null","string"]},"unit":{"description":"Единица измерения","type":["null","string"]},"volume":{"description":"Объем","type":["null","number"]},"verified":{"description":"Признак верификации","type":"boolean"},"comment":{"description":"Комментарий","type":["null","string"],"maxLength":255}}}}}}}}}},"/v1/fact/project/{project_id}/tree":{"get":{"description":"Иерархическая структура показателей версии проекта","tags":["Факт"],"parameters":[{"type":"string","required":true,"in":"query","name":"date_from"},{"type":"string","required":true,"in":"query","name":"date_to"},{"type":"string","enum":["day"],"required":true,"in":"query","name":"scale"},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"deprecated":true,"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"object","required":["header","table"],"properties":{"header":{"type":"object","required":["periods"],"properties":{"periods":{"type":"array","items":{"type":"object","required":["type"],"properties":{"type":{"description":"Тип периода","type":"string","enum":["day"]},"day":{"description":"Период: день","type":"object","required":["date","is_day_off"],"properties":{"date":{"description":"Дата","type":"string"},"is_day_off":{"description":"Признак выходного дня","type":"boolean"}}}}}}}},"table":{"type":"array","items":{"type":"object","required":["id","type","name","level","periods"],"properties":{"id":{"description":"Идентификатор элемента","type":"string"},"original_id":{"description":"Оригинальный идентификатор элемента","type":"string"},"type":{"description":"Тип элемента","type":"string","enum":["parent","common","milestone","pointer","indicator_kind","indicator"]},"item_code":{"description":"Код элемента графика","type":"string"},"name":{"description":"Наименование элемента","type":"string"},"start_time":{"description":"Дата начала","type":"string"},"end_time":{"description":"Дата окончания","type":"string"},"unit":{"description":"Единица измерения","type":"string"},"level":{"description":"Уровень","type":"number"},"volume_total":{"description":"Общий объем за период","type":"number"},"status":{"description":"Статус (Не начато, В процессе, Завершена)","type":"string","enum":["not_started","in_progress","completed"]},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":"string"},"fact_last_date":{"type":"string"},"periods":{"type":"array","items":{"description":"Период (месяц, неделя, день)","oneOf":[{"description":"Период месяц","type":"object","required":["type","month"],"properties":{"type":{"type":"string","enum":["month"]},"month":{"type":"object","required":["value"],"properties":{"value":{"type":"string"}}},"volume":{"type":["number","null"]}}},{"description":"Период неделя","type":"object","required":["type","week"],"properties":{"type":{"type":"string","enum":["week"]},"week":{"type":"object","required":["date_from","date_to"],"properties":{"date_from":{"type":"string"},"date_to":{"type":"string"}}},"volume":{"type":["number","null"]}}},{"description":"Период день","type":"object","required":["type","day"],"properties":{"type":{"type":"string","enum":["day"]},"day":{"type":"object","required":["date","is_day_off"],"properties":{"date":{"type":"string"},"is_day_off":{"type":"boolean"}}},"volume":{"type":["number","null"]}}}]}},"children":{"description":"Потомки","type":"array","items":{"$ref":"#/properties/result/properties/table/items"}}}}}}}}}}}}},"/v1/fact/project/list":{"get":{"description":"Дата последнего факта по каждой версии проекта","tags":["Факт"],"parameters":[{"type":"boolean","description":"Добавлять ли в дерево группы","required":false,"in":"query","name":"withGroups"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","discriminator":{"propertyName":"entity_type"},"oneOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"children":{"type":"array","description":"Дочерние подгруппы"},"entity_type":{"type":"string","enum":["group"]}},"required":["id","parent_id","title","description","add_time","update_time","entity_type"]},{"type":"object","required":["entity_type","project_id","group_id","parent_id","project_version_id","code","title","add_time","date"],"properties":{"entity_type":{"type":"string","enum":["project"]},"project_id":{"type":"string"},"group_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект"},"parent_id":{"type":["string","null"]},"project_version_id":{"type":["string","null"],"description":"id рабочей версии проекта (если есть)"},"code":{"type":"string"},"title":{"type":"string"},"add_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"string","pattern":"^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$"}],"description":"Дата добавления"},"date":{"type":["string","null"]},"children":{"type":"array","items":{"$ref":"#/properties/result/items"}}}}]}}}}}}}},"/v1/fact/completion-sign/item/{item_id}":{"post":{"description":"Установить признак завершения","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["completion_date"],"additionalProperties":false,"properties":{"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":["string","null"]}}}},{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21,"required":true,"in":"path","name":"item_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"object","required":["name","params"],"properties":{"name":{"type":"string","enum":["SetCompletionSignError"]},"params":{"type":"object","properties":{"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":"string"},"item_code":{"description":"Код элемента","type":["null","string"]},"item_title":{"description":"Наименование элемента","type":"string"},"fact_last_date":{"description":"Дата последнего факта (в формате YYYY-MM-DD)","type":["null","string"]},"composition_id":{"type":"string","description":"ID показателя из типа проекта","minLength":21,"maxLength":21},"analytics_element_id":{"description":"Идентификатор значения аналитики","type":["null","string"]}}}}}}}}}}},"/v1/fact/completion-sign/project/{project_id}":{"post":{"description":"Установить признак завершения списку элементов","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"array","items":{"type":"object","required":["completion_date","item_id"],"additionalProperties":false,"properties":{"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":["string","null"]},"item_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21}}}}},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/v1/fact/completion-sign/list":{"get":{"description":"Получить дату завершения для элементов проекта по Id версии","tags":["Факт"],"parameters":[{"type":"string","description":"Идентификатор версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["item_id","completion_date"],"properties":{"item_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":"string"}}}}}}}}}},"/v1/fact/sync":{"post":{"description":"Синхронизация факта","tags":["ОКР и Прогресс"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id"],"additionalProperties":false,"properties":{"project_id":{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"properties":{"message":{"description":"Сообщение","type":"string"}}}}}}},"/v1/fact/input/item-tree":{"get":{"description":"Выбор элементов проекта для ввода факта (1 этап ввода факта)","tags":["Факт"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_id"},{"type":"boolean","required":false,"in":"query","name":"with_photo"},{"type":"string","required":false,"in":"query","name":"photo_date_from"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"type":"object","required":["indicators","tree"],"additionalProperties":false,"properties":{"indicators":{"description":"Список состава показателей элементов проекта","type":"object","additionalProperties":{"type":"string"}},"tree":{"type":"array","items":{"type":"object","required":["id","original_id","type","code","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":"string","maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"has_main_result":{"description":"Признак наличия основного результата","type":"boolean"},"completed":{"description":"Признак завершения работы","type":"boolean"},"start_time":{"description":"Дата начала","format":"date","type":["null","string"]},"end_time":{"description":"Дата окончания","format":"date","type":["null","string"]},"status":{"description":"Статус (Не начато, В процессе, Завершена)","type":"string","enum":["not_started","in_progress","completed"]},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":"string"},"fact_last_date":{"type":"string"},"fact_main_last_date":{"type":"string"},"indicators":{"description":"ID состава показателей","type":"array","items":{"type":"string"}},"children":{"$ref":"#/properties/result/properties/tree"},"favorite_id":{"type":"string","description":"ID элемента избранного","minLength":21,"maxLength":21},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}}}}}}}}}}}}},"/v1/fact/input/item/{item_id}":{"get":{"description":"Получить статус и прогресс элемента графика","tags":["Факт"],"parameters":[{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21,"required":true,"in":"path","name":"item_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":false,"required":["id","original_id","parent_id","item_type","code","title","start_time","end_time","completion_date","fact_last_date","fact_main_last_date","status","progress","has_main_result"],"properties":{"id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21},"parent_id":{"description":"Идентификатор родительского элемента","type":["null","string"]},"item_type":{"description":"Тип элемента","type":"string","enum":["parent","common","milestone","pointer"]},"code":{"description":"Код элемента","type":["null","string"]},"title":{"description":"Наименование элемента","type":"string"},"start_time":{"description":"Дата начала элемента","type":["null","string"]},"end_time":{"description":"Дата окончания элемента","type":["null","string"]},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":["null","string"]},"fact_last_date":{"description":"Дата последнего факта (в формате YYYY-MM-DD)","type":["null","string"]},"fact_main_last_date":{"description":"Дата последнего факта (в формате YYYY-MM-DD)","type":["null","string"]},"status":{"description":"Статус элемента","type":"string","enum":["not_started","in_progress","completed"]},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}},"has_main_result":{"type":"boolean","description":"Признак наличия основного результата"}}}},"required":["message","result"]}}}}},"/v1/fact/input/partial-tree":{"post":{"description":"Ввод факта, частичное дерево проекта (2 этап ввода факта)","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id","date_from","date_to","scale"],"properties":{"project_id":{"type":"string"},"date_from":{"type":"string"},"date_to":{"type":"string"},"scale":{"type":"string","enum":["day"]},"item_ids":{"type":"array","items":{"type":"string"}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"object","required":["header","table"],"properties":{"header":{"type":"object","required":["periods"],"properties":{"periods":{"type":"array","items":{"type":"object","required":["type"],"properties":{"type":{"description":"Тип периода","type":"string","enum":["day"]},"day":{"description":"Период: день","type":"object","required":["date","is_day_off"],"properties":{"date":{"description":"Дата","type":"string"},"is_day_off":{"description":"Признак выходного дня","type":"boolean"}}}}}}}},"table":{"type":"array","items":{"type":"object","required":["id","type","name","level","periods"],"properties":{"id":{"description":"Идентификатор элемента","type":"string"},"type":{"description":"Тип элемента","type":"string","enum":["parent","common","milestone","pointer","indicator_kind","indicator"]},"item_code":{"description":"Код элемента графика","type":"string"},"name":{"description":"Наименование элемента","type":"string"},"start_time":{"description":"Дата начала","type":"string"},"end_time":{"description":"Дата окончания","type":"string"},"unit":{"description":"Единица измерения","type":"string"},"level":{"description":"Уровень","type":"number"},"fact_date":{"description":"Фактический объем за период","type":"number"},"fact_total":{"description":"Фактический объем за все время","type":"number"},"plan_date":{"description":"Плановый объем за период","type":"number"},"plan_total":{"description":"Плановый объем за все время","type":"number"},"status":{"description":"Статус (Не начато, В процессе, Завершена)","type":"string","enum":["not_started","in_progress","completed"]},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":"string"},"fact_last_date":{"type":"string"},"is_main":{"type":"boolean"},"periods":{"type":"array","items":{"description":"Период день","type":"object","required":["type","day"],"properties":{"type":{"type":"string","enum":["day"]},"day":{"type":"object","required":["date","is_day_off"],"properties":{"date":{"type":"string"},"is_day_off":{"type":"boolean"}}},"fact_id":{"type":["null","string"]},"volume":{"type":["null","number"]},"comment":{"description":"Комментарий","type":["null","string"],"maxLength":255},"blocked":{"description":"Признак блокировки","type":"boolean","default":false}}}},"children":{"description":"Потомки","type":"array","items":{"$ref":"#/properties/result/properties/table/items"}}}}}}}}}}}}},"/v1/fact/project/{project_id}/group-verification":{"post":{"description":"Создать документ группового редактирования","tags":["Факт, групповая верификация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["indicator_composition_id","date_from","date_to"],"additionalProperties":false,"properties":{"indicator_composition_id":{"type":"string","description":"ID показателя из типа проекта","minLength":21,"maxLength":21},"date_from":{"description":"Дата с (в формате YYYY-MM-DD)","type":"string","format":"date"},"date_to":{"description":"Дата по (в формате YYYY-MM-DD)","type":"string","format":"date"}}}},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/fact/project/{project_id}/group-verification/list":{"get":{"description":"Получить список документов группового редактирования","tags":["Факт, групповая верификация"],"parameters":[{"type":"string","description":"ID показателя из типа проекта","minLength":21,"maxLength":21,"required":false,"in":"query","name":"indicator_composition_id"},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","index_number","verification_date","user","indicator_title","date_from","date_to","status"],"properties":{"id":{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21},"index_number":{"description":"Порядковый номер, уникальный для каждого проекта","type":"number"},"verification_date":{"description":"Время создания сущности","type":"string"},"user":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"indicator_composition_id":{"type":"string","description":"ID показателя из типа проекта","minLength":21,"maxLength":21},"indicator_title":{"type":"string"},"date_from":{"description":"Дата с (в формате YYYY-MM-DD)","type":"string","format":"date"},"date_to":{"description":"Дата по (в формате YYYY-MM-DD)","type":"string","format":"date"},"status":{"description":"Статус документа групповой верификации","type":"string","enum":["approved","not_approved"]}}}}},"required":["result"]}}}}},"/v1/fact/project/{project_id}/group-verification/{id}":{"get":{"description":"Получить документ группового редактирования","tags":["Факт, групповая верификация"],"parameters":[{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","index_number","verification_date","user","indicator_title","date_from","date_to","status","document"],"properties":{"id":{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21},"index_number":{"description":"Порядковый номер, уникальный для каждого проекта","type":"number"},"verification_date":{"description":"Время создания сущности","type":"string"},"user":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"indicator_composition_id":{"type":"string","description":"ID показателя из типа проекта","minLength":21,"maxLength":21},"indicator_title":{"type":"string"},"date_from":{"description":"Дата с (в формате YYYY-MM-DD)","type":"string","format":"date"},"date_to":{"description":"Дата по (в формате YYYY-MM-DD)","type":"string","format":"date"},"status":{"description":"Статус документа групповой верификации","type":"string","enum":["approved","not_approved"]},"document":{"type":"array","items":{"oneOf":[{"type":"object","required":["row_type","group"],"additionalProperties":false,"properties":{"row_type":{"type":"string","enum":["group"]},"group":{"type":"object","required":["breadcrumbs"],"additionalProperties":false,"properties":{"breadcrumbs":{"type":"array","items":{"type":"object","required":["title"],"additionalProperties":false,"properties":{"title":{"type":"string"},"code":{"type":"string"}}}}}}}},{"type":"object","required":["row_type","item"],"additionalProperties":false,"properties":{"row_type":{"type":"string","enum":["item"]},"item":{"type":"object","required":["title"],"additionalProperties":false,"properties":{"title":{"type":"string"},"code":{"type":"string"}}}}},{"type":"object","required":["row_type","indicator"],"additionalProperties":false,"properties":{"row_type":{"type":"string","enum":["indicator"]},"indicator":{"type":"object","required":["title"],"additionalProperties":false,"properties":{"title":{"type":"string"}}}}},{"type":"object","required":["row_type","analytics"],"additionalProperties":false,"properties":{"row_type":{"type":"string","enum":["analytics"]},"analytics":{"type":"object","required":["title","indicator_title","indicator_original_id","indicator_in_current_version","sum","sum_verified","row_number","changed","plan_total","fact_total","fact_verified_total"],"additionalProperties":false,"properties":{"title":{"type":"string"},"indicator_title":{"type":"string"},"analytics_title":{"type":"string"},"indicator_original_id":{"type":"string"},"indicator_in_current_version":{"type":"boolean","description":"Есть ли показатель в рабочей версии"},"sum":{"type":"number"},"sum_verified":{"type":"number"},"unit":{"type":"string"},"row_number":{"type":"number"},"changed":{"type":"boolean"},"plan_total":{"type":"number"},"fact_total":{"type":"number"},"fact_verified_total":{"type":"number"}}}}}]}}}}},"required":["message","result"]}}}},"patch":{"description":"Обновить документ группового редактирования","tags":["Факт, групповая верификация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"additionalProperties":false,"properties":{"document":{"description":"Документ","type":"object","required":["indicator_values"],"additionalProperties":false,"properties":{"indicator_values":{"type":"array","items":{"type":"object","required":["indicator_original_id","sum_verified"],"additionalProperties":false,"properties":{"indicator_original_id":{"description":"Первоначальный ID значения показателя","type":"string"},"sum_verified":{"description":"Числовое значение","type":"number"}}}}}}}}},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Получить документ группового редактирования","tags":["Факт, групповая верификация"],"parameters":[{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/fact/project/{project_id}/group-verification/{id}/status":{"patch":{"description":"Обновить статус у документа группового редактирования","tags":["Факт, групповая верификация"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["status"],"additionalProperties":false,"properties":{"status":{"description":"Статус документа групповой верификации","type":"string","enum":["approved","not_approved"]}}}},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/fact/project/{project_id}/group-verification/{id}/sum":{"patch":{"description":"Обновить суммы факта у документа групповой верификации","tags":["Факт, групповая верификация"],"parameters":[{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","changed"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID документа групповой верификации","minLength":21,"maxLength":21},"changed":{"description":"Признак изменения записи","type":"boolean"}}}},"required":["message","result"]}}}}},"/v1/project/version/{id}/resource-utilization":{"get":{"description":"Получить загрузку ресурсов для каждого элемента версии проекта","tags":["ОКР и Прогресс"],"parameters":[{"type":"string","description":"Work id param","minLength":21,"maxLength":21,"required":false,"in":"query","name":"work_id"},{"type":"string","description":"Идентификатор версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}},"required":["message","result"],"additionalProperties":false}}}}},"/v1/input-progress/project/{project_id}/version/{project_version_id}/set":{"patch":{"description":"Задать значение вводимого прогресса","tags":["Вводимый прогресс"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["value","item_original_id"],"additionalProperties":false,"properties":{"item_original_id":{"type":"string","description":"Первоначальный идентификатор элемента","minLength":21,"maxLength":21},"value":{"type":"number","minimum":0,"description":"Значение вводимого прогресса по элементу"}}}},{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"Идентификатор версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}},"/v1/fact/item-report":{"post":{"description":"Отчет по работам (СКК + ввод факта)","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["report_type","project_id"],"properties":{"report_type":{"description":"Тип отчета (Текущий период, на дату, за период)","type":"string","enum":["current_period","on_date","on_period"],"default":"current_period"},"project_id":{"description":"ID проекта","type":"string"},"item_ids":{"description":"Фильтр по работам/вехам, нужно выбрать хотя-бы 1","type":"array","items":{"type":"string"},"default":[]},"indicator_composition_ids":{"description":"Фильтр по показателям, по умолчанию все показатели","type":"array","items":{"type":"string"},"default":[]},"item_without_indicators":{"description":"Показать работы/вехи без показателей","type":"boolean","default":false},"status_calculation_mode":{"description":"Способ расчета статуса","type":"string","enum":["current_period_start","current_period_end"],"default":"current_period_end"},"count_plan_deviation_in_next_period":{"description":"Учитывать отклонение в плане следующего периода","type":"boolean","default":false},"scale":{"description":"Масштаб","type":"string","enum":["week","month"],"default":"month"},"on_date":{"description":"Дата","type":"string","format":"date"},"period_current_start":{"description":"Дата начала текущего периода","type":"string","format":"date"},"period_current_end":{"description":"Дата окончания текущего периода","type":"string","format":"date"},"period_next_end":{"description":"Дата окончания следующего периода","type":"string","format":"date"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{}},"required":["message","result"]}}}}},"/v1/progress/{frequency}":{"post":{"description":"Прогресс по масштабу для нескольких проектов","tags":["Прогресс"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_ids"],"additionalProperties":false,"properties":{"project_ids":{"description":"Список идентификаторов проектов","type":"array","items":{"type":"string","minLength":21,"maxLength":21}}}}},{"type":"string","enum":["monthly","daily"],"required":true,"in":"path","name":"frequency"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{}}},"required":["result"]}}}}},"/v1/fact-import/project/{project_id}/version/{project_version_id}":{"post":{"description":"Импортировать фактические значения для элементов версии проекта","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"indicators":{"type":"array","items":{"type":"object","properties":{"original_id":{"type":"string","description":"Первоначальный идентификатор элемента","minLength":21,"maxLength":21},"item_type":{"description":"Тип элемента","type":"string","enum":["parent","common","milestone","pointer"]},"code":{"description":"Код элемента","type":"string"},"title":{"description":"Наименование элемента","type":"string"},"composition_id":{"type":"string","description":"ID состава показателя","minLength":21,"maxLength":21},"analytics_catalog_id":{"description":"Идентификатор каталога аналитики","type":["string","null"]},"analytics_element_id":{"description":"Идентификатор значения аналитики","type":["string","null"]},"start_date":{"description":"Дата (в формате YYYY-MM-DD)","type":"string","format":"date"},"end_date":{"description":"Дата (в формате YYYY-MM-DD)","type":"string","format":"date"},"fact_value":{"description":"Числовое значение","type":"number"}},"required":["original_id","item_type","code","title","composition_id","start_date","end_date","fact_value"],"additionalProperties":false}}},"additionalProperties":false,"required":["indicators"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"Идентификатор версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}},"/v1/fact/item-tree":{"get":{"description":"Выбор элементов проекта (отчет по исполнению и другие)","tags":["Факт"],"parameters":[{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"type":"object","required":["indicators","tree"],"additionalProperties":false,"properties":{"indicators":{"description":"Список состава показателей элементов проекта","type":"object","additionalProperties":{"type":"string"}},"tree":{"type":"array","items":{"type":"object","required":["id","original_id","type","code","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":"string","maxLength":100},"title":{"description":"Наименование элемента проекта","type":"string"},"has_main_result":{"description":"Признак наличия основного результата","type":"boolean"},"completed":{"description":"Признак завершения работы","type":"boolean"},"start_time":{"description":"Дата начала","format":"date","type":["null","string"]},"end_time":{"description":"Дата окончания","format":"date","type":["null","string"]},"status":{"description":"Статус (Не начато, В процессе, Завершена)","type":"string","enum":["not_started","in_progress","completed"]},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":"string"},"fact_last_date":{"type":"string"},"fact_main_last_date":{"type":"string"},"indicators":{"description":"ID состава показателей","type":"array","items":{"type":"string"}},"children":{"$ref":"#/properties/result/properties/tree"},"favorite_id":{"type":"string","description":"ID элемента избранного","minLength":21,"maxLength":21},"progress":{"description":"Прогресс на текущий день","type":"object","required":["plan","fact"],"properties":{"plan":{"type":"number"},"fact":{"type":"number"}}}}}}}}}}}}}},"/v1/fact/item/{item_original_id}":{"get":{"description":"Получить сумму факта по original id элемента графика","tags":["ОКР и Прогресс"],"parameters":[{"type":"string","description":"Первоначальный идентификатор элемента","minLength":21,"maxLength":21,"required":true,"in":"path","name":"item_original_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}},"required":["message","result"]}}}}},"/v2/fact/input/partial-tree":{"post":{"description":"Ввод факта, частичное дерево проекта (2 этап ввода факта) 2 версия","tags":["Факт"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id","date_from","date_to","scale","item_ids"],"properties":{"project_id":{"description":"ID проекта","type":"string"},"date_from":{"description":"Дата c (в формате YYYY-MM-DD)","type":"string"},"date_to":{"description":"Дата по (в формате YYYY-MM-DD)","type":"string"},"scale":{"description":"Масштаб (День)","type":"string","enum":["day"]},"item_without_indicators":{"description":"Показать работы/вехи без показателей","type":"boolean","default":false},"item_ids":{"description":"Фильтр по работам/вехам, нужно выбрать хотя-бы 1","type":"array","items":{"type":"string"},"default":[]},"indicator_composition_ids":{"description":"Фильтр по показателям, по умолчанию все показатели","type":"array","items":{"type":"string"}},"use_display_settings_filter":{"description":"Использовать настройки отображения показателей","type":"boolean"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["header","table"],"properties":{"header":{"type":"object","required":["with_analytics_title","periods","source_version"],"properties":{"with_analytics_title":{"description":"Показывать поле аналитики","type":"boolean"},"periods":{"type":"array","items":{"type":"object","required":["type"],"properties":{"type":{"description":"Тип периода","type":"string","enum":["day"]},"day":{"description":"Период: день","type":"object","required":["date","is_day_off"],"properties":{"date":{"description":"Дата","type":"string"},"is_day_off":{"description":"Признак выходного дня","type":"boolean"}}}}}},"source_version":{"type":"string","enum":["current","target"],"description":"Источник данных"}}},"table":{"type":"array","items":{"type":"object","required":["id","item_type","item_title","level"],"properties":{"id":{"description":"ID записи","type":"string"},"item_original_id":{"description":"ID элемента проекта первоначальный","type":"string"},"item_type":{"description":"Тип элемента","type":"string","enum":["parent","common","milestone","pointer"]},"item_code":{"description":"Код элемента","type":["null","string"]},"item_title":{"description":"Наименование элемента","type":"string"},"level":{"description":"Уровень","type":"number"},"start_time":{"description":"Дата начала элемента","type":"string"},"end_time":{"description":"Дата окончания элемента","type":"string"},"status":{"description":"Статус (Не начато, В процессе, Завершена)","type":"string","enum":["not_started","in_progress","completed"]},"completion_date":{"description":"Дата завершения (в формате YYYY-MM-DD)","type":"string"},"fact_last_date":{"description":"Дата последней записи факта по работе/вехе","type":"string"},"unit":{"description":"Единица измерения","type":"string"},"volume_fact":{"description":"Фактический объем за все время","type":"number"},"volume_plan":{"description":"Плановый объем за все время","type":"number"},"volume_plan_date":{"description":"Плановый объем на дату","type":"number"},"indicator_title":{"description":"Наименование показателя","type":"string"},"analytics_title":{"description":"Наименование аналитики","type":"string"},"indicator_original_id":{"description":"ID показателя первоначальный","type":"string"},"indicator_is_main":{"description":"Признак основного показателя","type":"boolean"},"indicator_fact_last_date":{"description":"Дата последней записи факта по показателю","type":"string"},"periods":{"type":"array","items":{"description":"Период день","type":"object","required":["type","day"],"properties":{"type":{"type":"string","enum":["day"]},"day":{"type":"object","required":["date","is_day_off"],"properties":{"date":{"type":"string"},"is_day_off":{"type":"boolean"}}},"fact_id":{"type":["null","string"]},"volume":{"type":["null","number"]},"comment":{"description":"Комментарий","type":["null","string"],"maxLength":255},"blocked":{"description":"Признак блокировки","type":"boolean","default":false}}}},"children":{"description":"Потомки","type":"array","items":{"$ref":"#/properties/result/properties/table/items"}}}}}}}},"required":["message","result"]}}}}},"/v2/fact/project/list":{"get":{"description":"Дата последнего факта по каждой версии проекта","tags":["Факт"],"parameters":[{"type":"boolean","description":"Добавлять ли в дерево группы","required":false,"in":"query","name":"withGroups"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","discriminator":{"propertyName":"entity_type"},"oneOf":[{"type":"object","properties":{"id":{"type":"string","maxLength":21,"minLength":21,"description":"Id группы"},"parent_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"ID родительской группы"},"title":{"type":"string","minLength":3,"maxLength":100,"description":"Наименование группы проектов"},"description":{"type":["string","null"],"maxLength":500,"description":"Описание сущности"},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"children":{"type":"array","description":"Дочерние подгруппы"},"entity_type":{"type":"string","enum":["group"]}},"required":["id","parent_id","title","description","add_time","update_time","entity_type"]},{"type":"object","required":["entity_type","project_id","group_id","parent_id","project_version_id","code","title","add_time","date"],"properties":{"entity_type":{"type":"string","enum":["project"]},"project_id":{"type":"string"},"group_id":{"type":["string","null"],"maxLength":21,"minLength":21,"description":"id группы в которую входит проект"},"parent_id":{"type":["string","null"]},"project_version_id":{"type":["string","null"],"description":"id рабочей версии проекта (если есть)"},"code":{"type":"string"},"title":{"type":"string"},"add_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"string","pattern":"^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$"}],"description":"Дата добавления"},"date":{"type":["string","null"]},"children":{"type":"array","items":{"$ref":"#/properties/result/items"}}}}]}}}}}}}},"/v1/report/milestone":{"post":{"description":"Отчет по контрольным точкам","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"projects":{"description":"Массив проектов по которым строится отчет","type":"array","items":{"type":"object","properties":{"project_id":{"description":"Идентификатор проекта, обязательное поле","type":"string"},"model_id":{"description":"Версия графика в статусе model, опциональное поле","type":"string"}},"required":["project_id"]}},"actual_fact_border_time":{"description":"Граница актуального факта","type":"string","format":"date"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"description":"Результат","type":"array","items":{"type":"object","required":["item_id","item_code","item_title","priority","completion_date","status","plan_date","deadline_date","forecast_date","diff_days","missed_days","revenue","project_title","project_id","model_version_id"],"additionalProperties":false,"properties":{"item_id":{"description":"Идентификатор вехи","type":"string"},"project_id":{"description":"Идентификатор проекта","type":"string"},"model_version_id":{"description":"Идентификатор версии проекта в статусе модель","type":["null","string"]},"project_title":{"description":"Наименование проекта","type":"string"},"item_code":{"description":"Код вехи","type":["null","string"]},"item_title":{"description":"Наименование вехи","type":"string"},"priority":{"description":"Важность","type":["null","string"],"enum":["low","medium","high","null"]},"completion_date":{"description":"Дата завершения","type":["null","string"]},"status":{"description":"Статус","type":"string","enum":["in_plan","completed","in_time","problematic","missing_deadlines","error"]},"plan_date":{"description":"Дата план","type":"string"},"deadline_date":{"description":"Дедлайн","type":["null","string"]},"forecast_date":{"description":"Прогноз","type":["null","string"]},"diff_days":{"description":"Отклонение","type":"number"},"missed_days":{"description":"Срыв сроков","type":"number"},"revenue":{"description":"Выручка","type":"number"}}}}}}}}}},"/v1/report/works":{"post":{"description":"Отчет по работам","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"Дата на которую строится отчет"},"projects":{"description":"Массив проектов по которым строится отчет","type":"array","items":{"type":"object","properties":{"project_id":{"description":"Идентификатор проекта, обязательное поле","type":"string","minLength":21,"maxLength":21},"model_id":{"description":"Версия графика в статусе model, опциональное поле","type":"string","minLength":21,"maxLength":21}},"required":["project_id"]}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"description":"Результат","type":"object","properties":{"milestone_map":{"description":"Сет вех по версиям проектов которые попали в отчет","type":"object"},"attribute_map":{"description":"Хэш-таблица атрибутов из типа проекта (возвращается когда выбран один проект)","type":"object"},"data":{"description":"Элементы версий","type":"array","items":{"description":"Элемент отчета","type":"object"}}},"required":["milestone_map","attribute_map","data"]}}}}}}},"/v1/report/gptzator":{"post":{"description":"Отчет по работам и вехам для GPTZATOR","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id","date"],"additionalProperties":false,"properties":{"project_id":{"description":"ID проекта","type":"string"},"model_version_id":{"description":"ID версии проекта в статусе model","type":"string"},"date":{"description":"Дата (В формате YYYY-MM-DD)","type":"string"}}}}],"responses":{"200":{"description":"Массив элементов проекта","schema":{"description":"Массив элементов проекта","type":"array","items":{"oneOf":[{"description":"Работа","type":"object","required":["attributes","resources","results","code","title","group","type","start_date_plan","start_date_actual","start_date_forecast","end_date_plan","end_date_actual","end_date_forecast"],"additionalProperties":false,"properties":{"attributes":{"description":"Массив атрибутов","type":"array","items":{"type":"object","required":["name","value"],"additionalProperties":false,"properties":{"name":{"description":"Имя атрибута","type":"string"},"description":{"description":"Описание атрибута из справочника атрибутов","type":["string","null"]},"value":{"type":["number","string","boolean"],"description":"Значение аттрибута"}}}},"resources":{"description":"Показатели - ресурсы","type":"array","items":{"type":"object","required":["resource_type","resource_name","unit","value_today_plan","value_today_actual"],"additionalProperties":false,"properties":{"resource_type":{"description":"Тип показателя","type":"string"},"resource_name":{"description":"Имя показателя","type":["string","null"]},"unit":{"description":"Eд. измерения","type":["string","null"]},"value_today_plan":{"description":"Плановый объем на сегодня (сумма ОКР)","type":"number"},"value_today_actual":{"description":"Сумма факта по сегодня включительно","type":"number"}}}},"results":{"description":"показатели - результаты","type":"array","items":{"type":"object","required":["resource_type","resource_name","unit","value_today_plan","value_today_actual"],"additionalProperties":false,"properties":{"resource_type":{"description":"Тип показателя","type":"string"},"resource_name":{"description":"Имя показателя","type":["string","null"]},"unit":{"description":"Eд. измерения","type":["string","null"]},"value_today_plan":{"description":"Плановый объем на сегодня (сумма ОКР)","type":"number"},"value_today_actual":{"description":"Сумма факта по сегодня включительно","type":"number"}}}},"code":{"description":"Код из рабочей версии","type":["string","null"]},"title":{"description":"Имя из рабочей версии","type":"string"},"group":{"description":"Имя парента, если есть и null - если нет","type":["string","null"]},"type":{"type":"string","description":"Тип сущности","enum":["work"]},"start_date_plan":{"description":"start_time из рабочей версии","type":"string"},"start_date_actual":{"description":"Дата первого факта по работе","type":["string","null"]},"start_date_forecast":{"description":"start_time из модели","type":["string","null"]},"end_date_plan":{"description":"end_time из рабочей версии","type":"string"},"end_date_actual":{"description":"Дата завершения работы (из факта)","type":["string","null"]},"end_date_forecast":{"description":"end_time из модели","type":["string","null"]}}},{"description":"Веха","type":"object","required":["attributes","resources","results","code","title","group","type","priority","date_plan","date_actual","date_forecast","deadline","min_time_reserve","critical_paths"],"additionalProperties":false,"properties":{"attributes":{"description":"Массив атрибутов","type":"array","items":{"type":"object","required":["name","value"],"additionalProperties":false,"properties":{"name":{"description":"Имя атрибута","type":"string"},"description":{"description":"Описание атрибута из справочника атрибутов","type":["string","null"]},"value":{"type":["number","string","boolean"],"description":"Значение аттрибута"}}}},"resources":{"description":"Показатели - ресурсы","type":"array","items":{"type":"object","required":["resource_type","resource_name","unit","value_today_plan","value_today_actual"],"additionalProperties":false,"properties":{"resource_type":{"description":"Тип показателя","type":"string"},"resource_name":{"description":"Имя показателя","type":["string","null"]},"unit":{"description":"Eд. измерения","type":["string","null"]},"value_today_plan":{"description":"Плановый объем на сегодня (сумма ОКР)","type":"number"},"value_today_actual":{"description":"Сумма факта по сегодня включительно","type":"number"}}}},"results":{"description":"показатели - результаты","type":"array","items":{"type":"object","required":["resource_type","resource_name","unit","value_today_plan","value_today_actual"],"additionalProperties":false,"properties":{"resource_type":{"description":"Тип показателя","type":"string"},"resource_name":{"description":"Имя показателя","type":["string","null"]},"unit":{"description":"Eд. измерения","type":["string","null"]},"value_today_plan":{"description":"Плановый объем на сегодня (сумма ОКР)","type":"number"},"value_today_actual":{"description":"Сумма факта по сегодня включительно","type":"number"}}}},"code":{"description":"Код из рабочей версии","type":["string","null"]},"title":{"description":"Имя из рабочей версии","type":"string"},"group":{"description":"Имя парента, если есть и null - если нет","type":["string","null"]},"type":{"type":"string","description":"Тип сущности","enum":["milestone"]},"priority":{"description":"Важность вехи","type":"string"},"date_plan":{"description":"Дата вехи из рабочей версии)","type":"string"},"date_actual":{"description":"Дата завершения вехи","type":["string","null"]},"date_forecast":{"description":"Дата вехи из прогноза","type":["string","null"]},"deadline":{"description":"Дата дедлайна вехи из рабочей версии","type":["string","null"]},"min_time_reserve":{"description":"Минимальный резерв вехи","type":"number"},"critical_paths":{"type":"array","items":{"type":"object","required":["path","jobs","reserve"],"additionalProperties":false,"properties":{"path":{"description":"Критический путь","type":"string"},"reserve":{"description":"Резерв критического пути","type":"number"},"jobs":{"type":"array","items":{"type":"object","required":["code","reserve"],"additionalProperties":false,"properties":{"code":{"description":"Код строки","type":"string"},"reserve":{"description":"Общий резерв по строке в этом крит. пути","type":"number"}}}}}}}}}]}}}}}},"/v1/report/indicators/values":{"post":{"description":"Датасет по показателям","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"required":["periodicity","project_name","item_name","item_type","item_start_time","item_end_time","item_duration_calendar_days","item_duration_work_days","item_code","item_parent_id","indicators","project_attribute_ids","item_attribute_ids","groups","filters"],"properties":{"periodicity":{"description":"Периодичность, с которой возвращаются значения показателей. Если параметр не передан, значения возвращаются за весь период без разбивки.","type":"array","items":{"type":"string","enum":["day","week","month","quarter","year"]},"default":[]},"project_name":{"description":"Признак, отвечающий за то, возвращать ли наименование проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_name":{"description":"Признак, отвечающий за то, возвращать ли наименование элемента проекта (работа или веха) в ответе. По умолчанию false.","type":"boolean","default":false},"item_type":{"description":"Признак, отвечающий за то, возвращать ли тип элемента проекта (работа или веха) в ответе. По умолчанию false.","type":"boolean","default":false},"item_start_time":{"description":"Признак, отвечающий за то, возвращать ли дату начала элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_end_time":{"description":"Признак, отвечающий за то, возвращать ли дату окончания элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_duration_calendar_days":{"description":"Признак, отвечающий за то, возвращать ли длительность в календарных днях элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_duration_work_days":{"description":"Признак, отвечающий за то, возвращать ли длительность в рабочих днях элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_code":{"description":"Признак, отвечающий за то, возвращать ли код элемента графика в ответе. По умолчанию false.","type":"boolean","default":false},"item_parent_id":{"description":"Признак, отвечающий за то, возвращать ли ID родителя элемента графика  в ответе. По умолчанию false.","type":"boolean","default":false},"indicators":{"description":"Массив объектов, описывающих показатели, которые нужно вернуть в ответе а также какие значения по показателю нужно вернуть. Должен быть хотя бы один объект (показатель) в массиве.","type":"array","items":{"type":"object","required":["id","plan","fact","forecast","analytics","group"],"additionalProperties":false,"properties":{"id":{"description":"ID показателя","type":"string"},"plan":{"description":"Признак, отвечающий за то, возвращать ли плановое значение показателя в ответе (значение из рабочей версии проекта). По умолчанию false","type":"boolean","default":false},"fact":{"description":"Признак, отвечающий за то, возвращать ли фактическое значение показателя в ответе. По умолчанию false","type":"boolean","default":false},"forecast":{"description":"Признак, отвечающий за то, возвращать ли прогнозное значение показателя в ответе (значение из актуальной модели проекта). По умолчанию false","type":"boolean","default":false},"analytics":{"description":"Признак, отвечающий за то, возвращать ли аналитику значения показателя в ответе. Может быть true, только если показатель имеем аналитическое раскрытие. По умолчанию false","type":"boolean","default":false},"group":{"description":"Признак, отвечающий за то, возвращать ли наименование группы показателя, которая является родителем первого уровня, в ответе. По умолчанию false","type":"boolean","default":false}}},"default":[]},"project_attribute_ids":{"description":"Список ID атрибутов проектов, которые нужно вернуть в ответе","type":"array","items":{"type":"string"},"default":[]},"item_attribute_ids":{"description":"Список ID атрибутов элементов проекта, которые нужно вернуть в ответе","type":"array","items":{"type":"string"},"default":[]},"groups":{"description":"Добавить группы","type":"boolean","default":false},"filters":{"description":"Массив фильтров для уточнения условий выборки данных","type":"array","items":{"type":"object","required":["field","condition","value"],"additionalProperties":false,"properties":{"field":{"description":"Поле, по которому производится выборка","type":"string","enum":["project_ids","item_ids","project_attribute","item_attribute","indicator_plan","indicator_fact","indicator_forecast","indicator_analytics","period"]},"id":{"description":"ID сущности по которой применяется выборка","type":"string"},"condition":{"description":"Условия фильтрации","type":"string","enum":["equal","in_list","contains","greater","less"]},"value":{}}},"default":[]}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"description":"Строка датасета","type":"object"}}}}}},"/v1/report/space/project-attribute":{"get":{"description":"Все уникальные атрибуты проектов в спейсе","tags":["Отчетность"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","title","type"],"additionalProperties":false,"properties":{"id":{"description":"ID атрибута из справочника","type":"string"},"title":{"description":"Наименование атрибута из справочника","type":"string"},"type":{"description":"Тип атрибута","type":"string","enum":["string","number","date","boolean","link"]},"constraint":{"description":"Ограничение","type":"object","properties":{"id":{"description":"ID справочника","type":"string"},"system_type":{"description":"Тип справочника","type":"string","enum":["customer"]}}}}}}},"required":["result"]}}}}},"/v1/report/space/item-attribute":{"get":{"description":"Все уникальные атрибуты элементов проекта в спейсе","tags":["Отчетность"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","title","type"],"additionalProperties":false,"properties":{"id":{"description":"ID атрибута из справочника","type":"string"},"title":{"description":"Наименование атрибута из справочника","type":"string"},"type":{"description":"Тип атрибута","type":"string","enum":["string","number","date","boolean","link"]},"constraint":{"description":"Ограничение","type":"object","properties":{"id":{"description":"ID справочника","type":"string"},"system_type":{"description":"Тип справочника","type":"string","enum":["customer"]}}}}}}},"required":["result"]}}}}},"/v1/report/space/indicator":{"get":{"tags":["Отчетность"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","title"],"additionalProperties":false,"properties":{"id":{"description":"ID показателя из справочника","type":"string"},"title":{"description":"Наименование показателя из справочника","type":"string"},"analytics":{"description":"Аналитика показателя","type":"object","required":["id","title"],"additionalProperties":false,"properties":{"id":{"description":"ID пользовательского справочника","type":"string"},"title":{"description":"Наименование пользовательского справочника","type":"string"}}}}}}},"required":["result"]}}}}},"/v1/report/resource-usage":{"post":{"description":"Датасет отчета по использованию ресурсов","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["periodicity"],"additionalProperties":false,"properties":{"columns":{"description":"Показать или скрыть поля","type":"object","required":[],"additionalProperties":false,"properties":{"spent_plan":{"description":"Затрачено (план)","type":"boolean","default":true},"spent_fact":{"description":"Затрачено (факт)","type":"boolean","default":true},"deviation":{"description":"Отклонение","type":"boolean","default":true},"capacity":{"description":"Емкость","type":"boolean","default":true},"remaining":{"description":"Остаток","type":"boolean","default":true}},"default":{}},"periodicity":{"type":"array","minItems":1,"maxItems":4,"items":{"description":"Периодичность","type":"string","enum":["day","week","month","year"]}},"project_version":{"description":"Выбор версий проекта","type":"string","enum":["current","target"],"default":"current"},"filters":{"description":"Фильтры","type":"array","items":{"type":"object","required":["field","condition","value"],"additionalProperties":false,"properties":{"field":{"description":"Поле, по которому производится выборка","type":"string","enum":["project_ids","period"]},"condition":{"description":"Условия фильтрации","type":"string","enum":["equal","in_list"]},"value":{}}},"default":[]}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"description":"Строка датасета","type":"object"}}}}}},"/v2/report/gptzator":{"post":{"description":"Отчет по работам и вехам для GPTZATOR V2","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id","project_version_id","date"],"additionalProperties":false,"properties":{"project_id":{"description":"ID проекта","type":"string","minLength":21,"maxLength":21},"project_version_id":{"description":"ID версии проекта (не базовая)","type":"string","minLength":21,"maxLength":21},"date":{"description":"Дата (В формате YYYY-MM-DD)","type":"string","pattern":"^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$"}}}}],"responses":{"200":{"description":"Массив элементов проекта","schema":{"description":"Массив элементов проекта","type":"array","items":{"description":"Работа или веха","type":"object","required":["type","code","title","start_date_plan","end_date_plan","start_date_actual","end_date_actual","start_date_forecast","end_date_forecast","group","attributes","resources","results"],"additionalProperties":false,"properties":{"type":{"description":"Тип сущности","type":"string"},"code":{"description":"Код из рабочей версии","type":["null","string"]},"title":{"description":"Имя из рабочей версии","type":"string"},"start_date_plan":{"description":"start_time из выбранной версии","type":"string"},"end_date_plan":{"description":"end_time из выбранной версии","type":"string"},"start_date_actual":{"description":"Дата первого факта по строке","type":["null","string"]},"end_date_actual":{"description":"Дата завершения строки","type":["null","string"]},"start_date_forecast":{"description":"start_time из рабочей версии","type":["null","string"]},"end_date_forecast":{"description":"end_time из рабочей версии","type":["null","string"]},"group":{"description":"Имя родительской группы","type":["null","string"]},"attributes":{"description":"Массив атрибутов","type":"array","items":{"type":"object","required":["name","value"],"additionalProperties":false,"properties":{"name":{"description":"Имя атрибута","type":"string"},"description":{"description":"Описание атрибута из справочника атрибутов","type":["null","string"]},"value":{"type":["number","string","boolean"],"description":"Значение аттрибута"}}}},"resources":{"description":"Показатели - ресурсы","type":"array","items":{"type":"object","required":["resource_type","resource_name","unit","value_today_plan","value_today_actual"],"additionalProperties":false,"properties":{"resource_type":{"description":"Тип показателя","type":"string"},"resource_name":{"description":"Имя показателя","type":["null","string"]},"unit":{"description":"Eд. измерения","type":["null","string"]},"value_today_plan":{"description":"Плановый объем на сегодня (сумма ОКР)","type":"number"},"value_today_actual":{"description":"Сумма факта по сегодня включительно","type":"number"}}}},"results":{"description":"показатели - результаты","type":"array","items":{"type":"object","required":["resource_type","resource_name","unit","value_today_plan","value_today_actual"],"additionalProperties":false,"properties":{"resource_type":{"description":"Тип показателя","type":"string"},"resource_name":{"description":"Имя показателя","type":["null","string"]},"unit":{"description":"Eд. измерения","type":["null","string"]},"value_today_plan":{"description":"Плановый объем на сегодня (сумма ОКР)","type":"number"},"value_today_actual":{"description":"Сумма факта по сегодня включительно","type":"number"}}}},"priority":{"description":"Важность вехи","type":"string"},"deadline":{"description":"Дата дедлайна вехи из рабочей версии","type":["null","string"]},"min_time_reserve":{"description":"Минимальный резерв вехи","type":"number"},"critical_paths":{"type":"array","items":{"type":"object","required":["path","jobs","reserve"],"additionalProperties":false,"properties":{"path":{"description":"Критический путь","type":"string"},"reserve":{"description":"Резерв критического пути","type":"number"},"jobs":{"type":"array","items":{"type":"object","required":["code","reserve"],"additionalProperties":false,"properties":{"code":{"description":"Код строки","type":"string"},"reserve":{"description":"Общий резерв по строке в этом крит. пути","type":"number"}}}}}}}}}}}}}},"/v2/report/works":{"post":{"description":"Отчет по работам","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["projects","date"],"properties":{"date":{"type":"string","format":"date","description":"Дата на которую строится отчет"},"projects":{"description":"Массив проектов по которым строится отчет","type":"array","items":{"type":"object","properties":{"project_id":{"description":"Идентификатор проекта, обязательное поле","type":"string","minLength":21,"maxLength":21},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["project_id"]}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"description":"Результат","type":"object","properties":{"milestone_map":{"description":"Сет вех по версиям проектов которые попали в отчет","type":"object"},"attribute_map":{"description":"Хэш-таблица атрибутов из типа проекта (возвращается когда выбран один проект)","type":"object"},"data":{"description":"Элементы версий","type":"array","items":{"description":"Элемент отчета","type":"object"}}},"required":["milestone_map","attribute_map","data"]}}}}}}},"/v2/report/milestone":{"post":{"description":"Отчет по контрольным точкам","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["projects","actual_fact_border_time"],"properties":{"projects":{"description":"Массив проектов по которым строится отчет","type":"array","items":{"type":"object","properties":{"project_id":{"description":"Идентификатор проекта, обязательное поле","type":"string"},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21}},"required":["project_id"]}},"actual_fact_border_time":{"description":"Граница актуального факта","type":"string","format":"date"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"description":"Результат","type":"array","items":{"type":"object","required":["item_id","item_code","item_title","priority","completion_date","status","plan_date","deadline_date","forecast_date","diff_days","missed_days","revenue","project_title","project_id","project_version_id"],"additionalProperties":false,"properties":{"item_id":{"description":"Идентификатор вехи","type":"string"},"project_id":{"description":"Идентификатор проекта","type":"string"},"project_version_id":{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21},"project_title":{"description":"Наименование проекта","type":"string"},"item_code":{"description":"Код вехи","type":["null","string"]},"item_title":{"description":"Наименование вехи","type":"string"},"priority":{"description":"Важность","type":["null","string"],"enum":["low","medium","high","null"]},"completion_date":{"description":"Дата завершения","type":["null","string"]},"status":{"description":"Статус","type":"string","enum":["in_plan","completed","in_time","problematic","missing_deadlines","error"]},"plan_date":{"description":"Дата план","type":"string"},"deadline_date":{"description":"Дедлайн","type":["null","string"]},"forecast_date":{"description":"Прогноз","type":["null","string"]},"diff_days":{"description":"Отклонение","type":"number"},"missed_days":{"description":"Срыв сроков","type":"number"},"revenue":{"description":"Выручка","type":"number"}}}}}}}}}},"/v2/report/indicators/values":{"post":{"description":"Датасет по показателям","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"required":["periodicity","project_name","item_name","item_type","item_start_time","item_end_time","item_duration_calendar_days","item_duration_work_days","item_code","item_parent_id","indicators","project_attribute_ids","item_attribute_ids","groups","filters"],"properties":{"periodicity":{"description":"Периодичность, с которой возвращаются значения показателей. Если параметр не передан, значения возвращаются за весь период без разбивки.","type":"array","items":{"type":"string","enum":["day","week","month","quarter","year"]},"default":[]},"project_name":{"description":"Признак, отвечающий за то, возвращать ли наименование проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_name":{"description":"Признак, отвечающий за то, возвращать ли наименование элемента проекта (работа или веха) в ответе. По умолчанию false.","type":"boolean","default":false},"item_type":{"description":"Признак, отвечающий за то, возвращать ли тип элемента проекта (работа или веха) в ответе. По умолчанию false.","type":"boolean","default":false},"item_start_time":{"description":"Признак, отвечающий за то, возвращать ли дату начала элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_end_time":{"description":"Признак, отвечающий за то, возвращать ли дату окончания элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_duration_calendar_days":{"description":"Признак, отвечающий за то, возвращать ли длительность в календарных днях элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_duration_work_days":{"description":"Признак, отвечающий за то, возвращать ли длительность в рабочих днях элемента проекта в ответе. По умолчанию false.","type":"boolean","default":false},"item_code":{"description":"Признак, отвечающий за то, возвращать ли код элемента графика в ответе. По умолчанию false.","type":"boolean","default":false},"item_parent_id":{"description":"Признак, отвечающий за то, возвращать ли ID родителя элемента графика  в ответе. По умолчанию false.","type":"boolean","default":false},"indicators":{"description":"Массив объектов, описывающих показатели, которые нужно вернуть в ответе а также какие значения по показателю нужно вернуть. Должен быть хотя бы один объект (показатель) в массиве.","type":"array","items":{"type":"object","required":["id","plan","fact","forecast","analytics","group"],"additionalProperties":false,"properties":{"id":{"description":"ID показателя","type":"string"},"plan":{"description":"Признак, отвечающий за то, возвращать ли плановое значение показателя в ответе (значение из рабочей версии проекта). По умолчанию false","type":"boolean","default":false},"fact":{"description":"Признак, отвечающий за то, возвращать ли фактическое значение показателя в ответе. По умолчанию false","type":"boolean","default":false},"forecast":{"description":"Признак, отвечающий за то, возвращать ли прогнозное значение показателя в ответе (значение из актуальной модели проекта). По умолчанию false","type":"boolean","default":false},"analytics":{"description":"Признак, отвечающий за то, возвращать ли аналитику значения показателя в ответе. Может быть true, только если показатель имеем аналитическое раскрытие. По умолчанию false","type":"boolean","default":false},"group":{"description":"Признак, отвечающий за то, возвращать ли наименование группы показателя, которая является родителем первого уровня, в ответе. По умолчанию false","type":"boolean","default":false}}},"default":[]},"project_attribute_ids":{"description":"Список ID атрибутов проектов, которые нужно вернуть в ответе","type":"array","items":{"type":"string"},"default":[]},"item_attribute_ids":{"description":"Список ID атрибутов элементов проекта, которые нужно вернуть в ответе","type":"array","items":{"type":"string"},"default":[]},"groups":{"description":"Добавить группы","type":"boolean","default":false},"filters":{"description":"Массив фильтров для уточнения условий выборки данных","type":"array","items":{"type":"object","required":["field","condition","value"],"additionalProperties":false,"properties":{"field":{"description":"Поле, по которому производится выборка","type":"string","enum":["project_ids","item_ids","project_attribute","item_attribute","indicator_plan","indicator_fact","indicator_forecast","indicator_analytics","period"]},"id":{"description":"ID сущности по которой применяется выборка","type":"string"},"condition":{"description":"Условия фильтрации","type":"string","enum":["equal","in_list","contains","greater","less"]},"value":{}}},"default":[]}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"description":"Строка датасета","type":"object"}}}}}},"/v2/report/completion-on-date/project":{"post":{"description":"Список проектов на дату","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"required":["progress_on_date","project_name","project_attribute_ids","filters","all_attributes"],"properties":{"progress_on_date":{"description":"Признак присутствия прогресса проекта на дату. По умолчанию false","type":"boolean","default":false},"project_name":{"description":"Признак присутствия наименования проекта в ответе. По умолчанию false","type":"boolean","default":false},"project_attribute_ids":{"description":"Список ID атрибутов проектов, которые нужно вернуть в ответе","type":"array","items":{"type":"string"},"default":[]},"filters":{"description":"Массив фильтров для уточнения условий выборки данных","type":"array","items":{"type":"object","required":["field","condition"],"additionalProperties":false,"properties":{"field":{"description":"Поле, по которому производится выборка","type":"string","enum":["project_ids","date"]},"id":{"description":"ID сущности по которой применяется выборка","type":"string"},"condition":{"description":"Условия фильтрации","type":"string","enum":["equal","in_list"]},"value":{"anyOf":[{},{"description":"Относительное значение даты","type":"string","enum":["today","start_of_current_month","end_of_current_month","date"]}]},"date":{"description":"Значение даты","type":"string"},"offset":{"description":"Значение смещения для даты","type":"number"}}},"default":[]},"all_attributes":{"description":"Все атрибуты","type":"boolean","default":false}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"description":"Строка дата-сета","type":"object"}}}}},"required":["message","result"]}}}}},"/v2/report/completion-on-date/item":{"post":{"description":"Список строк на дату","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"required":["item_name","item_code","item_type","item_start_time","item_end_time","item_duration_calendar_days","item_duration_work_days","item_parent_id","item_attribute_ids","filters","all_attributes"],"properties":{"item_name":{"description":"Признак присутствия наименования элемента проекта. По умолчанию false","type":"boolean","default":false},"item_code":{"description":"Признак присутствия кода элемента проекта. По умолчанию false","type":"boolean","default":false},"item_type":{"description":"Признак присутствия типа элемента проекта. По умолчанию false","type":"boolean","default":false},"item_start_time":{"description":"Признак присутствия даты начала элемента проекта. По умолчанию false","type":"boolean","default":false},"item_end_time":{"description":"Признак присутствия даты окончания элемента проекта. По умолчанию false","type":"boolean","default":false},"item_duration_calendar_days":{"description":"Признак присутствия кол-ва длительности рабочих дней элемента проекта. По умолчанию false","type":"boolean","default":false},"item_duration_work_days":{"description":"Признак присутствия кол-ва длительности рабочих дней элемента графика. По умолчанию false","type":"boolean","default":false},"item_parent_id":{"description":"Признак присутствия ID родителя элемента проекта","type":"boolean","default":false},"item_attribute_ids":{"description":"Список ID атрибутов элементов проекта, которые нужно вернуть в ответе","type":"array","items":{"type":"string"},"default":[]},"filters":{"description":"Массив фильтров для уточнения условий выборки данных","type":"array","items":{"type":"object","required":["field","condition"],"additionalProperties":false,"properties":{"field":{"description":"Поле, по которому производится выборка","type":"string","enum":["project_ids","date"]},"id":{"description":"ID сущности по которой применяется выборка","type":"string"},"condition":{"description":"Условия фильтрации","type":"string","enum":["equal","in_list"]},"value":{"anyOf":[{},{"description":"Относительное значение даты","type":"string","enum":["today","start_of_current_month","end_of_current_month","date"]}]},"date":{"description":"Значение даты","type":"string"},"offset":{"description":"Значение смещения для даты","type":"number"}}},"default":[]},"all_attributes":{"description":"Все атрибуты","type":"boolean","default":false}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"description":"Строка дата-сета","type":"object"}}}}},"required":["message","result"]}}}}},"/v2/report/completion-on-date/indicator-value":{"post":{"description":"Список значений показателей на дату","tags":["Отчетность"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","additionalProperties":false,"required":["indicators","filters","all_indicators"],"properties":{"indicators":{"description":"Массив выбранных показателей в области данных","type":"array","items":{"type":"object","required":["id","plan","fact","analytics"],"additionalProperties":false,"properties":{"id":{"description":"ID показателя","type":"string"},"plan":{"description":"Признак присутствия планового значения. По умолчанию false","type":"boolean","default":false},"fact":{"description":"Признак присутствия фактического значения. По умолчанию false","type":"boolean","default":false},"analytics":{"description":"Признак присутствия аналитики показателя. По умолчанию false","type":"boolean","default":false}}},"default":[]},"filters":{"description":"Массив фильтров для уточнения условий выборки данных","type":"array","items":{"type":"object","required":["field","condition"],"additionalProperties":false,"properties":{"field":{"description":"Поле, по которому производится выборка","type":"string","enum":["project_ids","date"]},"id":{"description":"ID сущности по которой применяется выборка","type":"string"},"condition":{"description":"Условия фильтрации","type":"string","enum":["equal","in_list"]},"value":{"anyOf":[{},{"description":"Относительное значение даты","type":"string","enum":["today","start_of_current_month","end_of_current_month","date"]}]},"date":{"description":"Значение даты","type":"string"},"offset":{"description":"Значение смещения для даты","type":"number"}}},"default":[]},"all_indicators":{"description":"Все показатели","type":"boolean","default":false}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["data"],"properties":{"data":{"type":"array","items":{"description":"Строка дата-сета","type":"object"}}}}},"required":["message","result"]}}}}},"/v1/custom-report/{id}":{"delete":{"description":"Удалить сущность отчета любого типа","tags":["Шаблоны отчетов"],"parameters":[{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/custom-report/group/{id}":{"get":{"description":"Получить группу отчетов","tags":["Шаблоны отчетов"],"parameters":[{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","add_time","update_time","group_id","element_type","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"element_type":{"description":"Тип сущности","enum":["group","pivot","stimulsoft_base","stimulsoft_advanced"],"type":"string"}}}},"required":["message","result"]}}}},"put":{"description":"Обновить группу отчетов","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["group_id","title"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1}}}},{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/custom-report/group":{"post":{"description":"Создать группу отчетов","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["group_id","title"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/custom-report/stimulsoft-advanced":{"post":{"description":"Создать отчет типа StimulsoftAdvanced","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["title","group_id"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"localization_keys":{"type":"object","additionalProperties":true,"description":"Ключи локализации для значений"},"template":{"type":"string","description":"Шаблон отчета"},"requests":{"type":"array","items":{"type":"object","description":"Описание запросов","properties":{"filters":{"type":["array","null"],"items":{"type":"string"},"nullable":true},"key":{"type":"string","description":"Уникальный ключ"},"url":{"type":"string","description":" Адрес эндпоинта"}},"additionalProperties":true,"required":["key","url","filters"]}},"filters":{"type":"array","items":{"type":"object","description":"Динамические фильтры","additionalProperties":true,"properties":{"key":{"type":"string","description":"Уникальный ключ"},"label":{"type":"string","description":" Заголовок фильтра"},"isPrivate":{"type":"boolean","description":" Доступен только администратору"},"required":{"type":"boolean","description":" Обязательный к заполнению"}},"required":["key"]}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/custom-report/stimulsoft-advanced/{id}":{"put":{"description":"Обновить отчет типа StimulsoftAdvanced","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["title","group_id"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"template":{"type":"string","description":"Шаблон отчета"},"localization_keys":{"type":"object","additionalProperties":true,"description":"Ключи локализации для значений"},"requests":{"type":"array","items":{"type":"object","description":"Описание запросов","properties":{"filters":{"type":["array","null"],"items":{"type":"string"},"nullable":true},"key":{"type":"string","description":"Уникальный ключ"},"url":{"type":"string","description":" Адрес эндпоинта"}},"additionalProperties":true,"required":["key","url","filters"]}},"filters":{"type":"array","items":{"type":"object","description":"Динамические фильтры","additionalProperties":true,"properties":{"key":{"type":"string","description":"Уникальный ключ"},"label":{"type":"string","description":" Заголовок фильтра"},"isPrivate":{"type":"boolean","description":" Доступен только администратору"},"required":{"type":"boolean","description":" Обязательный к заполнению"}},"required":["key"]}}}}},{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получить отчет типа StimulsoftAdvanced","tags":["Шаблоны отчетов"],"parameters":[{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","add_time","update_time","group_id","element_type","title","template","localization_keys","requests","filters"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"element_type":{"description":"Тип сущности","enum":["group","pivot","stimulsoft_base","stimulsoft_advanced"],"type":"string"},"template":{"type":["null","string"],"description":"Шаблон отчета"},"localization_keys":{"type":["null","object"],"additionalProperties":true,"description":"Ключи локализации для значений"},"requests":{"type":["null","array"],"items":{"type":"object","description":"Описание запросов","properties":{"filters":{"type":["null","array"],"items":{"type":"string"},"nullable":true},"key":{"type":"string","description":"Уникальный ключ"},"url":{"type":"string","description":" Адрес эндпоинта"}},"additionalProperties":true,"required":["key","url","filters"]}},"filters":{"type":["null","array"],"items":{"type":"object","description":"Динамические фильтры","additionalProperties":true,"properties":{"key":{"type":"string","description":"Уникальный ключ"},"label":{"type":"string","description":" Заголовок фильтра"},"isPrivate":{"type":"boolean","description":" Доступен только администратору"},"required":{"type":"boolean","description":" Обязательный к заполнению"}},"required":["key"]}}}}},"required":["message","result"]}}}}},"/v1/custom-report/pivot":{"post":{"description":"Создать отчет типа ReportPivot","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["group_id","title","parameters","config","data_area"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"parameters":{"description":"Параметры отчета"},"config":{"description":"Структура отчета"},"data_area":{"description":"Область данных","type":"string","enum":["indicators","data_storage","resource_usage","completion_on_date"]}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/custom-report/pivot/{id}":{"put":{"description":"Обновить отчет типа ReportPivot","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["group_id","title","parameters","config","data_area"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"parameters":{"description":"Параметры отчета"},"config":{"description":"Структура отчета"},"data_area":{"description":"Область данных","type":"string","enum":["indicators","data_storage","resource_usage","completion_on_date"]}}}},{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}},"get":{"description":"Получить отчет типа ReportPivot","tags":["Шаблоны отчетов"],"parameters":[{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","add_time","update_time","group_id","title","element_type","parameters","config","data_area"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"element_type":{"description":"Тип сущности","enum":["group","pivot","stimulsoft_base","stimulsoft_advanced"],"type":"string"},"parameters":{"description":"Параметры отчета"},"config":{"description":"Структура отчета"},"data_area":{"description":"Область данных","type":"string","enum":["indicators","data_storage","resource_usage","completion_on_date"]}}}},"required":["message","result"]}}}}},"/v1/custom-report/stimulsoft-base":{"post":{"description":"Создать отчет типа StimulsoftBase","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["group_id","title","parameters","config","data_area"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"parameters":{"description":"Параметры отчета"},"config":{"description":"Структура отчета"},"data_area":{"description":"Область данных","type":"string","enum":["indicators","data_storage","resource_usage","completion_on_date"]}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/custom-report/stimulsoft-base/{id}":{"put":{"description":"Обновить отчет типа ReportStimulsoftBase","tags":["Шаблоны отчетов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["group_id","title","parameters","config","data_area"],"additionalProperties":false,"properties":{"group_id":{"type":["string","null"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"parameters":{"description":"Параметры отчета"},"config":{"description":"Структура отчета"},"data_area":{"description":"Область данных","type":"string","enum":["indicators","data_storage","resource_usage","completion_on_date"]}}}},{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}},"get":{"description":"Получить отчет типа StimulsoftBase","tags":["Шаблоны отчетов"],"parameters":[{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","add_time","update_time","group_id","title","element_type","parameters","config","data_area"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"add_time":{"type":"string","format":"date-time","description":"Время создания"},"update_time":{"type":"string","format":"date-time","description":"Время обновления"},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"element_type":{"description":"Тип сущности","enum":["group","pivot","stimulsoft_base","stimulsoft_advanced"],"type":"string"},"parameters":{"description":"Параметры отчета"},"config":{"description":"Структура отчета"},"data_area":{"description":"Область данных","type":"string","enum":["indicators","data_storage","resource_usage","completion_on_date"]}}}},"required":["message","result"]}}}}},"/v1/custom-report/list":{"get":{"description":"Получить список отчетов","tags":["Шаблоны отчетов"],"parameters":[{"type":"string","description":"ID родительского элемента/группы","minLength":21,"maxLength":21,"required":false,"in":"query","name":"group_id"},{"type":"array","items":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"required":false,"in":"query","name":"ids"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","group_id","title","element_type"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"element_type":{"description":"Тип сущности","enum":["group","pivot","stimulsoft_base","stimulsoft_advanced"],"type":"string"}}}}},"required":["result"]}}}}},"/v1/custom-report/tree":{"get":{"description":"Получить дерево отчетов","tags":["Шаблоны отчетов"],"parameters":[{"type":"string","description":"ID родительского элемента/группы","minLength":21,"maxLength":21,"required":false,"in":"query","name":"group_id"},{"type":"array","items":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"required":false,"in":"query","name":"ids"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","group_id","title","element_type"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента/группы","minLength":21,"maxLength":21},"group_id":{"type":["null","string"],"description":"ID родительского элемента/группы","minLength":21,"maxLength":21},"title":{"description":"Наименование элемента/группы","type":"string","maxLength":255,"minLength":1},"element_type":{"description":"Тип сущности","enum":["group","pivot","stimulsoft_base","stimulsoft_advanced"],"type":"string"},"children":{"type":"array","items":{"$ref":"#/properties/result/items"}}}}}},"required":["result"]}}}}},"/v1/exporter/gantt":{"post":{"tags":["Экспорт диаграммы ганта"],"responses":{"200":{"description":"Default Response"}}}},"/v1/exporter/gantt/xml":{"post":{"tags":["Экспорт диаграммы ганта"],"parameters":[{"type":"string","description":"Идентификатор версии проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_version_id"},{"type":"string","description":"Название файла, которое будет установлено при скачивании файла","required":true,"in":"query","name":"filename"}],"responses":{"200":{"description":"Default Response"}}}},"/v1/integration/fact/input":{"post":{"description":"Интеграция: ввод факта","tags":["Интеграция"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["token","data"],"additionalProperties":false,"properties":{"token":{"description":"Токен авторизации","type":"string"},"data":{"description":"Данные","type":"object","required":["project_id","indicators"],"additionalProperties":false,"properties":{"project_id":{"type":"string","description":"Идентификатор проекта","minLength":21,"maxLength":21},"indicators":{"type":"array","items":{"type":"object","required":["indicator_id","date","value"],"additionalProperties":false,"properties":{"indicator_id":{"description":"Первоначальный ID значения показателя","type":"string"},"date":{"description":"Дата (в формате YYYY-MM-DD)","type":"string","format":"date"},"value":{"description":"Числовое значение","type":["number","null"]}}}}}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"}}}}}}},"/v1/integration/project-metrics":{"post":{"description":"Получение данных по показателям проекта","tags":["Интеграция"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id","project_version_id","periodicity"],"properties":{"project_id":{"description":"Уникальный идентификатор проекта","type":"string","maxLength":21},"project_version_id":{"description":"Уникальный идентификатор версии проекта","type":"string","maxLength":21},"periodicity":{"description":"Периодичность данных: день/неделя/месяц/квартал/год","type":"string","enum":["day","week","month","quarter","year"]},"start_date":{"description":"Дата начала периода (в формате YYYY-MM-DD)","type":"string","format":"date"},"end_date":{"description":"Дата окончания периода (в формате YYYY-MM-DD)","type":"string","format":"date"},"indicator_ids":{"description":"Массив уникальных идентификаторов показателей","type":"array","items":{"type":"string","maxLength":21}},"attributes":{"description":"Массив атрибутов для фильтрации данных","type":"array","items":{"type":"object","required":["id","key"],"additionalProperties":false,"properties":{"id":{"description":"Уникальный идентификатор атрибута","type":"string","maxLength":21},"key":{"description":"JSON-ключ, который будет использоваться в ответе для атрибута","type":"string","maxLength":255}}}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["period_date","indicator_id","indicator_name","analytics","amount"],"additionalProperties":{"oneOf":[{"description":"Строка","type":"string"},{"description":"Число","type":"number"},{"description":"Признак","type":"boolean"},{"description":"Справочник","type":"object","required":["catalog_id","element_id","catalog_name","element_name"],"additionalProperties":false,"properties":{"catalog_id":{"description":"Уникальный идентификатор справочника","type":["string","null"],"maxLength":21},"element_id":{"description":"Уникальный идентификатор элемента справочника","type":["string","null"],"maxLength":21},"catalog_name":{"description":"Название справочника","type":["string","null"],"maxLength":100},"element_name":{"description":"Название элемента справочника","type":["string","null"],"maxLength":255}}}]},"properties":{"period_date":{"description":"Дата начала периода (в формате YYYY-MM-DD)","type":"string","format":"date"},"indicator_id":{"description":"Уникальный идентификатор показателя","type":"string","maxLength":21},"indicator_name":{"description":"Название показателя из справочника","type":"string","maxLength":255},"analytics":{"description":"Объект, описывающий аналитику показателя","type":"object","required":["unit","catalog_id","element_id","catalog_name","element_name"],"additionalProperties":false,"properties":{"unit":{"description":"Единица измерения показателя","type":"string","maxLength":255},"catalog_id":{"description":"Уникальный идентификатор справочника аналитики","type":["null","string"],"maxLength":21},"catalog_name":{"description":"Название справочника аналитики","type":["null","string"],"maxLength":100},"element_id":{"description":"Уникальный идентификатор элемента справочника аналитики","type":["null","string"],"maxLength":21},"element_name":{"description":"Название элемента справочника аналитики","type":["null","string"],"maxLength":255}}},"amount":{"description":"Сумма показателя","type":"number"}}}}}}}}}},"/v1/dashboard/metrics/in_focus/total_revenues":{"post":{"description":"Получить график общих доходов","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"income":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-приходным показателям","default":[]}},"required":["date","income","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"actual_revenues_amount":{"type":"number","description":"Фактическая сумма доходов в валюте"}},"required":["date","actual_revenues_amount"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v1/dashboard/metrics/in_focus/total_expenses":{"post":{"description":"Получить график общих расходов","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"expenses":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-расходным показателям","default":[]}},"required":["date","expenses","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"actual_expenses_amount":{"type":"number","description":"Фактическая сумма расходов в валюте"}},"required":["date","actual_expenses_amount"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v1/dashboard/metrics/in_focus/profit":{"post":{"description":"Получить график прибыли","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"income":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-приходным показателям","default":[]},"expenses":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-расходным показателям","default":[]}},"required":["date","income","expenses","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"profit":{"type":"number","description":"Прибыль в валюте"}},"required":["date","profit"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v1/dashboard/metrics/in_focus/progress_average_deviation":{"post":{"description":"Получить график общих расходов","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"average_deviation":{"type":"number","description":"Среднее отклонение в %"}},"required":["date","average_deviation"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v1/dashboard/metrics/in_focus/most_lagging_project":{"post":{"description":"Получить самый отстающий проект","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_data":{"type":["null","object"],"properties":{"title":{"$ref":"#/definitions/def-4/properties/project_title"},"project_id":{"$ref":"#/definitions/def-4/properties/project_id"},"version_id":{"$ref":"#/definitions/def-4/properties/project_version_id"}},"required":["title","project_id","version_id"]},"diff":{"type":["null","number"],"description":"Разность между планом и фактом"}},"required":["project_data","diff"]}},"required":["message","result"]}}}}},"/v1/dashboard/metrics/in_focus/milestones_plan_fact":{"post":{"description":"Получить план/факт по вехам","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"milestones_fact":{"type":"number","description":"Факт по вехам"},"milestones_plan":{"type":"number","description":"План по вехам"},"percent":{"type":"number","description":"Процент достигнутых вех"}},"required":["milestones_plan","milestones_fact","percent"]}},"required":["message","result"]}}}}},"/v1/dashboard/projects_by_quarter":{"post":{"description":"Формирует виджет для поквартального анализа вех","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"description":"Фильтр по идентификаторам проекта"},"selected_date":{"type":"string","format":"date","description":"Дата на которую строится виджет"},"priority":{"type":"array","items":{"type":"string","enum":["low","medium","high"]},"description":"Фильтр по приоритету вех по кварталам"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"quarter":{"type":"string","description":"Дата первого дня квартала"},"completed":{"type":"number","description":"Количество выполненных вех"},"in_time":{"type":"number","description":"Количество вех в сроках"},"problematic":{"type":"number","description":"Количество проблемных вех"},"missing_deadlines":{"type":"number","description":"Количество вех со срывом срока"},"in_plan":{"type":"number","description":"Количество вех в планах"},"error":{"type":"number","description":"Количество вех с ошибками"}},"required":["quarter","completed","in_time","problematic","missing_deadlines","in_plan","error"]}}},"required":["result"]}}}}},"/v1/dashboard/portfolio/milestone":{"post":{"description":"Формирует виджет план-факт по вехам","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_id":{"type":"array","items":{"type":"string"},"description":"Фильтр по идентификаторам проекта"},"milestone_priority":{"type":"array","items":{"type":"string","enum":["low","medium","high"]},"description":"Фильтр по приоритету вех"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","description":"Дата первого дня месяца"},"fact":{"type":"number","description":"Количество фактически завершенных вех"},"plan":{"type":"number","description":"Количество завершенных вех по плану"}},"required":["date","fact","plan"]}}},"required":["result"]}}}}},"/v1/dashboard/s_curves":{"post":{"description":"S кривые","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"Дата на которую строится виджет"},"presentation":{"type":"string","enum":["days","cumulative"],"default":"cumulative","description":"Вариант представления данных"},"project_ids":{"type":"array","items":{"type":"string","minLength":21,"maxLength":21},"description":"Фильтр по идентификаторам проекта"},"report_type":{"type":"string","enum":["progress","indicator"],"description":"Тип построения виджета"},"indicator_id":{"type":"string","minLength":21,"maxLength":21,"description":"Id индикатора"}},"required":["report_type","date","presentation"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"meta":{"type":"object","properties":{"title":{"type":"string","description":"Название"},"unit":{"type":"string","description":"Единица измерения"},"presentation":{"type":"string","enum":["days","cumulative"],"description":"Вариант представления данных"}},"required":["title","unit","presentation"]},"data":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","description":"Дата показателей"},"fact":{"type":"number","description":"Фактическое значение"},"plan":{"type":"number","description":"Плановое завершение"}},"required":["date","fact","plan"]}}},"required":["data","meta"]}},"required":["result"]}}}}},"/v1/dashboard/finance":{"post":{"description":"Получить сравнительную таблицу по финансам","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"result_financial_indicator_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-приходным показателям","default":[]},"resource_financial_indicator_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-расходным показателям","default":[]},"report_type":{"type":"string","enum":["revenue","expense","profit"],"description":"Тип отчета"}},"required":["date","result_financial_indicator_ids","resource_financial_indicator_ids","project_ids","report_type"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"to_date":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/space_id","description":"Дата, на которую посчитался виджет"},"plan":{"type":"number","description":"Значение плана"},"fact":{"type":"number","description":"Значение факта"},"deviation_in_currency":{"type":"number","description":"Отклонение в валюте"},"deviation_in_percent":{"type":"number","description":"Отклонение в процентах"}},"required":["date","plan","fact","deviation_in_currency","deviation_in_percent"]},"to_project_end":{"type":"object","properties":{"plan":{"type":"number","description":"Значение плана"},"forecast":{"type":"number","description":"Значение прогноза"},"deviation_in_currency":{"type":"number","description":"Отклонение в валюте"},"deviation_in_percent":{"type":"number","description":"Отклонение в процентах"}},"required":["plan","forecast","deviation_in_currency","deviation_in_percent"]}},"required":["to_date","to_project_end"]}},"required":["message","result"]}}}}},"/v1/dashboard/projects_table":{"post":{"description":"Получить таблицу со списком проектов","tags":["Дашборд"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"statuses":{"type":"array","items":{"type":"string","enum":["completed","not_started","in_time","problematic","missing_deadlines","error"],"description":"Статус проекта"}}},"required":["date"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id проекта"},"current_version_id":{"type":"string","description":"id рабочей версии проекта"},"code":{"type":["null","string"],"description":"Код проекта"},"title":{"type":["null","string"],"description":"Название проекта"},"status":{"type":"string","enum":["completed","not_started","in_time","problematic","missing_deadlines","error"],"description":"Статус проекта"},"progress_plan_on_date":{"type":["null","number"],"description":"Прогресс на дату, план"},"progress_fact_on_date":{"type":["null","number"],"description":"Прогресс на дату, факт"},"progress_deviation_on_date":{"type":["null","number"],"description":"Прогресс на дату, отклонение"},"progress_vfact_on_date":{"type":["null","number"],"description":"Прогресс на дату, верификация"},"progress_difference_on_date":{"type":["null","number"],"description":"Прогресс на дату, разница"},"finish_date_plan":{"type":["null","string"],"description":"Дата завершения, план"},"finish_date_forecast":{"type":["null","string"],"description":"Дата завершения, прогноз"},"finish_date_deviation":{"type":["null","number"],"description":"Дата завершения, отклонение"},"cost_plan_on_date":{"type":["null","number"],"description":"Стоимость проекта на дату, план"},"cost_fact_on_date":{"type":["null","number"],"description":"Стоимость проекта на дату, факт"},"cost_plan_all":{"type":["null","number"],"description":"Стоимость проекта всего, план"},"cost_forecast_all":{"type":["null","number"],"description":"Стоимость проекта всего, прогноз"},"revenue_plan_on_date":{"type":["null","number"],"description":"Выручка на дату, план"},"revenue_fact_on_date":{"type":["null","number"],"description":"Выручка на дату, факт"},"revenue_plan_all":{"type":["null","number"],"description":"Выручка  всего, план"},"revenue_forecast_all":{"type":["null","number"],"description":"Выручка всего, прогноз"},"last_fact_input_date":{"type":["null","string"],"description":"Дата последнего ввода факта"},"last_verified_fact_input_date":{"type":["null","string"],"description":"Дата последнего ввода верифицированного факта"}},"required":["id","current_version_id","code","title","status","progress_plan_on_date","progress_fact_on_date","progress_deviation_on_date","progress_vfact_on_date","progress_difference_on_date","finish_date_plan","finish_date_forecast","finish_date_deviation","cost_plan_on_date","cost_fact_on_date","cost_plan_all","cost_forecast_all","revenue_plan_on_date","revenue_fact_on_date","revenue_plan_all","revenue_forecast_all","last_fact_input_date","last_verified_fact_input_date"]}}},"required":["message","result"]}}}}},"/v1/dashboard/projects_health":{"post":{"description":"Получить статистику по статусам проектов","tags":["Дашборд"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"completed":{"type":"number","description":"Число завершенных проектов"},"not_started":{"type":"number","description":"Число еще не начатых проектов"},"in_time":{"type":"number","description":"Число проектов в сроках"},"problematic":{"type":"number","description":"Число проблемных проектов"},"missing_deadlines":{"type":"number","description":"Число проектов со срывом сроков"},"error":{"type":"number","description":"Число проектов с ошибками"}},"required":["completed","not_started","in_time","problematic","missing_deadlines","error"]}},"required":["message","result"]}}}}},"/v2/dashboard/metrics/in_focus/total_revenues":{"post":{"description":"Получить график общих доходов","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"income":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-приходным показателям","default":[]}},"required":["date","income","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"actual_revenues_amount":{"type":"number","description":"Фактическая сумма доходов в валюте"}},"required":["date","actual_revenues_amount"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v2/dashboard/metrics/in_focus/total_expenses":{"post":{"description":"Получить график общих расходов","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"expenses":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-расходным показателям","default":[]}},"required":["date","expenses","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"actual_expenses_amount":{"type":"number","description":"Фактическая сумма расходов в валюте"}},"required":["date","actual_expenses_amount"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v2/dashboard/metrics/in_focus/profit":{"post":{"description":"Получить график прибыли","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"income":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-приходным показателям","default":[]},"expenses":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-расходным показателям","default":[]}},"required":["date","income","expenses","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"profit":{"type":"number","description":"Прибыль в валюте"}},"required":["date","profit"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v2/dashboard/metrics/in_focus/progress_average_deviation":{"post":{"description":"Получить график общих расходов","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"base_data":{"type":"object","properties":{"value":{"type":"number","description":"Основное число метрики"},"dynamic":{"type":["null","object"],"properties":{"trend":{"type":"string","enum":["up","down"],"description":"Направление тренда"},"value":{"type":"number","description":"Значение тренда"},"compared_with_date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата от которой считается тренд"}},"required":["trend","value","compared_with_date"]}},"required":["value","dynamic"]},"chart_data":{"type":"array","items":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/date"},"average_deviation":{"type":"number","description":"Среднее отклонение в %"}},"required":["date","average_deviation"]}}},"required":["base_data","chart_data"]}},"required":["message","result"]}}}}},"/v2/dashboard/metrics/in_focus/most_lagging_project":{"post":{"description":"Получить самый отстающий проект","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_data":{"type":["null","object"],"properties":{"title":{"$ref":"#/definitions/def-4/properties/project_title"},"project_id":{"$ref":"#/definitions/def-4/properties/project_id"},"version_id":{"$ref":"#/definitions/def-4/properties/project_version_id"}},"required":["title","project_id","version_id"]},"diff":{"type":["null","number"],"description":"Разность между планом и фактом"}},"required":["project_data","diff"]}},"required":["message","result"]}}}}},"/v2/dashboard/metrics/in_focus/milestones_plan_fact":{"post":{"description":"Получить план/факт по вехам","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date","project_ids"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"milestones_fact":{"type":"number","description":"Факт по вехам"},"milestones_plan":{"type":"number","description":"План по вехам"},"percent":{"type":"number","description":"Процент достигнутых вех"}},"required":["milestones_plan","milestones_fact","percent"]}},"required":["message","result"]}}}}},"/v2/dashboard/projects_by_quarter":{"post":{"description":"Формирует виджет для поквартального анализа вех","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"description":"Фильтр по идентификаторам проекта"},"selected_date":{"type":"string","format":"date","description":"Дата на которую строится виджет"},"priority":{"type":"array","items":{"type":"string","enum":["low","medium","high"]},"description":"Фильтр по приоритету вех по кварталам"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"quarter":{"type":"string","description":"Дата первого дня квартала"},"completed":{"type":"number","description":"Количество выполненных вех"},"in_time":{"type":"number","description":"Количество вех в сроках"},"problematic":{"type":"number","description":"Количество проблемных вех"},"missing_deadlines":{"type":"number","description":"Количество вех со срывом срока"},"in_plan":{"type":"number","description":"Количество вех в планах"},"error":{"type":"number","description":"Количество вех с ошибками"}},"required":["quarter","completed","in_time","problematic","missing_deadlines","in_plan","error"]}}},"required":["result"]}}}}},"/v2/dashboard/portfolio/milestone":{"post":{"description":"Формирует виджет план-факт по вехам","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_id":{"type":"array","items":{"type":"string"},"description":"Фильтр по идентификаторам проекта"},"milestone_priority":{"type":"array","items":{"type":"string","enum":["low","medium","high"]},"description":"Фильтр по приоритету вех"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","description":"Дата первого дня месяца"},"fact":{"type":"number","description":"Количество фактически завершенных вех"},"plan":{"type":"number","description":"Количество завершенных вех по плану"}},"required":["date","fact","plan"]}}},"required":["result"]}}}}},"/v2/dashboard/s_curves":{"post":{"description":"S кривые","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"Дата на которую строится виджет"},"presentation":{"type":"string","enum":["days","cumulative"],"default":"cumulative","description":"Вариант представления данных"},"project_ids":{"type":"array","items":{"type":"string","minLength":21,"maxLength":21},"description":"Фильтр по идентификаторам проекта"},"report_type":{"type":"string","enum":["progress","indicator"],"description":"Тип построения виджета"},"indicator_id":{"type":"string","minLength":21,"maxLength":21,"description":"Id индикатора"}},"required":["report_type","date","presentation"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"meta":{"type":"object","properties":{"title":{"type":"string","description":"Название"},"unit":{"type":"string","description":"Единица измерения"},"presentation":{"type":"string","enum":["days","cumulative"],"description":"Вариант представления данных"}},"required":["title","unit","presentation"]},"data":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","description":"Дата показателей"},"fact":{"type":"number","description":"Фактическое значение"},"plan":{"type":"number","description":"Плановое завершение"}},"required":["date","fact","plan"]}}},"required":["data","meta"]}},"required":["result"]}}}}},"/v2/dashboard/projects_table":{"post":{"description":"Получить таблицу со списком проектов","tags":["Дашборд"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"statuses":{"type":"array","items":{"type":"string","enum":["completed","not_started","in_time","problematic","missing_deadlines","error"],"description":"Статус проекта"}}},"required":["date"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id проекта"},"current_version_id":{"type":"string","description":"id рабочей версии проекта"},"code":{"type":["null","string"],"description":"Код проекта"},"title":{"type":["null","string"],"description":"Название проекта"},"status":{"type":"string","enum":["completed","not_started","in_time","problematic","missing_deadlines","error"],"description":"Статус проекта"},"progress_plan_on_date":{"type":["null","number"],"description":"Прогресс на дату, план"},"progress_fact_on_date":{"type":["null","number"],"description":"Прогресс на дату, факт"},"progress_deviation_on_date":{"type":["null","number"],"description":"Прогресс на дату, отклонение"},"progress_vfact_on_date":{"type":["null","number"],"description":"Прогресс на дату, верификация"},"progress_difference_on_date":{"type":["null","number"],"description":"Прогресс на дату, разница"},"finish_date_plan":{"type":["null","string"],"description":"Дата завершения, план"},"finish_date_forecast":{"type":["null","string"],"description":"Дата завершения, прогноз"},"finish_date_deviation":{"type":["null","number"],"description":"Дата завершения, отклонение"},"cost_plan_on_date":{"type":["null","number"],"description":"Стоимость проекта на дату, план"},"cost_fact_on_date":{"type":["null","number"],"description":"Стоимость проекта на дату, факт"},"cost_plan_all":{"type":["null","number"],"description":"Стоимость проекта всего, план"},"cost_forecast_all":{"type":["null","number"],"description":"Стоимость проекта всего, прогноз"},"revenue_plan_on_date":{"type":["null","number"],"description":"Выручка на дату, план"},"revenue_fact_on_date":{"type":["null","number"],"description":"Выручка на дату, факт"},"revenue_plan_all":{"type":["null","number"],"description":"Выручка  всего, план"},"revenue_forecast_all":{"type":["null","number"],"description":"Выручка всего, прогноз"},"last_fact_input_date":{"type":["null","string"],"description":"Дата последнего ввода факта"},"last_verified_fact_input_date":{"type":["null","string"],"description":"Дата последнего ввода верифицированного факта"}},"required":["id","current_version_id","code","title","status","progress_plan_on_date","progress_fact_on_date","progress_deviation_on_date","progress_vfact_on_date","progress_difference_on_date","finish_date_plan","finish_date_forecast","finish_date_deviation","cost_plan_on_date","cost_fact_on_date","cost_plan_all","cost_forecast_all","revenue_plan_on_date","revenue_fact_on_date","revenue_plan_all","revenue_forecast_all","last_fact_input_date","last_verified_fact_input_date"]}}},"required":["message","result"]}}}}},"/v2/dashboard/finance":{"post":{"description":"Получить сравнительную таблицу по финансам","tags":["Виджеты дешборда"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"},"result_financial_indicator_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-приходным показателям","default":[]},"resource_financial_indicator_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/indicator_id"},"description":"Фильтр по финансовым-расходным показателям","default":[]},"report_type":{"type":"string","enum":["revenue","expense","profit"],"description":"Тип отчета"}},"required":["date","result_financial_indicator_ids","resource_financial_indicator_ids","project_ids","report_type"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"to_date":{"type":"object","properties":{"date":{"$ref":"#/definitions/def-4/properties/space_id","description":"Дата, на которую посчитался виджет"},"plan":{"type":"number","description":"Значение плана"},"fact":{"type":"number","description":"Значение факта"},"deviation_in_currency":{"type":"number","description":"Отклонение в валюте"},"deviation_in_percent":{"type":"number","description":"Отклонение в процентах"}},"required":["date","plan","fact","deviation_in_currency","deviation_in_percent"]},"to_project_end":{"type":"object","properties":{"plan":{"type":"number","description":"Значение плана"},"forecast":{"type":"number","description":"Значение прогноза"},"deviation_in_currency":{"type":"number","description":"Отклонение в валюте"},"deviation_in_percent":{"type":"number","description":"Отклонение в процентах"}},"required":["plan","forecast","deviation_in_currency","deviation_in_percent"]}},"required":["to_date","to_project_end"]}},"required":["message","result"]}}}}},"/v2/dashboard/projects_health":{"post":{"description":"Получить статистику по статусам проектов","tags":["Дашборд"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"date":{"$ref":"#/definitions/def-4/properties/date","description":"Дата на которую строится график"}},"required":["date"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"completed":{"type":"number","description":"Число завершенных проектов"},"not_started":{"type":"number","description":"Число еще не начатых проектов"},"in_time":{"type":"number","description":"Число проектов в сроках"},"problematic":{"type":"number","description":"Число проблемных проектов"},"missing_deadlines":{"type":"number","description":"Число проектов со срывом сроков"},"error":{"type":"number","description":"Число проектов с ошибками"}},"required":["completed","not_started","in_time","problematic","missing_deadlines","error"]}},"required":["message","result"]}}}}},"/v1/notice/owner/{id}":{"get":{"description":"Получение списка уведомлений по id обладателя","tags":["Система уведомлений"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","default":[],"items":{"id":{"type":"string","maxLength":21,"minLength":21},"event_id":{"type":"string","maxLength":21,"minLength":21},"source_group":{"type":"string"},"level":{"type":"string"},"notice":{"type":"object","properties":{"meta":{"type":"object","properties":{"code":{"type":"string"},"add_time":{"type":"date"},"title":{"type":"string"}}},"title":{"type":"string"},"message":{"type":"string"},"actions":{"type":"array","items":{"action_type":{"type":"string"},"context":{"item_id":{"type":"string","maxLength":21,"minLength":21},"catalog_id":{"type":"string","maxLength":21,"minLength":21},"element_id":{"type":"string","maxLength":21,"minLength":21}}}}}}}}}}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удалить все уведомления по id обладателя","tags":["Система уведомлений"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/version/{project_version_id}/forecast":{"post":{"description":"Построение прогнозного графика","tags":["Прогнозирование"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"forecast_date":{"description":"Дата прогноза","type":"string","format":"date"}},"additionalProperties":false,"required":["forecast_date"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"work_id":{"type":"string","description":"ID работы","minLength":21,"maxLength":21}},"required":["work_id"]}},"required":["message","result"]}}}}},"/v1/plugin/fact-input/project/{project_id}":{"get":{"description":"Плагин: ввод факта (план-факт за период по показателю)","tags":["Плагин"],"parameters":[{"description":"ID показателя","type":"string","required":true,"in":"query","name":"indicator_id"},{"description":"Дата c (в формате YYYY-MM-DD)","type":"string","required":true,"in":"query","name":"date_from"},{"description":"Дата по (в формате YYYY-MM-DD)","type":"string","required":true,"in":"query","name":"date_to"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"type":"object","required":["meta","data"],"additionalProperties":false,"properties":{"meta":{"description":"Meta информация","type":"object","required":["date_from","date_to","indicator_title","item_title","project_title"],"additionalProperties":false,"properties":{"date_from":{"description":"Дата c (в формате YYYY-MM-DD)","type":"string"},"date_to":{"description":"Дата по (в формате YYYY-MM-DD)","type":"string"},"indicator_title":{"description":"Показатель или аналитика","type":"string"},"item_title":{"description":"Элемент проекта","type":"string"},"project_title":{"description":"Проект","type":"string"}}},"data":{"type":"array","items":{"type":"object","required":["date"],"additionalProperties":false,"properties":{"date":{"description":"Дата (в формате YYYY-MM-DD)","type":"string"},"plan":{"description":"Значение плана","type":["null","number"]},"fact":{"description":"Значение факта","type":["null","number"]}}}}}}}}}}},"post":{"description":"Плагин: ввод факта","tags":["Плагин"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["indicator_id","data"],"additionalProperties":false,"properties":{"indicator_id":{"description":"ID значение показателя","type":"string"},"data":{"type":"array","items":{"type":"object","required":["date"],"additionalProperties":false,"properties":{"date":{"description":"Дата (в формате YYYY-MM-DD)","type":"string"},"plan":{"description":"Значение плана","type":["null","number"]},"fact":{"description":"Значение факта","type":["null","number"]}}}}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"}}}}}}},"/v1/plugin/fact-verified/project/{project_id}":{"get":{"description":"Плагин: верификация факта","tags":["Плагин"],"parameters":[{"description":"Выбранные ID состава показателя (composition_id)","type":"array","items":{"type":"string"},"required":false,"in":"query","name":"indicator_ids"},{"description":"Дата c (в формате YYYY-MM-DD)","type":"string","required":true,"in":"query","name":"date_from"},{"description":"Дата по (в формате YYYY-MM-DD)","type":"string","required":true,"in":"query","name":"date_to"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message","result"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"},"result":{"type":"object","required":["meta","data"],"additionalProperties":false,"properties":{"meta":{"type":"object","required":["project_title","date_from","date_to"],"additionalProperties":false,"properties":{"project_title":{"type":"string"},"indicators_title":{"type":"array","items":{"type":"string"}},"date_from":{"description":"Дата c (в формате YYYY-MM-DD)","type":"string"},"date_to":{"description":"Дата по (в формате YYYY-MM-DD)","type":"string"}}},"data":{"type":"array","items":{"type":"object","required":["id","date","user","fact_date","item_title","indicator_title","value","verified"],"additionalProperties":false,"properties":{"id":{"description":"ID записи факта","type":"string"},"date":{"description":"Дата внесения факта","type":"string"},"user":{"description":"Имя пользователя внесшего факт","type":"string"},"fact_date":{"description":"Дата, за которую внесен факт","type":"string"},"item_title":{"description":"Код + наименование строки","type":"string"},"indicator_title":{"description":"Наименование показателя","type":"string"},"analytic_title":{"description":"Наименование аналитики","type":"string"},"unit":{"description":"Единица измерения","type":"string"},"value":{"description":"Объем","type":"number"},"verified":{"description":"Признак верификации","type":"boolean"},"comment":{"description":"Комментарий","type":"string"}}}}}}}}}}},"post":{"description":"Плагин: верификация факта","tags":["Плагин"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["data"],"additionalProperties":false,"properties":{"data":{"type":"array","items":{"type":"object","required":["id","value","verified"],"additionalProperties":false,"properties":{"id":{"description":"ID записи факта","type":"string"},"value":{"description":"Значение факта","type":"number"},"verified":{"description":"Признак верификации факта","type":"boolean"},"comment":{"description":"Комментарий","type":"string","maxLength":255}}}}}}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"}}}}}}},"/v1/plugin/fact-checkerboard/project/{project_id}":{"post":{"description":"Плагин: ввод факта (шахматка)","tags":["Плагин"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["date","items"],"additionalProperties":false,"properties":{"date":{"description":"Дата (в формате YYYY-MM-DD)","type":"string"},"items":{"description":"Массив элементов проекта","type":"array","items":{"type":"object","required":["item_id","values"],"additionalProperties":false,"properties":{"item_id":{"description":"ID элемента проекта","type":"string"},"values":{"type":"array","items":{"description":"Значение факта","type":["number","string","null"]}}}}}}}},{"description":"ID проекта","type":"string","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","required":["message"],"additionalProperties":false,"properties":{"message":{"description":"Сообщение","type":"string"}}}}}}},"/v1/project-import":{"post":{"description":"Загрузить проект из microsoft project (.mpp) или primavera (.xer)","tags":["Импорт проектов из сторонних систем"],"consumes":["multipart/form-data"],"parameters":[{"type":"string","minLength":3,"maxLength":100,"required":true,"in":"query","name":"title"},{"type":"string","description":"ID календаря","minLength":21,"maxLength":21,"required":true,"in":"query","name":"calendar_id"},{"type":"integer","minimum":1,"maximum":12,"description":"Число рабочих месяцев в году","required":true,"in":"query","name":"months_per_year"},{"type":"integer","minimum":1,"maximum":24,"description":"Число часов в рабочем дне","required":true,"in":"query","name":"hours_per_day"},{"type":"integer","minimum":1,"maximum":7,"description":"Число рабочих дней в неделе","required":true,"in":"query","name":"days_per_week"},{"type":"integer","minimum":1,"maximum":31,"description":"Число рабочих дней в месяце","required":true,"in":"query","name":"days_per_month"},{"type":"string","format":"binary","required":false,"in":"formData","name":"file"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"project_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта"},"project_version_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта"}},"required":["project_id","project_version_id"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v2/project-import":{"post":{"description":"Загрузить проект из microsoft project (.mpp) или primavera (.xer)","tags":["Импорт проектов из сторонних систем"],"consumes":["multipart/form-data"],"parameters":[{"type":"string","minLength":3,"maxLength":100,"required":true,"in":"query","name":"title"},{"type":"string","description":"ID календаря","minLength":21,"maxLength":21,"required":true,"in":"query","name":"calendar_id"},{"type":"integer","minimum":1,"maximum":12,"description":"Число рабочих месяцев в году","required":true,"in":"query","name":"months_per_year"},{"type":"integer","minimum":1,"maximum":24,"description":"Число часов в рабочем дне","required":true,"in":"query","name":"hours_per_day"},{"type":"integer","minimum":1,"maximum":7,"description":"Число рабочих дней в неделе","required":true,"in":"query","name":"days_per_week"},{"type":"integer","minimum":1,"maximum":31,"description":"Число рабочих дней в месяце","required":true,"in":"query","name":"days_per_month"},{"type":"string","format":"binary","required":false,"in":"formData","name":"file"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"project_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта"},"project_version_id":{"type":"string","maxLength":21,"minLength":21,"description":"ID версии проекта"}},"required":["project_id","project_version_id"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/application":{"post":{"summary":"Добавить новое приложение в магазин приложений","description":"Добавить новое приложение в магазин приложений","tags":["application (Сервис магазина приложений)"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-5/properties/id","description":"Опционально можно указать id приложения (полезно для системных приложений)"},"title":{"$ref":"#/definitions/def-5/properties/title"},"description":{"$ref":"#/definitions/def-5/properties/description"},"detailed_description":{"$ref":"#/definitions/def-5/properties/detailed_description"},"cover":{"$ref":"#/definitions/def-5/properties/cover"},"service_token":{"$ref":"#/definitions/def-5/properties/service_token"},"service_hook_url":{"$ref":"#/definitions/def-5/properties/service_hook_url"},"permissions":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/permission"},"uniqueItems":true,"description":"Список разрешений приложения"},"events":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/event"},"uniqueItems":true,"description":"Список событий приложения"},"event_listener_url":{"$ref":"#/definitions/def-5/properties/event_listener_url"},"type":{"$ref":"#/definitions/def-5/properties/type"},"categories":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/category"},"uniqueItems":true,"description":"Категории приложения"},"screenshots":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id изображения","minLength":21,"maxLength":21},"url":{"type":"string","format":"uri","description":"url изображения"}},"additionalProperties":false,"required":["id","url"]},"uniqueItems":true,"description":"Список скриншотов"},"settings":{"type":["object","null"],"properties":{"url":{"type":"string","format":"uri","description":"url до фрейма с настройками"}},"required":["url"],"description":"Настройки приложения"},"extension_points":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","enum":["main_menu","project_tab","entity_editor_tab"],"description":"Тип поля"},"title":{"type":"string","description":"Название вкладки","minLength":1,"maxLength":30},"url":{"type":"string","format":"uri","description":"Ссылка на виджет"},"data_types":{"type":"array","items":{"type":"string","enum":["user_id","project_id","project_version_id","entity_id","original_id"]},"description":"Какие поля должны быть переданы в виджет"},"role":{"type":"array","items":{"type":"string","enum":["supervisor","executor","scheduler","administrator","goals_manager"]},"description":"Роли под которыми отображать точку расширения"}},"required":["type","title","url","data_types","role"]},"description":"Массив точек расширения"},"integrated_settings":{"type":["object","null"],"properties":{"integrated_credentials_url":{"type":"string","format":"uri","description":"URL для получения интегрированных учетных данных"},"individual_credentials":{"type":"boolean","description":"Флаг, указывающий, что приложение является персональным"}},"required":["integrated_credentials_url","individual_credentials"],"additionalProperties":false}},"additionalProperties":false,"required":["title","description","service_token","service_hook_url","permissions","events","detailed_description","categories","type","cover","event_listener_url","screenshots","settings","extension_points"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-5/properties/id"}},"additionalProperties":false,"required":["id"]}},"required":["result"]}}}}},"/v1/application/{id}":{"patch":{"summary":"Обновить приложение в магазине приложений","description":"Обновить приложение в магазине приложений","tags":["application (Сервис магазина приложений)"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-5/properties/title"},"description":{"$ref":"#/definitions/def-5/properties/description"},"detailed_description":{"$ref":"#/definitions/def-5/properties/detailed_description"},"cover":{"$ref":"#/definitions/def-5/properties/cover"},"service_token":{"$ref":"#/definitions/def-5/properties/service_token"},"service_hook_url":{"$ref":"#/definitions/def-5/properties/service_hook_url"},"permissions":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/permission"},"uniqueItems":true,"description":"Список разрешений приложения"},"events":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/event"},"uniqueItems":true,"description":"Список событий приложения"},"event_listener_url":{"$ref":"#/definitions/def-5/properties/event_listener_url"},"type":{"$ref":"#/definitions/def-5/properties/type"},"categories":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/category"},"uniqueItems":true,"description":"Категории приложения"},"screenshots":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id изображения","minLength":21,"maxLength":21},"url":{"type":"string","format":"uri","description":"url изображения"}},"additionalProperties":false,"required":["id","url"]},"uniqueItems":true,"description":"Список скриншотов"},"settings":{"type":["object","null"],"properties":{"url":{"type":"string","format":"uri","description":"url до фрейма с настройками"}},"required":["url"],"description":"Настройки приложения"},"extension_points":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Уникальный id точки расширения"},"type":{"type":"string","enum":["main_menu","project_tab","entity_editor_tab"],"description":"Тип поля"},"title":{"type":"string","description":"Название вкладки","minLength":1,"maxLength":30},"url":{"type":"string","format":"uri","description":"Ссылка на виджет"},"data_types":{"type":"array","items":{"type":"string","enum":["user_id","project_id","project_version_id","entity_id","original_id"]},"description":"Какие поля должны быть переданы в виджет"},"role":{"type":"array","items":{"type":"string","enum":["supervisor","executor","scheduler","administrator","goals_manager"]},"description":"Роли под которыми отображать точку расширения"}},"required":["type","title","url","data_types","role"]},"description":"Массив точек расширения"},"cause":{"type":"string","enum":["fix","feat","new"],"description":"Причина изменений в приложении"},"integrated_settings":{"type":["object","null"],"properties":{"integrated_credentials_url":{"type":"string","format":"uri","description":"URL для получения интегрированных учетных данных"},"individual_credentials":{"type":"boolean","description":"Флаг, указывающий, что приложение является персональным"}},"required":["integrated_credentials_url","individual_credentials"],"additionalProperties":false}},"additionalProperties":false,"required":["cause"]}},{"type":"string","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"version":{"$ref":"#/definitions/def-5/properties/version"}},"additionalProperties":false,"required":["version"]}},"required":["result"]}}}},"delete":{"summary":"Удалить приложение из магазина приложений","description":"Удалить приложение из магазина приложений","tags":["application (Сервис магазина приложений)"],"parameters":[{"$ref":"#/definitions/def-5/properties/id","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"status":{"type":"string","description":"Статус выполнения"}},"additionalProperties":false,"required":["status"]}},"required":["result"]}}}},"get":{"summary":"Получить приложение","description":"Получить приложение","tags":["application (Сервис магазина приложений)"],"parameters":[{"type":"boolean","description":"Вернуть установленный вариант приложения","default":false,"required":true,"in":"query","name":"return_installed"},{"$ref":"#/definitions/def-5/properties/id","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"$ref":"#/definitions/def-5/properties/application_extended"}},"required":["result"]}}}}},"/v1/application/list":{"get":{"summary":"Получить список приложений","description":"Получить список приложений","tags":["application (Сервис магазина приложений)"],"parameters":[{"$ref":"#/definitions/def-5/properties/return_installed","default":false,"required":true,"in":"query","name":"return_installed"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"applications":{"type":"array","items":{"$ref":"#/definitions/def-5/properties/application"}}},"additionalProperties":false,"required":["applications"]}},"required":["result"]}}}}},"/v1/application/space/install/{id}":{"post":{"summary":"Установить приложение из магазина приложений","description":"Установить приложение из магазина приложений","tags":["application (Сервис магазина приложений)"],"parameters":[{"$ref":"#/definitions/def-5/properties/id","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"application_id":{"$ref":"#/definitions/def-5/properties/id"},"installed_application_id":{"$ref":"#/definitions/def-5/properties/installed_id"}},"additionalProperties":false,"required":["application_id","installed_application_id"]}},"required":["result"]}}}}},"/v1/application/space/uninstall/{id}":{"delete":{"summary":"Удалить установленное приложение","description":"Удалить установленное приложение","tags":["application (Сервис магазина приложений)"],"parameters":[{"$ref":"#/definitions/def-5/properties/id","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"status":{"type":"string","description":"Статус выполнения"}},"additionalProperties":false,"required":["status"]}},"required":["result"]}}}}},"/v1/application/event/list":{"get":{"summary":"Получить список доступных для подписки бизнес событий","description":"Получить список доступных для подписки бизнес событий","tags":["application (Сервис магазина приложений)"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"object","properties":{"events":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Идентификатор события"},"title":{"type":"string","description":"Название события"},"description":{"type":"string","description":"Описание события"},"schema":{"type":"string","description":"Схема события"}},"additionalProperties":false,"required":["id","title","description"]}}},"additionalProperties":false,"required":["events"]}},"required":["result"]}}}}},"/v1/application/type/list":{"get":{"summary":"Получить список приложений","description":"Получить список приложений","tags":["application (Сервис магазина приложений)"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id типа"},"title":{"type":"string","description":"Локализованное название типа"}},"required":["id","title"]}}},"required":["result"]}}}}},"/v1/application/category/list":{"get":{"summary":"Получить список всех категорий приложений","description":"Получить список всех категорий приложений","tags":["application (Сервис магазина приложений)"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id типа"},"title":{"type":"string","description":"Локализованное название категории"}},"required":["id","title"]}}},"required":["result"]}}}}},"/v1/table/template/list":{"get":{"description":"Получения списка шаблонов по пространству","tags":["Шаблоны таблиц"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID шаблона"},"title":{"type":"string","description":"Наименование"}},"required":["id","title"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/table/template/{id}":{"get":{"description":"Получения шаблона по ID","tags":["Шаблоны таблиц"],"parameters":[{"type":"string","description":"ID шаблона","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID шаблона"},"title":{"type":"string","description":"Наименование"},"plugin":{"description":"Плагин объект"},"template":{"description":"Шаблон объект"}},"required":["id","title","plugin","template"],"additionalProperties":false}}}}}}},"/v1/table/saved-template":{"post":{"description":"Создать сохраненный шаблон","tags":["Шаблоны таблиц"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["template_id","title","parameters","template"],"additionalProperties":false,"properties":{"template_id":{"type":"string","description":"ID шаблона"},"title":{"type":"string","description":"Наименование"},"parameters":{"description":"Параметры объект"},"template":{"description":"Шаблон объект"},"data":{"description":"Данные объект"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID сохраненного шаблона"}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/table/saved-template/{id}":{"patch":{"description":"Обновить сохраненный шаблон","tags":["Шаблоны таблиц"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование"},"parameters":{"description":"Параметры объект"},"template":{"description":"Шаблон объект"},"data":{"description":"Данные объект"}}}},{"type":"string","description":"ID сохраненного шаблона","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удалить сохраненный шаблон","tags":["Шаблоны таблиц"],"parameters":[{"type":"string","description":"ID сохраненного шаблона","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получить сохраненный шаблон","tags":["Шаблоны таблиц"],"parameters":[{"type":"string","description":"ID сохраненного шаблона","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","add_time","update_time","template_id","title","parameters","template"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID сохраненного шаблона"},"add_time":{"description":"Время создания","type":"string","format":"date-time"},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"template_id":{"type":"string","description":"ID шаблона"},"title":{"type":"string","description":"Наименование"},"parameters":{"description":"Параметры объект"},"template":{"description":"Шаблон объект"},"data":{"description":"Данные объект"}}}},"required":["message","result"]}}}}},"/v1/table/saved-template/list":{"get":{"description":"Список сохраненных шаблонов","tags":["Шаблоны таблиц"],"parameters":[{"type":"string","description":"ID шаблона","required":true,"in":"query","name":"template_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","add_time","update_time","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID сохраненного шаблона"},"add_time":{"description":"Время создания","type":"string","format":"date-time"},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"title":{"type":"string","description":"Наименование"}}}}},"required":["result"]}}}}},"/v1/table/saved-template/{id}/blocked":{"get":{"description":"Получение статуса блокировки таблицы","tags":["Шаблоны таблиц"],"parameters":[{"type":"string","description":"ID сохраненного шаблона","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"blocked":{"type":"boolean","description":"Статус блокировки таблицы"}},"required":["blocked"]}},"required":["message","result"]}}}}},"/v1/table/saved-template/{id}/unlock":{"patch":{"description":"Разблокировка таблицы","tags":["Шаблоны таблиц"],"parameters":[{"type":"string","description":"ID сохраненного шаблона","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/file/image":{"post":{"description":"Загрузить файл (изображение)","tags":["Эндпоинты управления файлами"],"consumes":["multipart/form-data"],"parameters":[{"$ref":"#/definitions/def-3/properties/entity_type","required":false,"in":"query","name":"entity_type"},{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21,"required":false,"in":"query","name":"entity_id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID факта","required":false,"in":"query","name":"fact_id"},{"type":["string","null"],"description":"Комментарий","maxLength":255,"required":false,"in":"query","name":"comment"},{"type":"string","format":"binary","required":false,"in":"formData","name":"file"},{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"url":{"type":"string","description":"url изображения"}},"required":["id","url"]}},"required":["message","result"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/file/image/{id}":{"get":{"description":"Получить файл (изображение)","tags":["Эндпоинты управления файлами"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"Primary key","required":true,"in":"path","name":"id"},{"$ref":"#/definitions/def-3/properties/project_id","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"context":{"type":"object","properties":{"project_id":{"$ref":"#/definitions/def-3/properties/project_id"},"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21},"item":{"type":"object","required":["id","original_id","type","code","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"ID первоначального элемента","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"]},"title":{"description":"Наименование элемента проекта","type":"string"}}}},"required":["type","id","item"]},"fact_id":{"$ref":"#/definitions/def-3/properties/fact_id"},"bound_to":{"$ref":"#/definitions/def-3/properties/bound_to"},"file_type":{"$ref":"#/definitions/def-3/properties/context_file_type"},"fact":{"type":"object","required":["id","value","date","indicator","unit","comment","blocked"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Уникальный идентификатор факта"},"value":{"type":"number","description":"Значение факта"},"date":{"type":"string","description":"Дата факта"},"unit":{"type":["null","string"],"description":"Единица измерения"},"indicator":{"type":"object","required":["indicator_id","composition_id","title"],"additionalProperties":false,"description":"Информация об индикаторе","properties":{"indicator_id":{"type":"string","description":"Идентификатор индикатора"},"composition_id":{"type":"string","description":"Идентификатор композиции индикатора"},"title":{"type":"string","description":"Название индикатора"}}},"analytics":{"type":"object","required":["id","title"],"additionalProperties":false,"description":"Информация об аналитике","properties":{"id":{"type":"string","description":"Идентификатор аналитики"},"title":{"type":["null","string"],"description":"Название аналитики"}}},"comment":{"type":["null","string"],"description":"Комментарий к факту"},"blocked":{"type":"boolean","description":"Заблокирован ли факт"}}}},"required":["project_id"]},"comment":{"type":["null","string"],"description":"Комментарий"},"url":{"type":"string","description":"Ссылка на файл"},"urls":{"type":"object","properties":{"big":{"type":"string","description":"Ссылка на оригинал (без сжатия)"},"medium":{"type":"string","description":"Ссылка на средний размер (сжатие в 2 раза)"},"small":{"type":"string","description":"Ссылка на маленький размер (сжатие в 4 раза)"}},"description":"Ссылки на файлы"},"user":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]}},"required":["id","add_time","title","extension","size_bytes","context","comment","url","user","urls"]}},"required":["data"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/file/image/list":{"post":{"description":"Получить список файлов (изображений)","tags":["Эндпоинты управления файлами"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"filter":{"type":"object","properties":{"date_from":{"$ref":"#/definitions/def-3/properties/date_from"},"date_to":{"$ref":"#/definitions/def-3/properties/date_to"},"extensions":{"type":"array","items":{"$ref":"#/definitions/def-3/properties/extension"}},"context":{"$ref":"#/definitions/def-3/properties/context"}},"required":[],"additionalProperties":false},"withAggregations":{"type":"boolean","description":"Нужны ли аггрегации по списку (фильтры учитываются)"}},"required":["withAggregations"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"context":{"$ref":"#/definitions/def-3/properties/context"},"comment":{"type":["null","string"],"description":"Комментарий"},"url":{"type":"string","description":"Ссылка на файл"},"user":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]},"urls":{"type":"object","properties":{"big":{"type":"string","description":"Ссылка на оригинал (без сжатия)"},"medium":{"type":"string","description":"Ссылка на средний размер (сжатие в 2 раза)"},"small":{"type":"string","description":"Ссылка на маленький размер (сжатие в 4 раза)"}},"description":"Ссылки на файлы"}},"required":["id","add_time","title","extension","size_bytes","context","comment","url","user","urls"]}},"aggregations":{"type":"object","properties":{"lastImage":{"type":["null","object"],"properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"context":{"$ref":"#/definitions/def-3/properties/context"},"comment":{"type":["null","string"],"description":"Комментарий"},"url":{"type":"string","description":"Ссылка на файл"},"user":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]},"urls":{"type":"object","properties":{"big":{"type":"string","description":"Ссылка на оригинал (без сжатия)"},"medium":{"type":"string","description":"Ссылка на средний размер (сжатие в 2 раза)"},"small":{"type":"string","description":"Ссылка на маленький размер (сжатие в 4 раза)"}},"description":"Ссылки на файлы"}},"required":["id","add_time","title","extension","size_bytes","context","comment","url","user","urls"]},"count":{"type":"number","description":"Количество изображений"},"authors":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]},"description":"Уникальные авторы изображений"}},"required":["lastImage","count","authors"]}},"required":["data"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/file/image/resize-old":{"post":{"description":"Изменить размер старых изображений (прошлые загрузки)","tags":["Эндпоинты управления файлами"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/file/document":{"post":{"description":"Загрузить файл (документ)","tags":["Эндпоинты управления файлами"],"consumes":["multipart/form-data"],"parameters":[{"$ref":"#/definitions/def-3/properties/entity_type","required":false,"in":"query","name":"entity_type"},{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21,"required":false,"in":"query","name":"entity_id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID факта","required":false,"in":"query","name":"fact_id"},{"type":["string","null"],"description":"Комментарий","maxLength":255,"required":false,"in":"query","name":"comment"},{"type":"string","format":"binary","required":false,"in":"formData","name":"file"},{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"url":{"type":"string","description":"url файла"}},"required":["id","url"]}},"required":["message","result"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/file/document/{id}":{"get":{"description":"Получить файл (документ)","tags":["Эндпоинты управления файлами"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"},{"type":"string","maxLength":21,"minLength":21,"description":"Primary key","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"context":{"type":"object","properties":{"project_id":{"$ref":"#/definitions/def-3/properties/project_id"},"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21},"item":{"type":"object","required":["id","original_id","type","code","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"ID первоначального элемента","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"]},"title":{"description":"Наименование элемента проекта","type":"string"}}}},"required":["type","id","item"]},"fact_id":{"$ref":"#/definitions/def-3/properties/fact_id"},"bound_to":{"$ref":"#/definitions/def-3/properties/bound_to"},"file_type":{"$ref":"#/definitions/def-3/properties/context_file_type"},"fact":{"type":"object","required":["id","value","date","indicator","unit","comment","blocked"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Уникальный идентификатор факта"},"value":{"type":"number","description":"Значение факта"},"date":{"type":"string","description":"Дата факта"},"unit":{"type":["null","string"],"description":"Единица измерения"},"indicator":{"type":"object","required":["indicator_id","composition_id","title"],"additionalProperties":false,"description":"Информация об индикаторе","properties":{"indicator_id":{"type":"string","description":"Идентификатор индикатора"},"composition_id":{"type":"string","description":"Идентификатор композиции индикатора"},"title":{"type":"string","description":"Название индикатора"}}},"analytics":{"type":"object","required":["id","title"],"additionalProperties":false,"description":"Информация об аналитике","properties":{"id":{"type":"string","description":"Идентификатор аналитики"},"title":{"type":["null","string"],"description":"Название аналитики"}}},"comment":{"type":["null","string"],"description":"Комментарий к факту"},"blocked":{"type":"boolean","description":"Заблокирован ли факт"}}}},"required":["project_id"]},"comment":{"type":["null","string"],"description":"Комментарий"},"url":{"type":"string","description":"Ссылка на файл"},"urls":{"type":"object","properties":{"big":{"type":"string","description":"Ссылка на оригинал (без сжатия)"},"medium":{"type":"string","description":"Ссылка на средний размер (сжатие в 2 раза)"},"small":{"type":"string","description":"Ссылка на маленький размер (сжатие в 4 раза)"}},"description":"Ссылки на файлы"},"user":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]}},"required":["id","add_time","title","extension","size_bytes","context","comment","url","user"]}},"required":["data"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/file/document/list":{"post":{"description":"Получить список файлов (документов)","tags":["Эндпоинты управления файлами"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"filter":{"type":"object","properties":{"date_from":{"$ref":"#/definitions/def-3/properties/date_from"},"date_to":{"$ref":"#/definitions/def-3/properties/date_to"},"context":{"type":"object","properties":{"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21}},"required":["type","id"]}},"required":[]}},"required":["context"],"additionalProperties":false}},"required":["filter"]}},{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"context":{"type":"object","properties":{"project_id":{"$ref":"#/definitions/def-3/properties/project_id"},"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21},"item":{"type":"object","required":["id","original_id","type","code","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"ID первоначального элемента","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"]},"title":{"description":"Наименование элемента проекта","type":"string"}}}},"required":["type","id","item"]},"fact_id":{"$ref":"#/definitions/def-3/properties/fact_id"},"bound_to":{"$ref":"#/definitions/def-3/properties/bound_to"},"file_type":{"$ref":"#/definitions/def-3/properties/context_file_type"},"fact":{"type":"object","required":["id","value","date","indicator","unit","comment","blocked"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Уникальный идентификатор факта"},"value":{"type":"number","description":"Значение факта"},"date":{"type":"string","description":"Дата факта"},"unit":{"type":["null","string"],"description":"Единица измерения"},"indicator":{"type":"object","required":["indicator_id","composition_id","title"],"additionalProperties":false,"description":"Информация об индикаторе","properties":{"indicator_id":{"type":"string","description":"Идентификатор индикатора"},"composition_id":{"type":"string","description":"Идентификатор композиции индикатора"},"title":{"type":"string","description":"Название индикатора"}}},"analytics":{"type":"object","required":["id","title"],"additionalProperties":false,"description":"Информация об аналитике","properties":{"id":{"type":"string","description":"Идентификатор аналитики"},"title":{"type":["null","string"],"description":"Название аналитики"}}},"comment":{"type":["null","string"],"description":"Комментарий к факту"},"blocked":{"type":"boolean","description":"Заблокирован ли факт"}}}},"required":["project_id"]},"comment":{"type":["null","string"],"description":"Комментарий"},"url":{"type":"string","description":"Ссылка на файл"},"urls":{"type":"object","properties":{"big":{"type":"string","description":"Ссылка на оригинал (без сжатия)"},"medium":{"type":"string","description":"Ссылка на средний размер (сжатие в 2 раза)"},"small":{"type":"string","description":"Ссылка на маленький размер (сжатие в 4 раза)"}},"description":"Ссылки на файлы"},"user":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]}},"required":["id","add_time","title","extension","size_bytes","context","comment","url","user"]}}},"required":["data"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/file/{id}":{"delete":{"description":"Удалить файл","tags":["Эндпоинты управления файлами"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"Primary key","required":true,"in":"path","name":"id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"put":{"description":"Обновить запись о файле","tags":["Эндпоинты управления файлами"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"title":{"$ref":"#/definitions/def-3/properties/title"},"comment":{"type":["string","null"],"description":"Комментарий"}},"required":["title"]}},{"type":"string","maxLength":21,"minLength":21,"description":"Primary key","required":true,"in":"path","name":"id"},{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/file":{"delete":{"description":"Удалить несколько файлов за раз","tags":["Эндпоинты управления файлами"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"ids":{"type":"array","items":{"$ref":"#/definitions/def-3/properties/id"}}},"required":["ids"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/file":{"post":{"description":"Загрузить файл от лица администратора","tags":["Эндпоинты управления файлами"],"consumes":["multipart/form-data"],"parameters":[{"type":"string","format":"binary","required":false,"in":"formData","name":"file"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"url":{"type":"string","description":"url изображения"}},"required":["id","url"]}},"required":["message","result"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/gallery/{id}":{"get":{"description":"Получить изображение галереи по проекту","tags":["Эндпоинты получения галереи проекта"],"parameters":[{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"},{"type":"string","maxLength":21,"minLength":21,"description":"Primary key","required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"context":{"type":"object","properties":{"project_id":{"$ref":"#/definitions/def-3/properties/project_id"},"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21},"item":{"type":"object","required":["id","original_id","type","code","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"ID первоначального элемента","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"]},"title":{"description":"Наименование элемента проекта","type":"string"}}}},"required":["type","id","item"]},"fact_id":{"$ref":"#/definitions/def-3/properties/fact_id"},"bound_to":{"$ref":"#/definitions/def-3/properties/bound_to"},"file_type":{"$ref":"#/definitions/def-3/properties/context_file_type"},"fact":{"type":"object","required":["id","value","date","indicator","unit","comment","blocked"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Уникальный идентификатор факта"},"value":{"type":"number","description":"Значение факта"},"date":{"type":"string","description":"Дата факта"},"unit":{"type":["null","string"],"description":"Единица измерения"},"indicator":{"type":"object","required":["indicator_id","composition_id","title"],"additionalProperties":false,"description":"Информация об индикаторе","properties":{"indicator_id":{"type":"string","description":"Идентификатор индикатора"},"composition_id":{"type":"string","description":"Идентификатор композиции индикатора"},"title":{"type":"string","description":"Название индикатора"}}},"analytics":{"type":"object","required":["id","title"],"additionalProperties":false,"description":"Информация об аналитике","properties":{"id":{"type":"string","description":"Идентификатор аналитики"},"title":{"type":["null","string"],"description":"Название аналитики"}}},"comment":{"type":["null","string"],"description":"Комментарий к факту"},"blocked":{"type":"boolean","description":"Заблокирован ли факт"}}}},"required":["project_id"]},"comment":{"type":["null","string"],"description":"Комментарий"},"url":{"type":"string","description":"Ссылка на файл"},"urls":{"type":"object","properties":{"big":{"type":"string","description":"Ссылка на оригинал (без сжатия)"},"medium":{"type":"string","description":"Ссылка на средний размер (сжатие в 2 раза)"},"small":{"type":"string","description":"Ссылка на маленький размер (сжатие в 4 раза)"}},"description":"Ссылки на файлы"},"user":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]}},"required":["id","add_time","title","extension","size_bytes","context","comment","url","user","urls"]}},"required":["data"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/project/{project_id}/gallery/list":{"post":{"description":"Получить список изображений галереи по проекту","tags":["Эндпоинты получения галереи проекта"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"filter":{"type":"object","properties":{"date_from":{"$ref":"#/definitions/def-3/properties/date_from"},"date_to":{"$ref":"#/definitions/def-3/properties/date_to"},"context":{"type":"object","properties":{"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21}},"required":["type","id"]}},"required":[]}},"required":["context"],"additionalProperties":false}},"required":["filter"]}},{"type":"string","maxLength":21,"minLength":21,"description":"ID проекта","required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"$ref":"#/definitions/def-3/properties/id"},"add_time":{"$ref":"#/definitions/def-3/properties/add_time"},"title":{"$ref":"#/definitions/def-3/properties/title"},"extension":{"$ref":"#/definitions/def-3/properties/extension"},"size_bytes":{"$ref":"#/definitions/def-3/properties/size_bytes"},"context":{"type":"object","properties":{"project_id":{"$ref":"#/definitions/def-3/properties/project_id"},"entity":{"type":"object","properties":{"type":{"$ref":"#/definitions/def-3/properties/entity_type"},"id":{"type":"string","description":"id ссылаемой сущности (original_id для типов common / milestone)","minLength":21,"maxLength":21},"item":{"type":"object","required":["id","original_id","type","code","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID элемента проекта","minLength":21,"maxLength":21},"original_id":{"type":"string","description":"ID первоначального элемента","minLength":21,"maxLength":21},"type":{"description":"Тип элемента проекта","type":"string","enum":["milestone","common","parent","pointer"]},"code":{"description":"Код элемента проекта","type":["null","string"]},"title":{"description":"Наименование элемента проекта","type":"string"}}}},"required":["type","id","item"]},"fact_id":{"$ref":"#/definitions/def-3/properties/fact_id"},"bound_to":{"$ref":"#/definitions/def-3/properties/bound_to"},"file_type":{"$ref":"#/definitions/def-3/properties/context_file_type"},"fact":{"type":"object","required":["id","value","date","indicator","unit","comment","blocked"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"Уникальный идентификатор факта"},"value":{"type":"number","description":"Значение факта"},"date":{"type":"string","description":"Дата факта"},"unit":{"type":["null","string"],"description":"Единица измерения"},"indicator":{"type":"object","required":["indicator_id","composition_id","title"],"additionalProperties":false,"description":"Информация об индикаторе","properties":{"indicator_id":{"type":"string","description":"Идентификатор индикатора"},"composition_id":{"type":"string","description":"Идентификатор композиции индикатора"},"title":{"type":"string","description":"Название индикатора"}}},"analytics":{"type":"object","required":["id","title"],"additionalProperties":false,"description":"Информация об аналитике","properties":{"id":{"type":"string","description":"Идентификатор аналитики"},"title":{"type":["null","string"],"description":"Название аналитики"}}},"comment":{"type":["null","string"],"description":"Комментарий к факту"},"blocked":{"type":"boolean","description":"Заблокирован ли факт"}}}},"required":["project_id"]},"comment":{"type":["null","string"],"description":"Комментарий"},"url":{"type":"string","description":"Ссылка на файл"},"urls":{"type":"object","properties":{"big":{"type":"string","description":"Ссылка на оригинал (без сжатия)"},"medium":{"type":"string","description":"Ссылка на средний размер (сжатие в 2 раза)"},"small":{"type":"string","description":"Ссылка на маленький размер (сжатие в 4 раза)"}},"description":"Ссылки на файлы"},"user":{"type":"object","properties":{"id":{"type":"string","description":"id пользователя, загрузившего файл"},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"required":["id"]}},"required":["id","add_time","title","extension","size_bytes","context","comment","url","user","urls"]}}},"required":["data"]}},"400":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/feed/list":{"post":{"summary":"Лента событий","description":"Лента событий","tags":["Лента событий"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"scale":{"type":"string","enum":["week","month","all"],"description":"Масштабирование","default":"week"},"project_ids":{"type":"array","items":{"$ref":"#/definitions/def-4/properties/project_id"},"description":"Фильтр по идентификаторам проекта"},"event_codes":{"type":"array","items":{"type":"string","description":"Код события"}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","required":["id","date","title","user","code","group","context"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"date":{"type":"string","format":"date","description":"Дата события"},"title":{"type":"string","format":"string","description":"Имя события"},"user":{"type":"object","additionalProperties":false,"required":["id"],"properties":{"id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"first_name":{"type":"string","format":"string","description":"first_name"},"middle_name":{"type":"string","format":"string","description":"middle_name"},"last_name":{"type":"string","format":"string","description":"last_name"}}},"code":{"type":"string","format":"string","description":"Код события"},"group":{"type":"string","format":"string","description":"Группа события"},"context":{"type":"object","additionalProperties":false,"required":["project_id","title"],"properties":{"project_id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"project_version_id":{"type":"string","description":"ID сущности","minLength":21,"maxLength":21},"code":{"type":"string","description":"Уникальный код сущности","maxLength":100},"title":{"type":"string","description":"Наименование элемента"}}}}}}},"required":["result"]}}}}},"/v1/feed/tree":{"post":{"summary":"Дерево событий ленты","description":"Дерево событий ленты","tags":["Лента событий"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string","description":"Код группы"},"title":{"type":"string","description":"Название группы"},"events":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string","description":"Код события"},"title":{"type":"string","description":"Название события"}},"required":["code","title"]},"description":"События группы"}},"required":["code","title","events"]}}},"required":["message","result"]}}}}},"/v1/feed/subscribe":{"post":{"summary":"Подписка на события ленты","description":"Подписка на события ленты","tags":["Лента событий"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"project_ids":{"type":"array","items":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21}},"event_codes":{"type":"array","items":{"type":"string","description":"Код события"}}},"required":["project_ids","event_codes"]}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/feed/subscribe/list":{"get":{"summary":"Получение списка подписок на события ленты","description":"Получение списка подписок на события ленты","tags":["Лента событий"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_ids":{"type":"array","items":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21}},"event_codes":{"type":"array","items":{"type":"string","description":"Код события"}}},"required":["project_ids","event_codes"]}},"required":["message","result"]}}}}},"/v1/document/list":{"get":{"description":"Получение списка документов по пространству","tags":["Хранилище документов"],"parameters":[{"type":["string","null"],"description":"ID папки","minLength":21,"maxLength":21,"required":false,"in":"query","name":"folder_id"},{"type":["string","null"],"description":"Строка поиска","minLength":3,"maxLength":30,"required":false,"in":"query","name":"search_query"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"breadcrumbs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100}},"required":["id","title"]}},"entities":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder_id":{"type":["null","string"],"description":"ID папки","minLength":21,"maxLength":21},"element_type":{"type":"string","enum":["folder","table"],"description":"Тип элемента"}},"required":["id","title","folder_id","element_type"]}}},"required":["breadcrumbs","entities"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/document/flat/list":{"get":{"description":"Получение списка документов по пространству","tags":["Хранилище документов"],"parameters":[{"type":"boolean","description":"Флаг, указывающий, исключать ли информацию о папке из ответа","required":false,"in":"query","name":"without_folder"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder_id":{"type":["null","string"],"description":"ID папки","minLength":21,"maxLength":21},"element_type":{"type":"string","enum":["folder","table"],"description":"Тип элемента"}},"required":["id","title","folder_id","element_type"]}}},"required":["message","result"]}}}}},"/v1/document/{id}":{"delete":{"description":"Удалить документ","tags":["Хранилище документов"],"parameters":[{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение данных документа по ID","tags":["Хранилище документов"],"parameters":[{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder":{"type":["null","object"],"properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100}}},"element_type":{"type":"string","enum":["folder","table"],"description":"Тип элемента"}},"required":["id","title","folder"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/document/table":{"post":{"description":"Создать документов типа таблица","tags":["Хранилище документов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["title","folder_id"],"additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder_id":{"type":["string","null"],"description":"ID папки","minLength":21,"maxLength":21},"raw_data":{"type":["string","null"],"description":"Данные"},"plugins":{"type":"array","items":{"type":"object","minProperties":1,"additionalProperties":true},"description":"Набор плагинов"}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/document/folder":{"post":{"description":"Создать папку документов","tags":["Хранилище документов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["title","folder_id"],"additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder_id":{"type":["string","null"],"description":"ID папки","minLength":21,"maxLength":21}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/document/folder/{id}":{"patch":{"description":"Обновить папку документов","tags":["Хранилище документов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["title","folder_id"],"additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder_id":{"type":["string","null"],"description":"ID папки","minLength":21,"maxLength":21}}}},{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/document/table/{id}":{"patch":{"description":"Обновить документ типа таблица","tags":["Хранилище документов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["title","folder_id"],"additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder_id":{"type":["string","null"],"description":"ID папки","minLength":21,"maxLength":21},"raw_data":{"type":["string","null"],"description":"Данные"},"plugins":{"type":"array","items":{"type":"object","minProperties":1,"additionalProperties":true},"description":"Набор плагинов"}}}},{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение данных таблицы по ID","tags":["Хранилище документов"],"parameters":[{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"folder":{"type":["null","object"],"properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100}}},"element_type":{"type":"string","enum":["folder","table"],"description":"Тип элемента"},"raw_data":{"type":["null","string"],"description":"Данные"},"plugins":{"type":"array","items":{"type":"object","minProperties":1,"additionalProperties":true},"description":"Набор плагинов"}},"required":["id","title","folder","raw_data","element_type","plugins"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/document/{id}/roles":{"patch":{"description":"Обновление ролей документа","tags":["Хранилище документов"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"user_ids":{"type":"array","items":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21}}},"additionalProperties":false,"required":["id","user_ids"]}},"unique_permission":{"type":"boolean","default":false,"description":"Признак уникальных прав доступа"}},"additionalProperties":false,"required":["roles","unique_permission"]}},{"type":"string","description":"ID документа","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение списка ролей документа","tags":["Хранилище документов"],"parameters":[{"type":"string","description":"ID документа","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"additionalProperties":false,"required":["id","first_name","last_name","middle_name"]}}},"additionalProperties":false,"required":["id","users"]}},"unique_permission":{"type":"boolean","default":false,"description":"Признак уникальных прав доступа"}},"additionalProperties":false,"required":["roles","unique_permission"]}},"required":["message","result"]}}}}},"/v1/object-store/list":{"get":{"description":"Получение списка хранилищ по пространству","tags":["Хранилище произвольных данных"],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"description":{"type":["null","string"],"description":"Описание хранилища","maxLength":500},"storage_type":{"type":"string","description":"Тип хранилища","default":"default","enum":["default","sql"]}},"required":["id","title","description","storage_type"],"additionalProperties":false}}},"required":["result"]}}}}},"/v1/object-store/{id}/meta":{"get":{"description":"Получение метаданных хранилища по ID","tags":["Хранилище произвольных данных"],"parameters":[{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"description":{"type":["null","string"],"description":"Описание хранилища","maxLength":500},"storage_type":{"type":"string","description":"Тип хранилища","default":"default","enum":["default","sql"]}},"required":["id","title","description","storage_type"],"additionalProperties":false}}}}}}},"/v1/object-store":{"post":{"description":"Создать хранилище","tags":["Хранилище произвольных данных"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["title","description"],"additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"description":{"type":["string","null"],"description":"Описание хранилища","maxLength":500},"raw_data":{"type":"string","description":"Данные"},"storage_type":{"type":"string","description":"Тип хранилища","default":"default","enum":["default","sql"]}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/object-store/{id}/sql-query":{"post":{"description":"Выполнить sql запрос к хранилищу","tags":["Хранилище произвольных данных"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["query"],"additionalProperties":false,"properties":{"query":{"type":"string","description":"SQL запрос к хранилищу"}}}},{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"string","description":"Результат выполнения SQL запроса"}},"required":["message"]}}}}},"/v1/object-store/{id}":{"patch":{"description":"Обновить хранилище","tags":["Хранилище произвольных данных"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"additionalProperties":false,"properties":{"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"description":{"type":["string","null"],"description":"Описание хранилища","maxLength":500},"raw_data":{"type":["string","null"],"description":"Данные"}}}},{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удалить хранилище","tags":["Хранилище произвольных данных"],"parameters":[{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение данных хранилища по ID","tags":["Хранилище произвольных данных"],"parameters":[{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21},"title":{"type":"string","description":"Наименование хранилища","minLength":1,"maxLength":100},"description":{"type":["null","string"],"description":"Описание хранилища","maxLength":500},"raw_data":{"type":["null","string"],"description":"Данные"},"storage_type":{"type":"string","description":"Тип хранилища","default":"default","enum":["default","sql"]}},"required":["id","title","description","raw_data","storage_type"],"additionalProperties":false}}}}}}},"/v1/object-store/{id}/roles":{"patch":{"description":"Обновление ролей хранилища","tags":["Хранилище произвольных данных"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"user_ids":{"type":"array","items":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21}}},"additionalProperties":false,"required":["id","user_ids"]}}},"additionalProperties":false,"required":["roles"]}},{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение списка ролей хранилища","tags":["Хранилище произвольных данных"],"parameters":[{"type":"string","description":"ID хранилища","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID роли","minLength":21,"maxLength":21},"users":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID пользователя","minLength":21,"maxLength":21},"first_name":{"type":"string","description":"Имя"},"last_name":{"type":"string","description":"Фамилия"},"middle_name":{"type":"string","description":"Отчество"}},"additionalProperties":false,"required":["id","first_name","last_name","middle_name"]}}},"additionalProperties":false,"required":["id","users"]}}},"additionalProperties":false,"required":["roles"]}},"required":["message","result"]}}}}},"/v1/project/{project_id}/version/comparable":{"patch":{"description":"Обновление списка версий 2.0, выбранных для сравнения","tags":["Настройки"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"version_ids":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21}}},"required":["version_ids"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получение списка версий 2.0, выбранных для сравнения","tags":["Настройки"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"version_ids":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21}}},"required":["version_ids"]}},"required":["message","result"]}}}}},"/v1/project/{project_id}/version/column-settings":{"get":{"description":"Получение настроек колонок версий 2.0","tags":["Настройки"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"columns":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID версии","minLength":21,"maxLength":21},"title":{"type":["null","string"],"description":"Название версии"},"is_current":{"type":"boolean","description":"Является ли версия базовой"}},"required":["id","title","is_current"]}},"rows":{"type":"object","properties":{"common":{"type":"array","items":{"type":"object","properties":{"row_type":{"type":"string","description":"Тип строки"},"title":{"type":"string","description":"Название поля"},"selected_versions":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21},"description":"Список отмеченных версий"},"only_current":{"type":"boolean","description":"Опция доступна только для базовой версии"},"only_comparable":{"type":"boolean","description":"Опция доступна только для сравниваемых версий"}},"additionalProperties":false,"required":["row_type","title","selected_versions"]}},"indicators":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"title":{"type":"string","description":"Название показателя"},"analytics":{"type":"object","properties":{"catalog_id":{"type":"string","description":"ID каталога аналитики","minLength":21,"maxLength":21},"catalog_title":{"type":"string","description":"Название каталога аналитики"},"element_ids":{"type":"array","items":{"type":"string","description":"ID элемента аналитики","minLength":21,"maxLength":21},"description":"Список ID элементов аналитики показателя"}},"additionalProperties":false,"required":["catalog_id","catalog_title","element_ids"]},"options":{"type":"array","items":{"type":"object","properties":{"row_type":{"type":"string","description":"Тип строки"},"title":{"type":"string","description":"Название опции"},"selected_versions":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21},"description":"Список отмеченных версий"},"only_current":{"type":"boolean","description":"Опция доступна только для базовой версии"}},"additionalProperties":false,"required":["row_type","title","selected_versions"]}}},"additionalProperties":false,"required":["id","title","options"]}},"attributes":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID атрибута","minLength":21,"maxLength":21},"title":{"type":"string","description":"Название атрибута"},"selected_versions":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21},"description":"Список отмеченных версий"}},"additionalProperties":false,"required":["id","title","selected_versions"]}}},"additionalProperties":false,"required":["common","indicators","attributes"]}},"required":["project_id","columns","rows"]}},"required":["message","result"]}}}},"put":{"description":"Обновление настроек колонок версий 2.0","tags":["Настройки"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"rows":{"type":"object","properties":{"common":{"type":"array","items":{"type":"object","properties":{"row_type":{"type":"string","description":"Тип строки"},"selected_versions":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21},"description":"Список отмеченных версий"}},"additionalProperties":false,"required":["row_type","selected_versions"]}},"indicators":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID показателя","minLength":21,"maxLength":21},"analytics":{"type":"object","properties":{"element_ids":{"type":"array","items":{"type":"string","description":"ID элемента аналитики","minLength":21,"maxLength":21},"description":"Список ID элементов аналитики показателя"}},"additionalProperties":false,"required":["element_ids"]},"options":{"type":"array","items":{"type":"object","properties":{"row_type":{"type":"string","description":"Тип строки"},"selected_versions":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21},"description":"Список отмеченных версий"}},"additionalProperties":false,"required":["row_type","selected_versions"]}}},"additionalProperties":false,"required":["id","options"]}},"attributes":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"ID атрибута","minLength":21,"maxLength":21},"selected_versions":{"type":"array","items":{"type":"string","description":"ID версии","minLength":21,"maxLength":21},"description":"Список отмеченных версий"}},"additionalProperties":false,"required":["id","selected_versions"]}}},"additionalProperties":false,"required":["common","indicators","attributes"]}},"additionalProperties":false,"required":["rows"]}},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"path","name":"project_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/settings/layout/list":{"get":{"description":"Получить список макетов","tags":["Макеты"],"parameters":[{"description":"Область действия","type":"string","enum":["chart","item_report","dashboard"],"required":true,"in":"query","name":"area"},{"description":"Уровень доступа","type":"string","enum":["personal","public"],"required":false,"in":"query","name":"access_level"},{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":false,"in":"query","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":false,"in":"query","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":[],"additionalProperties":false,"properties":{"personal_list":{"type":"array","items":{"type":"object","required":["id","update_time","owner","title","is_default","is_owner"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"owner":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"is_default":{"description":"Признак макета по-умолчанию","type":"boolean"},"is_owner":{"description":"Признак владельца макета","type":"boolean"}}}},"public_list":{"type":"array","items":{"type":"object","required":["id","update_time","owner","title","is_default","is_owner"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"owner":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"is_default":{"description":"Признак макета по-умолчанию","type":"boolean"},"is_owner":{"description":"Признак владельца макета","type":"boolean"}}}}}}},"required":["message","result"]}}}}},"/v1/settings/layout/{id}":{"delete":{"description":"Удалить макет","tags":["Макеты"],"parameters":[{"type":"string","description":"ID макета","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/settings/layout-chart":{"post":{"description":"Создать макет графика","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["access_level","title","diagram_scale","show_critical_paths","show_item_type_icon","show_dependencies","show_resources","filters","base_columns","attribute_columns","indicator_columns"],"additionalProperties":false,"properties":{"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"diagram_scale":{"description":"Масштаб диаграммы","type":"string","enum":["day","week","month","quarter","year"]},"show_critical_paths":{"description":"Отображать критические пути","type":"boolean"},"show_item_type_icon":{"description":"Отображать иконки типа строки","type":"boolean"},"show_dependencies":{"description":"Отображать связи","type":"boolean"},"show_resources":{"description":"Отображать панель ресурсов","type":"boolean"},"filters":{"description":"Фильтры","type":"object","required":[],"additionalProperties":false,"properties":{"item_type":{"description":"Тип строки","type":"string","enum":["common","milestone"]},"priorities":{"description":"Список приоритетов","type":"array","items":{"description":"Приоритет","type":"string","enum":["low","medium","high"]}},"start_date":{"description":"Начальная дата","type":"string","format":"date"},"end_date":{"description":"Конечная дата","type":"string","format":"date"}}},"base_columns":{"description":"Список базовых столбцов","type":"array","items":{"type":"object","required":["column_name","width"],"additionalProperties":false,"properties":{"column_name":{"description":"Наименование столбца","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"attribute_columns":{"description":"Список столбцов для атрибутов","type":"array","items":{"type":"object","required":["attribute_id","width"],"additionalProperties":false,"properties":{"attribute_id":{"description":"ID атрибута из справочника","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"indicator_columns":{"description":"Список столбцов для показателей","type":"array","items":{"type":"object","required":["indicator_id","width"],"additionalProperties":false,"properties":{"indicator_id":{"description":"ID показателя из справочника","type":"string"},"analytics_element_id":{"description":"ID аналитики показателя (пользовательский справочник)","type":"string"},"width":{"description":"Ширина","type":"number"}}}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/settings/layout-chart/{id}":{"get":{"description":"Получить макет для области Chart","tags":["Макеты"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":false,"in":"query","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":false,"in":"query","name":"project_version_id"},{"type":"string","description":"ID макета","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["id","update_time","owner","title","diagram_scale","show_critical_paths","show_item_type_icon","show_dependencies","show_resources","filters","base_columns","attribute_columns","indicator_columns"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"owner":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"diagram_scale":{"description":"Масштаб диаграммы","type":"string","enum":["day","week","month","quarter","year"]},"show_critical_paths":{"description":"Отображать критические пути","type":"boolean"},"show_item_type_icon":{"description":"Отображать иконки типа строки","type":"boolean"},"show_dependencies":{"description":"Отображать связи","type":"boolean"},"show_resources":{"description":"Отображать панель ресурсов","type":"boolean"},"filters":{"description":"Фильтры","type":"object","required":[],"additionalProperties":false,"properties":{"item_type":{"description":"Тип строки","type":"string","enum":["common","milestone"]},"priorities":{"description":"Список приоритетов","type":"array","items":{"description":"Приоритет","type":"string","enum":["low","medium","high"]}},"start_date":{"description":"Начальная дата","type":"string","format":"date"},"end_date":{"description":"Конечная дата","type":"string","format":"date"}}},"base_columns":{"description":"Список базовых столбцов","type":"array","items":{"type":"object","required":["column_name","width"],"additionalProperties":false,"properties":{"column_name":{"description":"Наименование столбца","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"attribute_columns":{"description":"Список столбцов для атрибутов","type":"array","items":{"type":"object","required":["attribute_id","width"],"additionalProperties":false,"properties":{"attribute_id":{"description":"ID атрибута из справочника","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"indicator_columns":{"description":"Список столбцов для показателей","type":"array","items":{"type":"object","required":["indicator_id","width"],"additionalProperties":false,"properties":{"indicator_id":{"description":"ID показателя из справочника","type":"string"},"analytics_element_id":{"description":"ID аналитики показателя (пользовательский справочник)","type":"string"},"width":{"description":"Ширина","type":"number"}}}}}}},"required":["message","result"]}}}},"patch":{"description":"Обновить макет графика","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"additionalProperties":false,"properties":{"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"diagram_scale":{"description":"Масштаб диаграммы","type":"string","enum":["day","week","month","quarter","year"]},"show_critical_paths":{"description":"Отображать критические пути","type":"boolean"},"show_item_type_icon":{"description":"Отображать иконки типа строки","type":"boolean"},"show_dependencies":{"description":"Отображать связи","type":"boolean"},"show_resources":{"description":"Отображать панель ресурсов","type":"boolean"},"filters":{"description":"Фильтры","type":"object","required":[],"additionalProperties":false,"properties":{"item_type":{"description":"Тип строки","type":"string","enum":["common","milestone"]},"priorities":{"description":"Список приоритетов","type":"array","items":{"description":"Приоритет","type":"string","enum":["low","medium","high"]}},"start_date":{"description":"Начальная дата","type":"string","format":"date"},"end_date":{"description":"Конечная дата","type":"string","format":"date"}}},"base_columns":{"description":"Список базовых столбцов","type":"array","items":{"type":"object","required":["column_name","width"],"additionalProperties":false,"properties":{"column_name":{"description":"Наименование столбца","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"attribute_columns":{"description":"Список столбцов для атрибутов","type":"array","items":{"type":"object","required":["attribute_id","width"],"additionalProperties":false,"properties":{"attribute_id":{"description":"ID атрибута из справочника","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"indicator_columns":{"description":"Список столбцов для показателей","type":"array","items":{"type":"object","required":["indicator_id","width"],"additionalProperties":false,"properties":{"indicator_id":{"description":"ID показателя из справочника","type":"string"},"analytics_element_id":{"description":"ID аналитики показателя (пользовательский справочник)","type":"string"},"width":{"description":"Ширина","type":"number"}}}}}}},{"type":"string","description":"ID макета","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/settings/layout-chart/default":{"post":{"description":"Создать макет проекта по умолчанию","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id","layout_id"],"additionalProperties":false,"properties":{"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"layout_id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"delete":{"description":"Удалить макет проекта по умолчанию","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["project_id"],"additionalProperties":false,"properties":{"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}},"get":{"description":"Получить макет для проекта по умолчанию","tags":["Макеты"],"parameters":[{"type":"string","description":"ID проекта","minLength":21,"maxLength":21,"required":true,"in":"query","name":"project_id"},{"type":"string","description":"ID версии проекта","minLength":21,"maxLength":21,"required":false,"in":"query","name":"project_version_id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":[],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"owner":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"diagram_scale":{"description":"Масштаб диаграммы","type":"string","enum":["day","week","month","quarter","year"]},"show_critical_paths":{"description":"Отображать критические пути","type":"boolean"},"show_item_type_icon":{"description":"Отображать иконки типа строки","type":"boolean"},"show_dependencies":{"description":"Отображать связи","type":"boolean"},"show_resources":{"description":"Отображать панель ресурсов","type":"boolean"},"filters":{"description":"Фильтры","type":"object","required":[],"additionalProperties":false,"properties":{"item_type":{"description":"Тип строки","type":"string","enum":["common","milestone"]},"priorities":{"description":"Список приоритетов","type":"array","items":{"description":"Приоритет","type":"string","enum":["low","medium","high"]}},"start_date":{"description":"Начальная дата","type":"string","format":"date"},"end_date":{"description":"Конечная дата","type":"string","format":"date"}}},"base_columns":{"description":"Список базовых столбцов","type":"array","items":{"type":"object","required":["column_name","width"],"additionalProperties":false,"properties":{"column_name":{"description":"Наименование столбца","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"attribute_columns":{"description":"Список столбцов для атрибутов","type":"array","items":{"type":"object","required":["attribute_id","width"],"additionalProperties":false,"properties":{"attribute_id":{"description":"ID атрибута из справочника","type":"string"},"width":{"description":"Ширина","type":"number"}}}},"indicator_columns":{"description":"Список столбцов для показателей","type":"array","items":{"type":"object","required":["indicator_id","width"],"additionalProperties":false,"properties":{"indicator_id":{"description":"ID показателя из справочника","type":"string"},"analytics_element_id":{"description":"ID аналитики показателя (пользовательский справочник)","type":"string"},"width":{"description":"Ширина","type":"number"}}}}}}},"required":["message","result"]}}}}},"/v1/settings/layout-item-report":{"post":{"description":"Создать макет для отчета по исполнению проекта","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["access_level","title","project_id","item_ids","item_without_indicators","status_calculation_mode","indicator_composition_ids","scale","columns","rows","coloring_rows_by_status","transpose_table","show_graph_gantt","show_lag","filters"],"additionalProperties":false,"properties":{"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"item_ids":{"description":"Список идентификаторов элементов","type":"array","items":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21}},"item_without_indicators":{"description":"Признак \"Отображать строки без показателя\"","type":"boolean"},"status_calculation_mode":{"description":"Способ расчёта статуса","type":"string","enum":["current_period_start","current_period_end"]},"indicator_composition_ids":{"description":"Выбранные показатели","type":"array","items":{"type":"string","description":"Идентификатор показателя","minLength":21,"maxLength":21}},"scale":{"description":"Масштаб","type":"string","enum":["week","month"]},"columns":{"description":"Выбранные колонки","type":"array","items":{"type":"string","description":"колонка"}},"rows":{"description":"Выбранные строки","type":"array","items":{"type":"string","description":"строка"}},"coloring_rows_by_status":{"description":"Окраска строк по статусам","type":"boolean"},"transpose_table":{"description":"Транспонирование таблицы","type":"boolean"},"show_graph_gantt":{"description":"Графическая часть","type":"boolean"},"show_lag":{"description":"Показать отставание работ","type":"boolean"},"filters":{"description":"Фильтры","type":"object","required":[],"additionalProperties":false,"properties":{"row_types":{"description":"Тип строки","type":"string","enum":["common","milestone"]},"diff_type":{"description":"Типо строки с отклонением","type":"string","enum":["common","indicators"]},"rows_with_diff":{"description":"Только строки с отклонением","type":"boolean"},"diff_more_than_value":{"description":"Строки с отклонением больше чем","type":"boolean"},"diff_less_than_value":{"description":"Строки с отклонением меньше чем","type":"boolean"},"rows_more_or_less_than_diff_value":{"description":"Отклонение","type":"number"},"hide_completed_works":{"description":"Скрыть завершенные работы","type":"boolean"},"hide_not_started_works":{"description":"Скрыть неначатые работы","type":"boolean"},"hide_indicators":{"description":"Скрыть показатели","type":"boolean"}}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/settings/layout-item-report/{id}":{"get":{"description":"Получить макет для отчета по исполнению проекта","tags":["Макеты"],"parameters":[{"type":"string","description":"ID макета","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["maquetteMeta","maquetteData"],"additionalProperties":false,"properties":{"maquetteMeta":{"type":"object","required":["id","update_time","owner","title","access_level","is_owner"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"owner":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"is_owner":{"description":"Признак владельца макета","type":"boolean"}}},"maquetteData":{"type":"object","required":["project","item_ids","item_without_indicators","status_calculation_mode","indicator_composition_ids","scale","columns","rows","coloring_rows_by_status","transpose_table","show_graph_gantt","show_lag","filters"],"additionalProperties":false,"properties":{"project":{"type":"object","required":["id","title"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"title":{"description":"Наименование проекта","type":"string"}}},"item_ids":{"description":"Список идентификаторов элементов","type":"array","items":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21}},"item_without_indicators":{"description":"Признак \"Отображать строки без показателя\"","type":"boolean"},"status_calculation_mode":{"description":"Способ расчёта статуса","type":"string","enum":["current_period_start","current_period_end"]},"indicator_composition_ids":{"description":"Выбранные показатели","type":"array","items":{"type":"string","description":"Идентификатор показателя","minLength":21,"maxLength":21}},"scale":{"description":"Масштаб","type":"string","enum":["week","month"]},"columns":{"description":"Выбранные колонки","type":"array","items":{"type":"string","description":"колонка"}},"rows":{"description":"Выбранные строки","type":"array","items":{"type":"string","description":"строка"}},"coloring_rows_by_status":{"description":"Окраска строк по статусам","type":"boolean"},"transpose_table":{"description":"Транспонирование таблицы","type":"boolean"},"show_graph_gantt":{"description":"Графическая часть","type":"boolean"},"show_lag":{"description":"Показать отставание работ","type":"boolean"},"filters":{"description":"Фильтры","type":"object","required":[],"additionalProperties":false,"properties":{"row_types":{"description":"Тип строки","type":"string","enum":["common","milestone"]},"diff_type":{"description":"Типо строки с отклонением","type":"string","enum":["common","indicators"]},"rows_with_diff":{"description":"Только строки с отклонением","type":"boolean"},"diff_more_than_value":{"description":"Строки с отклонением больше чем","type":"boolean"},"diff_less_than_value":{"description":"Строки с отклонением меньше чем","type":"boolean"},"rows_more_or_less_than_diff_value":{"description":"Отклонение","type":"number"},"hide_completed_works":{"description":"Скрыть завершенные работы","type":"boolean"},"hide_not_started_works":{"description":"Скрыть неначатые работы","type":"boolean"},"hide_indicators":{"description":"Скрыть показатели","type":"boolean"}}}}}}}},"required":["message","result"]}}}},"patch":{"description":"Обновить макет отчета по исполнению проекта","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"additionalProperties":false,"properties":{"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"project_id":{"type":"string","description":"ID проекта","minLength":21,"maxLength":21},"item_ids":{"description":"Список идентификаторов элементов","type":"array","items":{"type":"string","description":"Идентификатор элемента","minLength":21,"maxLength":21}},"item_without_indicators":{"description":"Признак \"Отображать строки без показателя\"","type":"boolean"},"status_calculation_mode":{"description":"Способ расчёта статуса","type":"string","enum":["current_period_start","current_period_end"]},"indicator_composition_ids":{"description":"Выбранные показатели","type":"array","items":{"type":"string","description":"Идентификатор показателя","minLength":21,"maxLength":21}},"scale":{"description":"Масштаб","type":"string","enum":["week","month"]},"columns":{"description":"Выбранные колонки","type":"array","items":{"type":"string","description":"колонка"}},"rows":{"description":"Выбранные строки","type":"array","items":{"type":"string","description":"строка"}},"coloring_rows_by_status":{"description":"Окраска строк по статусам","type":"boolean"},"transpose_table":{"description":"Транспонирование таблицы","type":"boolean"},"show_graph_gantt":{"description":"Графическая часть","type":"boolean"},"show_lag":{"description":"Показать отставание работ","type":"boolean"},"filters":{"description":"Фильтры","type":"object","required":[],"additionalProperties":false,"properties":{"row_types":{"description":"Тип строки","type":"string","enum":["common","milestone"]},"diff_type":{"description":"Типо строки с отклонением","type":"string","enum":["common","indicators"]},"rows_with_diff":{"description":"Только строки с отклонением","type":"boolean"},"diff_more_than_value":{"description":"Строки с отклонением больше чем","type":"boolean"},"diff_less_than_value":{"description":"Строки с отклонением меньше чем","type":"boolean"},"rows_more_or_less_than_diff_value":{"description":"Отклонение","type":"number"},"hide_completed_works":{"description":"Скрыть завершенные работы","type":"boolean"},"hide_not_started_works":{"description":"Скрыть неначатые работы","type":"boolean"},"hide_indicators":{"description":"Скрыть показатели","type":"boolean"}}}}}},{"type":"string","description":"ID макета","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/settings/layout-dashboard":{"post":{"description":"Создать макет для дашборда","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":["access_level","title","visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"],"additionalProperties":false,"properties":{"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"visualization_selection":{"description":"Список виджетов с данными из хранилища - с выбором визуализации","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","widget_view_type","data_storage","category","aggregation"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"widget_view_type":{"description":"Тип визуализации","type":"string","enum":["circular","area","bar","table"]},"data_storage":{"description":"Тип строки с отклонением","type":"string"},"category":{"description":"Категории","type":"string"},"values":{"description":"Значения","type":"array","items":{"type":"string"}},"aggregation":{"description":"Способ агрегации значений","type":"string","enum":["summ","average_value","count"]}}}},"visualization_ready":{"description":"Список виджетов с данными из хранилища - с готовой визуализацией","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","data_storage"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"data_storage":{"description":"Идентификатор хранилища","type":"string"}}}},"text":{"description":"Список виджетов текст","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","data_type","text"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"data_type":{"description":"Тип данных","type":"string","enum":["markdown","apexchart"]},"text":{"description":"Текст","type":"string"}}}},"portfolio_health":{"description":"Список виджетов здоровье портфеля","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"kpi":{"description":"Список виджетов ключевые метрики","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","metrics"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"metrics":{"description":"Набор отображаемых метрик","type":"array","items":{"type":"string","enum":["total_revenues","total_expenses","profit","progress_average_deviation","milestones_fact_plan","most_lagging_project"]}}}}},"results":{"description":"Список виджетов результаты","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","widget_view_type","presentation","report_type"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"widget_view_type":{"description":"Тип визуализации","type":"string","enum":["area","bar","table"]},"presentation":{"description":"Настройка агрегации данных","type":"string","enum":["days","cumulative"]},"report_type":{"description":"Источник данных","type":"string","enum":["progress","indicator"]},"indicator":{"description":"Id показателя","type":"string"}}}},"delivery_timeline_chart":{"description":"Список виджетов сроки выполнения - график","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"delivery_timeline_table":{"description":"Список виджетов сроки выполнения - таблица","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"financial_metrics":{"description":"Список виджетов финансовые показатели проекта","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","report_type"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"revenue":{"description":"Список показателей “Выручка”","type":"array","items":{"type":"string"}},"expense":{"description":"Список показателей “Себестоимость”","type":"array","items":{"type":"string"}},"report_type":{"description":"Тип “Остаток”","type":"string","enum":["revenue","expense","profit"]}}}},"projects":{"description":"Список виджетов обзор проектов","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","columns"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"columns":{"description":"Колонки","type":"array","items":{"type":"string","enum":["project","status","progress_plan_on_date","progress_fact_on_date","progress_deviation_on_date","progress_vfact_on_date","progress_difference_on_date","finish_date_plan","finish_date_forecast","finish_date_deviation","last_verified_fact_input_date","cost_plan_on_date","cost_fact_on_date","cost_plan_all","cost_forecast_all","revenue_plan_on_date","revenue_fact_on_date","revenue_plan_all","revenue_forecast_all","last_fact_input_date"]}}}}},"external_url":{"description":"Список виджетов с сторонних сайтов, встраиваемых через iframe","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","url","height"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"url":{"description":"Адрес сайта","type":"string"},"height":{"description":"Высота iframe","type":"number"}}}}}}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21}},"required":["id"],"additionalProperties":false}},"required":["message","result"]}}}}},"/v1/settings/layout-dashboard/{id}":{"get":{"description":"Получить макет для дашборда","tags":["Макеты"],"parameters":[{"type":"string","description":"ID макета","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"},"result":{"type":"object","required":["maquetteMeta","maquetteData"],"additionalProperties":false,"properties":{"maquetteMeta":{"type":"object","required":["id","update_time","owner","title","access_level","is_owner"],"additionalProperties":false,"properties":{"id":{"type":"string","description":"ID макета","minLength":21,"maxLength":21},"update_time":{"description":"Время обновления","type":"string","format":"date-time"},"owner":{"type":"object","properties":{"first_name":{"type":"string"},"middle_name":{"type":"string"},"last_name":{"type":"string"}}},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"is_owner":{"description":"Признак владельца макета","type":"boolean"}}},"maquetteData":{"type":"object","required":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"],"additionalProperties":false,"properties":{"visualization_selection":{"description":"Список виджетов с данными из хранилища - с выбором визуализации","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","widget_view_type","data_storage","category","aggregation"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"widget_view_type":{"description":"Тип визуализации","type":"string","enum":["circular","area","bar","table"]},"data_storage":{"description":"Тип строки с отклонением","type":"string"},"category":{"description":"Категории","type":"string"},"values":{"description":"Значения","type":"array","items":{"type":"string"}},"aggregation":{"description":"Способ агрегации значений","type":"string","enum":["summ","average_value","count"]}}}},"visualization_ready":{"description":"Список виджетов с данными из хранилища - с готовой визуализацией","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","data_storage"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"data_storage":{"description":"Идентификатор хранилища","type":"string"}}}},"text":{"description":"Список виджетов текст","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","data_type","text"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"data_type":{"description":"Тип данных","type":"string","enum":["markdown","apexchart"]},"text":{"description":"Текст","type":"string"}}}},"portfolio_health":{"description":"Список виджетов здоровье портфеля","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"kpi":{"description":"Список виджетов ключевые метрики","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","metrics"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"metrics":{"description":"Набор отображаемых метрик","type":"array","items":{"type":"string","enum":["total_revenues","total_expenses","profit","progress_average_deviation","milestones_fact_plan","most_lagging_project"]}}}}},"results":{"description":"Список виджетов результаты","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","widget_view_type","presentation","report_type"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"widget_view_type":{"description":"Тип визуализации","type":"string","enum":["area","bar","table"]},"presentation":{"description":"Настройка агрегации данных","type":"string","enum":["days","cumulative"]},"report_type":{"description":"Источник данных","type":"string","enum":["progress","indicator"]},"indicator":{"description":"Id показателя","type":"string"}}}},"delivery_timeline_chart":{"description":"Список виджетов сроки выполнения - график","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"delivery_timeline_table":{"description":"Список виджетов сроки выполнения - таблица","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"financial_metrics":{"description":"Список виджетов финансовые показатели проекта","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","report_type"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"revenue":{"description":"Список показателей “Выручка”","type":"array","items":{"type":"string"}},"expense":{"description":"Список показателей “Себестоимость”","type":"array","items":{"type":"string"}},"report_type":{"description":"Тип “Остаток”","type":"string","enum":["revenue","expense","profit"]}}}},"projects":{"description":"Список виджетов обзор проектов","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","columns"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"columns":{"description":"Колонки","type":"array","items":{"type":"string","enum":["project","status","progress_plan_on_date","progress_fact_on_date","progress_deviation_on_date","progress_vfact_on_date","progress_difference_on_date","finish_date_plan","finish_date_forecast","finish_date_deviation","last_verified_fact_input_date","cost_plan_on_date","cost_fact_on_date","cost_plan_all","cost_forecast_all","revenue_plan_on_date","revenue_fact_on_date","revenue_plan_all","revenue_forecast_all","last_fact_input_date"]}}}}},"external_url":{"description":"Список виджетов с сторонних сайтов, встраиваемых через iframe","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","url","height"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"url":{"description":"Адрес сайта","type":"string"},"height":{"description":"Высота iframe","type":"number"}}}}}}}}},"required":["message","result"]}}}},"patch":{"description":"Обновить макет дашборда","tags":["Макеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","required":[],"additionalProperties":false,"properties":{"access_level":{"description":"Уровень доступа","type":"string","enum":["personal","public"]},"title":{"description":"Наименование макета","type":"string","maxLength":255,"minLength":1},"visualization_selection":{"description":"Список виджетов с данными из хранилища - с выбором визуализации","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","widget_view_type","data_storage","category","aggregation"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"widget_view_type":{"description":"Тип визуализации","type":"string","enum":["circular","area","bar","table"]},"data_storage":{"description":"Тип строки с отклонением","type":"string"},"category":{"description":"Категории","type":"string"},"values":{"description":"Значения","type":"array","items":{"type":"string"}},"aggregation":{"description":"Способ агрегации значений","type":"string","enum":["summ","average_value","count"]}}}},"visualization_ready":{"description":"Список виджетов с данными из хранилища - с готовой визуализацией","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","data_storage"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"data_storage":{"description":"Идентификатор хранилища","type":"string"}}}},"text":{"description":"Список виджетов текст","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","data_type","text"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"data_type":{"description":"Тип данных","type":"string","enum":["markdown","apexchart"]},"text":{"description":"Текст","type":"string"}}}},"portfolio_health":{"description":"Список виджетов здоровье портфеля","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"kpi":{"description":"Список виджетов ключевые метрики","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","metrics"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"metrics":{"description":"Набор отображаемых метрик","type":"array","items":{"type":"string","enum":["total_revenues","total_expenses","profit","progress_average_deviation","milestones_fact_plan","most_lagging_project"]}}}}},"results":{"description":"Список виджетов результаты","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","widget_view_type","presentation","report_type"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"widget_view_type":{"description":"Тип визуализации","type":"string","enum":["area","bar","table"]},"presentation":{"description":"Настройка агрегации данных","type":"string","enum":["days","cumulative"]},"report_type":{"description":"Источник данных","type":"string","enum":["progress","indicator"]},"indicator":{"description":"Id показателя","type":"string"}}}},"delivery_timeline_chart":{"description":"Список виджетов сроки выполнения - график","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"delivery_timeline_table":{"description":"Список виджетов сроки выполнения - таблица","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"}}}},"financial_metrics":{"description":"Список виджетов финансовые показатели проекта","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","report_type"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"revenue":{"description":"Список показателей “Выручка”","type":"array","items":{"type":"string"}},"expense":{"description":"Список показателей “Себестоимость”","type":"array","items":{"type":"string"}},"report_type":{"description":"Тип “Остаток”","type":"string","enum":["revenue","expense","profit"]}}}},"projects":{"description":"Список виджетов обзор проектов","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","projects","date","columns"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"projects":{"description":"Иерархический список проектов","type":"array","items":{"$ref":"#/definitions/def-6/properties/projects"}},"date":{"description":"Дата","type":"string"},"columns":{"description":"Колонки","type":"array","items":{"type":"string","enum":["project","status","progress_plan_on_date","progress_fact_on_date","progress_deviation_on_date","progress_vfact_on_date","progress_difference_on_date","finish_date_plan","finish_date_forecast","finish_date_deviation","last_verified_fact_input_date","cost_plan_on_date","cost_fact_on_date","cost_plan_all","cost_forecast_all","revenue_plan_on_date","revenue_fact_on_date","revenue_plan_all","revenue_forecast_all","last_fact_input_date"]}}}}},"external_url":{"description":"Список виджетов с сторонних сайтов, встраиваемых через iframe","type":"array","items":{"type":"object","required":["widget_id","widget_order","widget_creation_method","widget_type","widget_title","widget_size","url","height"],"additionalProperties":false,"properties":{"widget_id":{"description":"Идентификатор виджета","type":"string"},"widget_order":{"description":"Порядок следования виджета","type":"number"},"widget_creation_method":{"description":"Способ создания виджета","type":"string","enum":["manual","pl_copilot"]},"widget_type":{"type":"string","enum":["visualization_selection","visualization_ready","text","portfolio_health","kpi","results","delivery_timeline_chart","delivery_timeline_table","financial_metrics","projects","external_url"]},"widget_title":{"description":"Название виджета","type":"string"},"widget_size":{"type":"string","enum":["full_size","two_thirds","half","one_thirds"]},"url":{"description":"Адрес сайта","type":"string"},"height":{"description":"Высота iframe","type":"number"}}}}}}},{"type":"string","description":"ID макета","minLength":21,"maxLength":21,"required":true,"in":"path","name":"id"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}},"/v1/pdf/report/works":{"post":{"description":"Получить отчет по работам","tags":["PDF Отчеты"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"data":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"project_id":{"type":"string"},"project_version_id":{"type":"string"},"entity_id":{"type":"string"},"parent_id":{"type":["string","null"]},"item_type":{"type":"string","enum":["common","parent","project"]},"code":{"type":"string"},"title":{"type":"string"},"plan":{"type":["number","null"]},"unit":{"type":["string","null"]},"plan_start_time":{"type":"string"},"plan_end_time":{"type":"string"},"plan_model_start_time":{"type":["string","null"]},"plan_model_end_time":{"type":["string","null"]},"critical_chain":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"reserve":{"type":"number"},"is_main":{"type":"boolean"}},"required":["id","reserve","is_main"],"additionalProperties":false}},"attributes":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"attribute_id":{"type":"string"},"value":{"type":["string","boolean","number","object"],"if":{"type":"object"},"then":{"properties":{"id":{"type":"string"},"title":{"type":"string"}},"required":["id","title"],"additionalProperties":false}}},"required":["id","attribute_id","value"],"additionalProperties":false},"nullable":true},"completed":{"type":"boolean"},"vfact_absolute":{"type":["number","null"]},"vfact_relative":{"type":["string","null"]},"plan_model_completion_backlog":{"type":["string","null"]},"plan_absolute":{"type":["string","number","null"]},"plan_relative":{"type":["string","number","null"]},"fact_absolute":{"type":["string","number","null"]},"fact_relative":{"type":["string","number","null"]},"plan_fact_diff_absolute":{"type":["string","number","null"]},"plan_fact_diff_relative":{"type":["string","number","null"]},"priority":{"type":["string","null"]},"status":{"type":["string","null"]},"priorityStatus":{"type":["string","null"]},"statusFlag":{"type":["string","null"]},"children":{"type":"array","items":{"$ref":"#/properties/data/properties/data/items"},"nullable":true}},"required":["project_id","project_version_id","entity_id","parent_id","item_type","code","title","plan","unit","plan_start_time","plan_end_time","plan_model_start_time","plan_model_end_time","critical_chain","completed","vfact_absolute","vfact_relative","plan_model_completion_backlog","plan_absolute","plan_relative","fact_absolute","fact_relative","plan_fact_diff_absolute","plan_fact_diff_relative","priority","status","priorityStatus","statusFlag"],"additionalProperties":false}},"columns":{"type":"array","items":{"type":"object","properties":{"key":{"type":["string","null"]},"title":{"type":"string"},"width":{"type":["string","number"]},"children":{"type":"array","items":{"$ref":"#/properties/data/properties/columns/items"},"nullable":true}},"required":["title"],"additionalProperties":false}}},"required":["data","columns"],"additionalProperties":false},"settings":{"type":"object","properties":{"format":{"type":"string","enum":["A0","A1","A2","A3","A4","A5","full"]},"landscape":{"type":"boolean"}},"required":["format","landscape"],"additionalProperties":false}},"required":["data","settings"],"additionalProperties":false}}],"responses":{"200":{"description":"Default Response","schema":{"type":"object"}}}}},"/v1/work/{work_id}":{"get":{"description":"Получение информации по work_id","tags":["Асинхронное взаимодействие и work info"],"parameters":[{"type":"string","description":"work_id","minLength":21,"maxLength":21,"required":true,"in":"path","name":"work_id"}],"responses":{}}},"/mcp":{"post":{"responses":{"200":{"description":"Default Response"}}}}},"host":"api.staging.po.ladcloud.ru","schemes":["https"],"consumes":["application/json"],"produces":["application/json"],"securityDefinitions":{"apiKey":{"type":"apiKey","name":"Authorization","in":"header"}},"security":[{"apiKey":[]}],"externalDocs":{"url":"https://glab.lad24.ru/project-office/project-office-backend/-/tree/master/docs","description":"Архитектура платформы"}}