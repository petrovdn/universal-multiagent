# Как добавить Redirect URI для Google Calendar

## Пошаговая инструкция

### Шаг 1: Откройте страницу Credentials
1. Перейдите в [Google Cloud Console](https://console.cloud.google.com/)
2. Убедитесь, что выбран правильный проект
3. В левом меню найдите **"APIs & Services"** → **"Credentials"**
   - Вы уже на этой странице! ✅

### Шаг 2: Откройте редактирование OAuth 2.0 Client ID

На странице Credentials в разделе **"OAuth 2.0 Client IDs"** найдите ваш клиент (вероятно, тот, который используется для Gmail).

**Способ 1: Кликните на имя клиента**
- Найдите строку с вашим OAuth 2.0 Client ID (тип "Web application")
- **Кликните на имя** клиента (название в первой колонке)
- Это откроет страницу редактирования

**Способ 2: Используйте меню действий**
- Если в колонке "Actions" есть три точки (⋮) или карандаш (✏️), кликните на них
- Выберите "Edit" или "Редактировать"

**Способ 3: Кликните на Client ID**
- Иногда можно кликнуть на сам Client ID (число во второй колонке)
- Это также откроет страницу редактирования

### Шаг 3: Добавьте Redirect URI

После открытия страницы редактирования:

1. Найдите раздел **"Authorized redirect URIs"** (Авторизованные URI перенаправления)
2. Нажмите кнопку **"+ ADD URI"** или **"+ Добавить URI"**
3. В появившемся поле введите:
   ```
   http://localhost:8000/api/integrations/google-calendar/callback
   ```
4. Нажмите **"ADD"** или **"Добавить"**

### Шаг 4: Сохраните изменения

1. Прокрутите страницу вниз
2. Нажмите кнопку **"SAVE"** или **"Сохранить"**
3. Дождитесь сообщения об успешном сохранении

### Шаг 5: Проверьте результат

В разделе "Authorized redirect URIs" теперь должны быть:
- `http://localhost:8000/api/integrations/gmail/callback` (если был добавлен ранее)
- `http://localhost:8000/api/integrations/google-calendar/callback` (новый)

## Важные замечания

⚠️ **Обратите внимание:**
- URI должен быть **точно** таким, как указано (с http, без https)
- Не добавляйте слеш в конце: `/callback` (не `/callback/`)
- Изменения могут вступить в силу сразу или через несколько секунд

## Если не можете найти кнопку редактирования

Если у вас только один OAuth 2.0 Client ID (например, "Apps Script"), который используется для других целей:

1. **Вариант 1:** Добавьте redirect URI к существующему клиенту (безопасно, если это ваш проект)
2. **Вариант 2:** Создайте новый OAuth 2.0 Client ID специально для этого приложения:
   - Нажмите **"+ Create credentials"** → **"OAuth client ID"**
   - Выберите тип: **"Web application"**
   - Название: например, "Universal Multiagent App"
   - В "Authorized redirect URIs" добавьте оба URI:
     - `http://localhost:8000/api/integrations/gmail/callback`
     - `http://localhost:8000/api/integrations/google-calendar/callback`
   - Сохраните и используйте новые Client ID и Client Secret

## После добавления URI

1. Обновите файл `.env` или переменные окружения, если создали новый клиент
2. Перезапустите приложение (если оно запущено)
3. Попробуйте подключить Google Calendar через интерфейс приложения

